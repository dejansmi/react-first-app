(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(471).concat([function(e,t,i){"use strict";(function(e,t){var n=i(0),s=i(6)(e),o=i(660),r=o.__super__.delegateEvents,a=o.__super__.undelegateEvents,l=/^(\S+)\s*(.*)$/;o.__super__.delegateEvents=function(){if(!t.browser)return this;for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return r.apply(this,i),this.globals&&n.each(this.globals,function(e,t){var i=e;if(n.isFunction(i)||(i=this[i]),i){var o=t.match(l);!function(e,t,i,n){var o;if("window"===t)o=window;else if("document"===t)o=document;else{if("body"!==t&&""!==t)return void s.warn("You can use only window, document and body in global events.");o="body"}Backbone.$(o).on(e+".delegateGlobals"+n.cid,i)}(o[1],o[2],n.bind(i,this),this)}},this),this},o.__super__.undelegateEvents=function(){if(!t.browser)return this;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s;return a.apply(this,i),this.globals&&(s=this,Backbone.$("body").off(".delegateGlobals"+s.cid),Backbone.$(document).off(".delegateGlobals"+s.cid),Backbone.$(window).off(".delegateGlobals"+s.cid)),this},e.exports=o.extend({serverRenderingEnabled:!0,hasPushState:"undefined"!=typeof window&&null!=window.history.pushState,seo:{space:" "},constructor:function(e){var t;n.extend(this,e);for(var i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];(t=o.prototype.constructor).call.apply(t,[this,e].concat(s))},tr:function(e,i){return!this.app&&t.browser&&(this.app=window.app),this.app.translator.tr(e,i)},extractHTML:function(e){return e||this.serverRenderingEnabled?Backbone.$.html(this.render().el):'<div id="'+this.id+'"></div>'},replaceHTML:function(){var e,t=this;(e=Backbone.$("> *",this.el)).css({position:"absolute",width:"100%"}),t.render().promise().then(function(){e.remove()})},findViews:function(e){var t=[];this.name?this.name.toLowerCase()===e.toLowerCase()&&(this.name!==e&&s.warn("Invalid case in view.name:",this.name," seeking: ",e),t.push(this)):s.warn("Unnamed view found:",this);return n.each(this.getViews(),function(i){n.isArray(i)&&n.each(i,function(i){t.push(i.findViews(e))},this)},this),n.flatten(t)},findView:function(e){if(this.name&&this.name===e)return this;for(var t,i=function(e){return n.chain(e).map(function(e){return n.isArray(e)?e:[e]}).flatten().value()}(this.views),s=0;s<i.length;s++)if(i[s].name===e)t=i[s];else{if(t)break;t=i[s].findView(e)}return t},beforeRender:function(){var e=this;if(e.__manager__)for(;e.__manager__.parent;)e=e.__manager__.parent;e.app&&(this.app=e.app);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.prepareRender.apply(this,i)},afterRender:function(){if(t.browser){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.clientAfterRender.apply(this,i),this.bindInterceptClick(),this.trigger("clientAfterRender",this)}},remove:function(){this.undelegateEvents();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.__super__.remove.apply(this,t)},clientAfterRender:function(){},prepareRender:function(){},setNotExistView:function(e,t,i,s){return void 0===i&&(i={}),void 0===s&&(s={}),s.remove&&this.getView(e)&&this.removeView(e),this.getView(e)||this.setView(e,new t(n.extend({app:this.app},i))),this.getView(e)},safeRemoveView:function(e){var t=e&&this.getView(e);return t&&t.remove()},bindInterceptClick:function(){window.app.features&&window.app.features.isFeatureOnValue("SPA navigation")&&this.$el.on("click","a:not([data-not-spa])",this.interceptClick.bind(this))},interceptClick:function(e){var t=e.currentTarget.getAttribute("href");this.shouldInterceptClick(t,e)&&!0===this.app.router.redirectTo(t)&&e.preventDefault()},shouldInterceptClick:function(e,t){if(!e||!this.hasPushState||t.shiftKey)return!1;var i=e.split("#");return!(i.length>1&&i[0]===window.location.pathname)&&"/"===e.slice(0,1)&&"//"!==e.slice(0,2)}})}).call(this,i(3)(e),i(5))},function(e,t,i){"use strict";e.exports.Base={rootClose:!1,standalone:!1,destroyOnHide:!1,nesting:0,type:"simple",hideOnScroll:!1,hideOnWindowBlur:!1,zIndex:5e3,displayEffect:"none",displayEffectSpeed:600,displayPosition:"absolute",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:100,displayHideTimeout:100,displayDisabled:!1,displayForce:!0,templateLinking:"parent",templatePosition:"auto",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","wright","wleft","auto"],templateOffset:{top:0,left:0},templateDimensionsWidth:0,templateDimensionsHeight:0,pointerShow:!1,pointerClassname:!1,pointerPosition:"auto",pointerPriority:["tm","rm","lm","bl","br","tl","tr","rt","rb","lt","lb","auto"],onShow:void 0},e.exports.PreviewFiles={type:"image",zIndex:2e3,hideOnScroll:!0,displayShowTimeout:230,displayHideTimeout:50,displayShow:"mouseenter",displayHide:"mouseleave",templateOffset:{top:0,left:7},templatePriority:[["r",-77],"wright","rm","rt","rb",["l",-77],"wleft","lm","lt","lb","bm","bl","br","tm","tl","tr"]},e.exports.SearchSettings={type:"html",rootClose:!0,displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0},pointerShow:!0},e.exports.FolderSettings={type:"html",rootClose:!0,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0},pointerShow:!0},e.exports.SearchByImageIcon={type:"html",rootClose:!0,displayEffect:"increase",displayShowTimeout:500,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0},pointerShow:!0},e.exports.SortingMenu={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:-7,left:0},pointerShow:!0},e.exports.SortingMenuEnterprise={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:3,left:0},pointerShow:!0},e.exports.Products={type:"html",rootClose:!0,displayEffect:"increase",displayPosition:"fixed",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:2,left:0},pointerShow:!0},e.exports.Product={type:"html",rootClose:!0,nesting:1,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.RebillProduct={displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:10,left:4},pointerShow:!0},e.exports.RebillProductDiscount={type:"html",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:10,left:4},pointerShow:!0},e.exports.ProductInfo={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.PriceTableVector={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.ViewInfoEditorial={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.Rollover={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"tm",templateOffset:{top:6,left:0},pointerShow:!0},e.exports.PriceTableVector={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.contributorLevel={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.ViewInfoEditorial={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.UserMenu={type:"html",rootClose:!0,displayEffect:"increase",displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:-9,left:4},pointerShow:!0,pointerPosition:"tr"},e.exports.LoginForm={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templateOffset:{top:2,left:0},pointerShow:!0},e.exports.Pager={type:"simple",rootClose:!0,displayShow:"click",displayHide:"keyup",displayShowTimeout:0,displayHideTimeout:0,pointerShow:!0,pointerPosition:"auto",pointerPriority:["tm","rm","lm","bl","br","tl","tr","rt","rb","lt","lb","auto"],templatePosition:"auto",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0}},e.exports.TaxStatus={type:"simple",rootClose:!0,displayShowTimeout:0,displayHideTimeout:0,pointerShow:!0,pointerPosition:"auto",pointerPriority:["tm","rm","lm","bl","br","tl","tr","rt","rb","lt","lb","auto"],templatePosition:"auto",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:5,left:0}},e.exports.SearchFilter={type:"simple",hideOnScroll:!0,displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:400,displayHideTimeout:200,pointerShow:!0,templatePosition:"rt",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:10,left:3}},e.exports.LanguagesSelector={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bl",templateOffset:{top:3,left:0},pointerShow:!0},e.exports.LanguagesSelectorFooter={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"tl",templateOffset:{top:3,left:-10},pointerShow:!0},e.exports.FavoritesPanelOptions={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templateLinking:"parent",templatePosition:"tl",templateOffset:{top:-1,left:0},pointerShow:!1},e.exports.FavoritesPanelCollaborate={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templateLinking:"parent",templatePosition:"tm",templateOffset:{top:-1,left:0},pointerShow:!1},e.exports.UserStatisticOptions={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:13,left:0},pointerShow:!0},e.exports.FoldersList={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"tm",templateOffset:{top:2,left:0},pointerShow:!1},e.exports.MerchantManagerCard={type:"html",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:3},templatePosition:"rm",pointerShow:!0},e.exports.MerchantFormLock={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],pointerShow:!0},e.exports.MarkPermissions={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],pointerShow:!0},e.exports.VatNumberHelp={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["br","bm","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],pointerShow:!0},e.exports.PlanConstructorHelp={type:"html",rootClose:!0,hideWithoutAnchor:!0,displayShowTimeout:0,displayHideTimeout:100,templatePosition:"bm",templatePriority:["bm","br","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:5,left:0},pointerShow:!0},e.exports.FlexibleCuratedInfo={type:"html",rootClose:!0,hideWithoutAnchor:!0,displayShowTimeout:0,displayHideTimeout:100,templatePosition:"bm",templatePriority:["bm","br","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:3,left:0},pointerShow:!0},e.exports.CurrencySelect={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayEffect:"none",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bm","bl","tr","rm","lm","tl","tm","rt","rb","lt","lb","auto"],templateOffset:{top:4,left:-5},pointerShow:!0},e.exports.Cards={type:"html",rootClose:!0,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:7,left:4},pointerShow:!0},e.exports.FeedbackForm={type:"html",rootClose:!0,hideOnKeyEscape:!0,displayShowTimeout:0,displayHideTimeout:100,templatePosition:"tm",templatePriority:["tm","bm","auto"],templateOffset:{top:5,left:0},pointerShow:!0},e.exports.FolderPermissions={type:"html",rootClose:!0,hideOnScroll:!0,nesting:1,zIndex:6e3,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templateOffset:{top:3,left:-1},pointerShow:!0},e.exports.downloadsActions={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:150,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["tm"],pointerShow:!0},e.exports.darkTitle={type:"simple",rootClose:!0,hideOnScroll:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0}},function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(0),o=i(16),r=i(471),a=i(22),l=i(62),c=i(472).Base,h=i(485),u=i(1600);e.exports=r.extend({name:"Tooltip",el:!1,template:u,content:void 0,classes:{},globals:{"resize window":"_onWindowResize","scroll window":"_onWindowScroll","blur window":"_onWindowBlur",keyup:"_onGlobalKeyup",click:"_onBodyClick"},opened:!1,inRender:!1,initialize:function(e){var t=this;void 0===e&&(e={}),this.params=(0,n.default)({},c,this.params,e.params),this.params.standalone||this.listenTo(l,"Tooltip:GlobalHide",function(e){return t.onGlobalHide(e)})},serialize:function(){return{id:this.cid,type:this.params.type,pointerShow:this.params.pointerShow,classes:a.classNames(this.classes)}},prepareRender:function(){this.prepareContent(),this.content&&this.setContent()},setContent:function(){this.setViews({"._content":this.content})},show:function(e,t){var i=this;clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout),this.showTimeout=setTimeout(function(){return i.toShow(e,t)},this.params.displayShowTimeout)},toShow:function(e,t){!this.params.displayDisabled&&this.isAllowedEvent(this.params.displayShow,this.params.displayHide,"show")&&(l.fire("Tooltip:GlobalHide",{cid:this.cid,type:this.params.type,nesting:this.params.nesting}),this.anchor=t&&t.anchor||e.currentTarget,t&&t.contentData&&this.content.setData&&this.content.setData(t.contentData),this.inRender=!0,this.render().promise().done(function(){this.el.style.display="none",this.appendToBody(),this.place(e),this.inRender=!1,this.trigger("rendered"),this.onShowCallback(t)}))},onGlobalHide:function(e){var t=e.cid,i=e.type,n=e.nesting;("all"===t||this.cid!==t&&this.params.type===i&&this.params.nesting===n)&&this.hide()},hide:function(e){var t=this;clearTimeout(this.showTimeout);var i=function(e){e?t.toHide():s.debounce(function(){return t.toHide()},t.params.displayHideTimeout)()},n=this.isOpen();!n&&this.inRender?this.once("rendered",function(){return i(!!e)}):n&&i(!!e)},toHide:function(){var e=this;"increase"===this.params.displayEffect?(this.$el.css({transition:"all .20s",transform:"scale(0)",opacity:0}),s.delay(function(){return e.detach()},200)):this.detach(),this.onHideCallback()},detach:function(){this.undelegateEvents(),this.$el.remove(),this.opened=!1,this.params.destroyOnHide&&this.remove()},toggle:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this[this.isOpen()?"hide":"show"].apply(this,t)},repin:function(e){this.anchor=e.get(0),this.onTargetPosition()},isOpen:function(){return this.opened},appendToBody:function(){var e=document.getElementById(this.cid);e?o.$(e).replaceWith(this.el):o.$("body").prepend(this.el),this.opened=!0},place:function(e){var t=this.$("._content"),i=this.getOffset(e);"object"==typeof i&&""!==t.html()&&(this.onTargetPosition(e,i),this.animate(),s.isFunction(this.params.onShow)&&this.params.onShow(this.$el))},animate:function(){var e=this;switch(this.params.displayEffect){case"fade":this.$el.fadeIn(this.params.displayEffectSpeed);break;case"slide":this.$el.slideDown(this.params.displayEffectSpeed);break;case"increase":var t="center",i="center";void 0!==this.increaseOrigin&&(t=this.getTransformOrigin(this.increaseOrigin.x),i=this.getTransformOrigin(this.increaseOrigin.y)),this.$el.addClass("tooltip_increase").css({transformOrigin:t+" "+i,display:"block"}),s.delay(function(){e.$el.css({opacity:1,transform:"scale(1)"})},1),s.delay(function(){return e.$el.css({transition:"none"})},200);break;default:this.el.style.display="block"}},_onGlobalKeyup:function(e){this.params.hideOnKeyEscape&&e.keyCode===h.esc&&this.toHide()},_onWindowResize:function(){this.onTargetPosition()},_onWindowScroll:function(){this.params.hideOnScroll?this.hide(!0):this.onTargetPosition()},_onWindowBlur:function(){this.params.hideOnWindowBlur&&this.isOpen()&&this.toHide()},_onBodyClick:function(e){this.params.rootClose&&this.isOpen()&&!this.el.contains(e.target)&&this.toHide()},onTargetPosition:function(e,t){if(this.isOpen())if(!this.params.hideWithoutAnchor||o.$(this.anchor).is(":visible")){var i=t||this.getOffset(e);this.setIncreaseOrigin(this.currentPosition);var n={};n="fixed"===this.params.displayPosition?{position:"fixed",top:i.top-o.$(window).scrollTop()+"px",left:i.left-o.$(window).scrollLeft()+"px"}:{top:i.top+"px",left:i.left+"px"},this.setStyles(n)}else this.hide()},setStyles:function(e){this.el.style.position=e.position,this.el.style.left=e.left,this.el.style.top=e.top,this.el.style.zIndex||(this.el.style.zIndex=this.defineIndex())},defineIndex:function(){return this.params.zIndex+o.$("body").find("._tooltip").length},getTransformOrigin:function(e){return s.result({t:"top",r:"right",b:"bottom",l:"left"},e,"center")},getOffset:function(e){var t=this.params.templatePriority,i=t.indexOf(this.params.templatePosition)>=0?this.params.templatePosition:"auto",n=this.params.templateLinking,s=o.$(this.anchor),r=this.$el,a=this.$("._pointer");if(!s||!r)return!1;var l={parent:"cursor"===n?{top:e.pageY,left:e.pageX}:s.offset(),template:{top:void 0,left:void 0},min:{left:void 0,top:void 0},max:{left:void 0,top:void 0},backup:{}},c={top:o.$(window).scrollTop(),left:o.$(window).scrollLeft()},h={template:{width:r.outerWidth(),height:r.outerHeight()},parent:{width:"cursor"===n?20:s.outerWidth(),height:"cursor"===n?20:s.outerHeight()},window:{width:window.innerWidth,height:window.innerHeight},outer:this.getOuterDimensions(a,this.params.templateOffset)};l.min.left=c.left,l.min.top=c.top,l.max.left=l.min.left+(h.window.width-h.template.width),l.max.top=l.min.top+(h.window.height-h.template.height),t.indexOf(i)>0&&(t.splice(t.indexOf(i),1),t.unshift(i));for(var u=0;u<t.length;u++)if(this.currentPosition=t[u],this.placePointer(t[u]),h.outer=this.getOuterDimensions(a,this.params.templateOffset),l.template=this.calculatePosition(t[u],l,c,h),l.template){if(this.params.displayForce&&(l.backup[t[u]]={template:l.template,diff:{w:this.intersectionSegments(l.min.left,l.template.left,l.min.left+h.window.width,l.template.left+h.template.width),h:this.intersectionSegments(l.min.top,l.template.top,l.min.top+h.window.height,l.template.top+h.template.height)}}),!0===this.checkPosition(l.template,l.min,l.max))break;delete l.template}if(this.params.displayForce&&"object"!=typeof l.template){var p={square:-9999999999,position:!1};for(var d in l.backup)l.backup[d].diff.w*l.backup[d].diff.h>p.square&&(p={square:l.backup[d].diff.w*l.backup[d].diff.h,position:d});l.template=l.backup[p.position].template,this.currentPosition=p.position,this.placePointer(p.position.charAt(0)+p.position.charAt(1))}return l.template},placePointer:function(e){var t=this.$("._pointer");if(t.removeClass().addClass("_pointer tooltip__pointer"),e&&!0===this.params.pointerShow&&t.length&&s.isString(e)){var i="auto"===this.params.pointerPosition?this.reversePosition(e.charAt(0))+e.charAt(1):this.params.pointerPosition;t.removeClass().addClass("_pointer tooltip__pointer tooltip__pointer_"+i)}},setIncreaseOrigin:function(e){"increase"===this.params.displayEffect&&(this.increaseOrigin={y:this.reversePosition(e.charAt(0)),x:e.charAt(1)})},isAllowedEvent:function(e,t,i,n){var s=i,o={mouseover:"mouseenter",mouseout:"mouseleave"};if({}.hasOwnProperty.call(o,s)&&(s=o[s]),-1!==["resize","position","show","hide","scroll"].indexOf(s))return!0;switch(n||!0){case"show":if(e===s||-1!==e.indexOf(s))return!0;break;case"hide":if(t===s||-1!==t.indexOf(s))return!0;break;default:if(e===s||t===s||-1!==e.indexOf(s)||-1!==t.indexOf(s))return!0}return!1},getOuterDimensions:function(e,t){return{width:(e.offsetWidth>0?e.offsetWidth:5)+t.left,height:(e.offsetHeight>0?e.offsetHeight:5)+t.top}},calculatePosition:function(e,t,i,n){var s;if("object"==typeof e){if("r"===e[0])return{top:t.parent.top+e[1],left:t.parent.left+n.parent.width+n.outer.width};if("l"===e[0])return{top:t.parent.top+e[1],left:t.parent.left-n.template.width-n.outer.width}}switch(e){case"wleft":return s=!1,t.parent.top<n.template.height+i.top-n.parent.height&&(s=i.top+1),t.max.top-1<t.parent.top&&(s=t.max.top-1),{top:s,left:t.parent.left-n.template.width-n.outer.width};case"wright":return s=!1,t.parent.top<n.template.height+i.top-n.parent.height&&(s=i.top+1),t.max.top-1<t.parent.top&&(s=t.max.top-1),{top:s,left:t.parent.left+n.parent.width+n.outer.width};case"tl":return{top:t.parent.top-n.template.height-n.outer.height,left:t.parent.left};case"tm":return{top:t.parent.top-n.template.height-n.outer.height,left:t.parent.left+n.parent.width/2-n.template.width/2};case"tr":return{top:t.parent.top-n.template.height-n.outer.height,left:t.parent.left+n.parent.width-n.template.width};case"rt":return{top:t.parent.top-n.outer.height/2,left:t.parent.left+n.parent.width+n.outer.width};case"rm":return{top:t.parent.top+n.parent.height/2-n.template.height/2,left:t.parent.left+n.parent.width+n.outer.width};case"rb":return{top:t.parent.top+n.parent.height-n.template.height,left:t.parent.left+n.parent.width+n.outer.width};case"bl":return{top:t.parent.top+n.parent.height+n.outer.height,left:t.parent.left+n.outer.width};case"bm":return{top:t.parent.top+n.parent.height+n.outer.height,left:t.parent.left+n.parent.width/2-n.template.width/2};case"br":return{top:t.parent.top+n.parent.height+n.outer.height,left:t.parent.left+n.parent.width-(n.template.width+n.outer.width)};case"lt":return{top:t.parent.top-n.outer.height/2,left:t.parent.left-n.template.width-n.outer.width};case"lm":return{top:t.parent.top+n.parent.height/2-n.template.height/2,left:t.parent.left-n.template.width-n.outer.width};case"lb":return{top:t.parent.top+n.parent.height-n.template.height,left:t.parent.left-n.template.width-n.outer.width};default:return!1}},intersectionSegments:function(e,t,i,n){var s=Math.min(i,n)-Math.max(e,t);return s>0?s:0},checkPosition:function(e,t,i){return e.left>t.left&&e.top>t.top&&e.left<i.left&&e.top<i.top},reversePosition:function(e){return s.result({t:"b",b:"t",r:"l",l:"r"},e,e)},prepareContent:s.noop,onShowCallback:s.noop,onHideCallback:s.noop})},function(e,t,i){"use strict";var n=i(0),s=i(475),o=i(16),r=i(1647);e.exports=s.extend({modalWidth:500,initialize:function(){for(var e=this,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];s.prototype.initialize.apply(this,i),!this.message&&this.bodyExist()||(this.body=function(){return new r({message:n.result(e,"message")})})},bodyExist:function(){return n.isArray(this.body)&&this.body.length||n.isFunction(this.body)},show:function(){this.def=o.$.Deferred();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return s.prototype.show.apply(this,t),this.def.promise()},promptResolve:function(){this.def.resolve(this.getView("._body").serializeForm())}})},function(e,t,i){"use strict";var n=i(0),s=i(476),o=i(16),r=i(471),a=i(534),l=i(22),c=i(62),h=i(126),u=i(1073),p=i(477),d=i(479),f=i(1028),m=i(658).modal,g=i(1648),b={useFadeIn:!1,className:"",opacity:70},_=r.extend({el:!1,template:g,isOpened:!1,destroyOnHide:!1,mount:".wrapper",insertion:"append",single:!1,draggable:!0,toCenter:!0,noBorder:!1,fullScreen:!0,fullScreenVertical:!0,showHeader:!0,showTitle:!0,slideFromTop:!1,slideIndentation:100,slideSpeed:300,slideDelay:0,leftBtn:!1,rightBtn:!1,overlayConfig:{},modalWidth:0,modalHeight:0,zIndex:4e3,fullScreenSizeReserve:m.fullScreenSizeReserve.default,overlayRenderPromise:null,modalClasses:"",bodyClasses:"",title:"",body:[],footer:[{selector:"",label:"OK",color:"blue",hide:!0,defaultAction:!0,callback:n.noop}],events:{"click ._close":"onCloseClick","click ._btn":"onModalButtonClick","click ._left-arrow-button":"onLeftArrowClick","click ._right-arrow-button":"onRightArrowClick"},globals:{keypress:"onKeypress",keyup:"onGlobalKeyup",click:"onGlobalClick","resize window":"onWindowResize"},initialize:function(){this.overlayConfig=n.defaults(this.overlayConfig,b),this.fullScreen||(this.fullScreenVertical=!1),this.showHeader||(this.showTitle=!1),this.listenTo(c,"Modal:HideAll",this.observeHideAll.bind(this)),this.listenTo(c,"Modal:CheckSize",this.observeCheckSize.bind(this))},prepareRender:function(){this.fillModalBody()},serialize:function(){return{modalClasses:this.modalClasses,bodyClasses:this.bodyClasses,noBorder:!!this.noBorder,showTitle:this.showTitle,showHeader:this.showHeader,title:this.title,footer:this.footer,leftBtn:this.leftBtn,rightBtn:this.rightBtn}},clientAfterRender:function(){this.delayExecuting(this.prepareForRender.bind(this)),this.draggable&&this.enableDraggable(),this.footer.length&&(p(this.$el.find("._footer"),o.$),d(this.$("._btn")))},prepareForRender:function(){this.presetFullScreen(),this.updateSizes(),this.centering(),this.setZindex()},fillModalBody:function(){!this.body.length&&"function"!=typeof this.body||this.getView("._body")||this.setViews({"._body":n.isFunction(this.body)?this.body():this.body})},show:function(e){var t=this;c.fire("Tooltip:GlobalHide",{cid:"all"}),this.single&&c.fire("Modal:HideAll",{cid:this.cid}),n.extend(this,e),this.isOpen()||(this.slideDelay?n.delay(function(){t.isOpen()&&(o.$(t.mount)[t.insertion](t.$el),t.beforeShowCallback())},this.slideDelay):(o.$(this.mount)[this.insertion](this.$el),this.beforeShowCallback())),this.render().promise().done(function(){t.overlayRenderPromise=a.show({cid:t.cid,zIndex:t.zIndex,config:t.overlayConfig}),t.overlayRenderPromise.then(function(){a.onTouchEndCallback=t.onTouchEndCallback.bind(t),t.overlayShowCallback()}),t.slideDelay||t.animatedShow(t.$el,null,function(){return t.onShowCallback()}),t.isOpened=!0,(document.activeElement||document.body).blur()})},hide:function(){var e=this;!a.isLocked&&a.isLastModal(this.cid)&&a.hide(this.cid),this.isOpened&&(this.fullScreenMode(!1),this.animatedHide(this.$el,null,function(){e.$el.remove(),e.onHideCallback(e)}),this.undelegateEvents(),this.isOpened=!1,this.destroyOnHide&&this.remove(),this.onAfterHideCallback())},gradualHide:function(e){a.isLastModal(this.cid)&&(e.stopPropagation(),this.hide())},onCloseClick:function(e){this.gradualHide(e)},onModalButtonClick:function(e){e.stopPropagation(),e.preventDefault(),this.executeButtonAction(e.currentTarget)},onKeypress:function(e){this.isOpened&&"textarea"!==e.target.tagName.toLowerCase()&&13===e.keyCode&&this.executeButtonAction(n.findWhere(this.footer,{defaultAction:!0}))},executeButtonAction:function(e){var t=this.footer[o.$(e).index()];n.isObject(t)&&(n.isFunction(t.callback)&&t.callback(this,e),n.isFunction(this[t.callback])&&this[t.callback](this,e),t.hide&&this.hide())},onGlobalClick:function(e){this.lockOverlay||this.el.contains(e.target)||this.gradualHide(e)},onGlobalKeyup:function(e){27===e.keyCode&&this.gradualHide(e)},onWindowResize:function(){this.delayExecuting(this.centering.bind(this)),this.checkFullScreen()},onTouchEndCallback:function(e){this.gradualHide(e)},observeHideAll:function(e){e.cid!==this.cid&&this.hide()},observeCheckSize:function(){this.centering(),this.checkFullScreen()},setZindex:function(){this.$el.css({zIndex:4e3+10*o.$("body").find("._modal").length}),this.zIndex=this.$el.css("z-index")},updateSizes:function(){this.modalHeight>0&&this.noBorder&&this.$el.height(this.getContainerHeight())},centering:function(){this.toCenter&&this.setCenterPosition(l.calculatePositionCenter(this.el))},setCenterPosition:function(e){this.slideFromTop?(e.marginTop=parseInt(e.marginTop,10)-this.slideIndentation,this.$el.css(e),this.$el.css({transition:"margin-top "+this.slideSpeed/1e3+"s",marginTop:l.calculatePositionCenter(this.el).marginTop}),this.slideFromTop=!1,this.slideDelay=0,this.onAnimationComplete()):this.$el.css(e)},presetFullScreen:function(){this.fullScreen&&(this.modalWidth=this.modalWidth||this.$el.width(),this.modalHeight=this.$el.height(),this.checkFullScreen())},fullScreenMode:function(e){var t=o.$(document.body),i="modal-full-screen"+(this.fullScreenVertical?"":"_center");e?(void 0===this.scrollPosition&&(this.scrollPosition={x:window.scrollX,y:window.scrollY}),this.$el.addClass(i),t.addClass("body-modal-full-screen"),window.scrollTo(0,0),document.body.style.height=window.innerHeight+"px",s.initialize(this.$el.get(0),{suppressScrollX:!0})):(this.$el.removeClass(i),t.removeClass("body-modal-full-screen").removeAttr("style"),this.$el.height(this.noBorder?this.getContainerHeight():"auto"),void 0!==this.scrollPosition&&(window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),this.scrollPosition=void 0),this.centering(),s.destroy(this.$el.get(0)))},checkFullScreen:function(){if(!this.fullScreen||this.modalWidth<=0||this.modalHeight<=0)return!1;var e=this.getMobileMode(),t=this.getContainerHeight(),i=e?t:t+this.fullScreenSizeReserve.height,n=this.isFullScreenMode();return!n&&(window.innerHeight<=i||e)?this.fullScreenMode(!0):n&&window.innerHeight>i&&!e&&this.fullScreenMode(!1),!0},isFullScreenMode:function(){return this.$el.hasClass("modal-full-screen")||this.$el.hasClass("modal-full-screen_center")},enableDraggable:function(){f.initDragNDrop(),this.$el.draggable({handle:"._drag-handler",scroll:!1})},getContainerHeight:function(){return this.modalHeight},getMobileMode:function(){return h.mobileMode()},isOpen:function(){return this.isOpened},delayExecuting:function(e){this.slideDelay?n.delay(function(){return e()},this.slideDelay):e()},cleanup:function(){var e=this;a.isLastModal(this.cid)&&this.overlayRenderPromise&&this.overlayRenderPromise.then(function(){return a.hide(e.cid)})},overlayShowCallback:n.noop,beforeShowCallback:n.noop,onShowCallback:n.noop,onHideCallback:n.noop,onLeftArrowClick:n.noop,onRightArrowClick:n.noop,onAfterHideCallback:n.noop,onAnimationComplete:n.noop});n.extend(_.prototype,u),e.exports=_},function(e,t,i){"use strict";e.exports=i(1667)},function(e,t,i){"use strict";e.exports=function(e,t){var i=function(e){var i=e.currentTarget;if(null===e.pageX&&null!==e.clientX){var n=document.documentElement,s=document.body;e.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)}var o=t(i).offset(),r=e.pageX-o.left,a=e.pageY-o.top,l=Math.floor(1.2*Math.max(i.offsetWidth-r,r)),c=document.createElement("i"),h=Date.now();c.className="ripple wait",c.setAttribute("id",h),c.style.top=a+"px",c.style.left=r+"px",c.style.width="0px",c.style.height="0px",c.style.opacity="0.3",i.style.overflow="hidden",i.appendChild(c),setTimeout(function(e,t){var i=document.getElementById(e);i&&(i.style.top=a-t+"px",i.style.left=r-t+"px",i.style.width=2*t+"px",i.style.height=2*t+"px",i.style.opacity="0",i.className="ripple")}.bind(null,h,l),0),setTimeout(function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}.bind(null,h),2e3)};e.find("a.button, button.button, .button-imitation").on({"click.buttonWaveEffect":i,"touchstart.buttonWaveEffect":i})}},function(e,t,i){"use strict";var n=i(471),s=i(1492);e.exports=n.extend({name:"Content",tagName:"section",className:"content",template:s,vAlign:null,bgColor:null,customClassNames:"",getVAlign:function(){return{middle:"content-container_valign-middle",bottom:"content-container_valign-bottom"}[this.vAlign]||""},getClassNames:function(){return(this.getVAlign()+" "+this.customClassNames).trim().replace(/\s+/g," ")},serialize:function(){return{customClassNames:this.getClassNames(),bgColor:this.bgColor}}})},function(e,t,i){"use strict";var n=i(0),s=i(638),o=i(637).spinner;e.exports=function(e,t){var i=n.clone(o);if(void 0!==t&&(void 0!==t.color&&(i.color=t.color),void 0!==t.position)){var r=(2*(i.length+2)+2*i.radius)/2;"left"===t.position?i.left=r+"px":"right"===t.position&&(i.left=e.outerWidth()-r-2+"px")}e.spinner=new s(i),e.on({"loading.buttonLoader":function(t,i){t.currentTarget.className+=" loading",t.currentTarget.setAttribute("disabled",!0),e.spinner.spin(t.currentTarget)},"loaded.buttonLoader":function(t){e.spinner.stop(),t.currentTarget.className=t.currentTarget.className.replace(/\s*loading/g,""),t.currentTarget.removeAttribute("disabled")}})}},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(471),o=i(1504),r=i(473),a=i(687),l=i(1048),c=i(1502),h=i(1499),u=i(1047),p=i(810),d=i(126),f=i(604),m=i(472).LanguagesSelector,g=i(1496),b=i(1495),_=i(1049),v=i(1494),y=i(1493);e.exports=s.extend({name:"Header",el:!1,template:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.app.user.isEnterprise()&&!this.fixedTemplate?b.apply(this,t):g.apply(this,t)},headerMobileMenuTemplate:_,bigLogo:!1,headerPageName:!1,headerLite:!1,headerFixedWidth:!1,headerSearchBarCenter:!1,headerWithoutSearchBar:!1,headerWithoutSignUpButton:!1,mobileMode:!1,fixedTemplate:!1,isPinnedDesktop:!1,isPinnedMobile:!0,scrollY:null,events:{"click ._langs":"onLangsClick","click ._mobile-top-menu":"onMobileTopMenuClick","click ._mobile-user-menu":"onMobileUserMenuClick","click ._open-mobile":"onOpenMobile"},globals:{click:"onBodyClick","resize window":"onWindowResize","scroll window":"onWindowScroll"},prepareRender:function(){this.mobileMode=t.browser?d.mobileMode():this.mobileMode,this.mobileMode&&this.setView("._mobile-menu",new o({app:this.app,template:this.headerMobileMenuTemplate,showSpecial:this.showSpecial,headerWithoutSignUpButton:this.headerWithoutSignUpButton,onLogoutCallback:this.onLogoutCallback.bind(this)})),this.setView("._livechat",new a({app:this.app,template:v})),!this.app.isBot&&t.browser&&!this.mobileMode&&this.isNotificationBarAllowed()&&this.setView("._notification",new c({app:this.app})),this.setView("._test-cc",new h({app:this.app})),!this.app.user.isEnterprise()&&this.app.store.get("CartIndicator")&&this.setView("._shopping-cart-indicator-header",new u({app:this.app,template:y}))},serialize:function(){return{bigLogo:this.bigLogo,mobileMode:this.mobileMode,activeLang:this.app.lang,headerPageName:this.headerPageName,headerLite:this.headerLite,headerFixedWidth:this.headerFixedWidth,headerSearchBarCenter:this.headerSearchBarCenter,headerWithoutSearchBar:this.headerWithoutSearchBar,isPinnedDesktop:this.isPinnedDesktop,isPinnedMobile:this.isPinnedMobile&&this.mobileMode,phoneNumber:f.getContactUsPhone(this.app),tabsBreadcrumb:this.getTabsBreadcrumb(),topLinks:{photos:this.app.makeUrl("stock-photography",{protocol:this.app.parsedUrl.protocol}),vectors:this.app.makeUrl("stock-vectors",{protocol:this.app.parsedUrl.protocol}),editorials:this.app.makeUrl("editorial-photography",{protocol:this.app.parsedUrl.protocol}),videos:this.app.makeUrl("stock-videos",{protocol:this.app.parsedUrl.protocol})},subscribeLink:this.app.makeUrl("subscribe",{backURL:!0}),enterpriseLink:this.app.makeUrl("enterprise")}},clientAfterRender:function(){this.setNotExistView("languages",r,{params:m,content:new l({app:this.app})}),this.pinMobileHeader()},pinMobileHeader:function(){if(!t.browser||!this.isPinnedMobile||!this.mobileMode)return!1;var e=this.$("._header-mobile-pinner");return this.scrollY=window.scrollY,this.$("._header-mobile").height(e.height()),this.setMobilePinnerHeight(),p(this.$el,Backbone.$,{className:"header__mobile_pinned",pinner:e,pinnerTrigger:e,mobile:!0}),!0},getTabsBreadcrumb:function(){return!!this.tabsBreadcrumbData&&(this.tabsBreadcrumbData.editorial?"editorial":this.tabsBreadcrumbData.type)},onLangsClick:function(e){this.toggleLanguagesToolTip(e)},toggleLanguagesToolTip:function(e){this.getView("languages").toggle(e)},onWindowResize:n.throttle(function(){d.mobileMode()&&this.getView("languages").opened&&this.toggleLanguagesToolTip();var e=d.mobileMode();e!==this.mobileMode&&(this.mobileMode=e,this.render())},10),onWindowScroll:n.throttle(function(){if(this.isPinnedMobile&&this.mobileMode){if(this.scrollY+10<window.scrollY)this.setMobilePinnerHeight();else if(this.scrollY>window.scrollY){var e=this.$("._header-mobile-pinner");e.addClass("header__mobile-top-box_show"),e.css({top:0})}this.scrollY=window.scrollY}},10),onMobileTopMenuClick:function(e){e.stopPropagation(),this.getView("._mobile-menu").toggleTopMenu()},onMobileUserMenuClick:function(e){e.stopPropagation(),this.getView("._mobile-menu").toggleUserMenu()},onOpenMobile:function(){this.$("._user-bar-mobile").removeClass("hidden")},onBodyClick:function(e){this.mobileMode&&this.getView("._mobile-menu").hideMenu()},onCompareLicensesClick:function(){this.app.observer.broadcast("Track:UE:Subscribe:CompareLicencesClick")},setMobilePinnerHeight:function(){var e=this.$("._header-mobile-pinner");e.length&&window.scrollY>=this.$("._mobile-top-box").height()&&e.css({top:-this.$("._mobile-top-box").height()})},cleanup:function(){this.undelegateEvents()},isNotificationBarAllowed:function(){return!n.contains(["Subscribe","Billing"],this.app.router.routeName)},onLogoutCallback:n.noop})}).call(this,i(5))},,function(e,t,i){"use strict";(function(e,t){var n=i(1)(i(4)),s=i(0),o=i(104),r=i(1673),a=i(471),l=i(1670),c=i(1668),h=i(1644),u=i(489),p=i(1616),d=i(1615),f=i(1613),m=i(1611),g=i(1608),b=i(1607),_=i(1606),v=i(1604),y=i(748),w=i(40),x=i(6)(e),C=i(62),k=i(14),S=i(108),P=i(107),T=i(1602),A=i(11),I=i(148);e.exports=a.extend({id:"root",el:t.browser?"#root":void 0,tagName:"div",asyncApiQueries:!1,decryptQuery:null,status:P.STATUS_OK,constructor:function(e){var t;this.features=new v(T.map(function(e){return{name:e}}),{app:e.app}),this.features.fetch(),e.app.user.isLoggedIn()||(e.app.store.link("UserBanInfo",new b({},{app:e.app})),e.app.store.get("UserBanInfo").fetch()),null==e.app.features&&(e.app.features=this.features);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(t=a.prototype.constructor).call.apply(t,[this,e].concat(n)),this.app.isBot||this.injectNotifications(),this.processGlobalEvents(),this.feedbacks=new g({},{app:e.app}),this.feedbacks.fetch(),this.setView("",new l({app:this.app})),this.on("clientAfterRender",function(){var e=this;s.delay(function(){s.contains(["Search","SearchByImage"],e.app.router.routeName)||e.app.observer.broadcast("Track:PV,RE:Route",{route:e.app.router.routeName}),e.trigger("onPageTrackersAreExecuted",e)},0),this.checkPromoCode(),this.checkAdmitAd(),this.checkBoschGreeting(),this.initWebPushNotifications(),this.initBlinger()}),this.on("popstate",this.handlePagePopState),this.setUtmDPCookie(),this.app.chain&&this.app.chain.use(this.name)},processGlobalEvents:function(){var e=this,t=[];this.listenTo(C,"API:events",function(i){if(i.events.invoice&&!s.contains(t,i.events.invoice.orderNumber)){t.push(i.events.invoice.orderNumber);var n=new y(i.events.invoice,{app:e.app});e.onSuccessPurchase(n)}i.events.enterpriseLogout&&e.onLogoutCallback()}),this.listenTo(C,{"Tour:Start":this.startTour,Notification:this.showNotification,"SignUp:SocialEmailShow":this.signUpSocialEmailShow,"SignUp:SocialEmailHide":this.signUpSocialEmailHide,"Sidebar:PurchaseEnable":this.enablePurchaseSidebar})},getBaseMeta:function(){var e=this.getMeta(),t=e.tags||[],i=e.params||{},n=k.urlParse(this.app.originalUrl);if(t.push({tagName:"title",tagContent:i.title}),i.description&&t.push({tagName:"meta",selfClosing:!0,attributes:{name:"description",content:i.description}}),i.robotsDisabled||(i.robots||(i.robots=this.makeMetaRobots()),t.push({tagName:"meta",selfClosing:!0,attributes:{name:"robots",content:i.robots}})),!i.canonicalDisabled){i.canonical||(i.canonical=this.app.parsedUrl.protocol+"//"+n.hostname+n.pathname);var o=k.decodeURIComponent(i.canonical);t.push({tagName:"link",selfClosing:!0,attributes:{rel:"canonical",href:-1!==o.search(/'|"/gim)?i.canonical:o}})}var r=i.alternateProto||this.app.parsedUrl.protocol,a=this.makeMetaYandex();return a&&t.push({tagName:"meta",selfClosing:!0,attributes:{name:"yandex",content:a}}),{lang:this.app.lang,alias:s.findWhere(s.result(A,"locales"),{key:this.app.lang}).alias,hreflangDisabled:i.hreflangDisabled,locales:this.getLocales(r+"//"+n.hostname+n.pathname),tags:t}},makeMetaRobots:function(){return this.app.user.isLoggedIn()?"noindex,nofollow":"index,follow"},makeMetaYandex:function(){return"index, follow, noyaca"},getMeta:function(){var e=A.defaultMeta;return{params:{title:this.tr(s.findWhere(e,{page:"default",type:"title"}).label),description:this.tr(s.findWhere(e,{page:"default",type:"description"}).label)}}},getResponseHeaders:function(){var e=w.responseHeaders.lastModified,t=this.getMeta();return t&&t.params&&t.params.lastModified>0&&(e=t.params.lastModified),{"Last-Modified":new Date(1e3*e).toUTCString(),Expires:(new Date).toUTCString()}},getLocales:function(e){return this.app.getLanguages(e,null,!1)},getCorrectUrl:function(){return null},getStatus:function(){return this.status},setUtmDPCookie:function(){if(t.browser){var e=document.referrer;if(e){var i=k.urlParse(e);e=""+i.hostname+i.path}var n=S.getGACookie()||"(ga_undefined)",s=this.app.parsedUrl.query,r=n+"|utmcsr="+(s.utm_source||e||"(direct)")+"|utmcmd="+(s.utm_medium||(e?"referral":"(none)"))+"|utmccn="+(s.utm_campaign||"(none)");s.gclid&&(r=r+"|utmgclid="+s.gclid),o.set("__utmDP",r,{path:"/",expires:"6M",domain:"."+k.getBaseDomain(window.location.host),secure:!0})}},generate500:function(){throw new Error("Internal server error in component: "+this.name)},onSuccessPurchase:function(e){this.showSuccessPurchaseModal(e),this.fireInvoiceEvents(e)},showSuccessPurchaseModal:function(e){new c({app:this.app,invoice:e}).show()},fireInvoiceEvents:function(e){this.app.observer.broadcast("Track:CO:SuccessPurchaseInfo:PaymentSuccess",{route:"SubscribeStatus",invoice:e.serialize(),paymentSystem:e.get("method"),url:"/ingoing/payment/success/"+e.get("productType")+"/\n\t\t\t\t"+this.app.tracking.rewritePaymentSystem(e.get("method")).toLocaleLowerCase()}),this.app.observer.broadcast("Track:UE:SuccessPurchaseInfo:Buy",{quantity:+e.get("invoicesCount")?"2nd+ Purchase":"1st Purchase",price:e.get("price"),name:e.get("info")&&e.get("info").name||""})},onAuthCallback:function(){t.browser&&window.location.reload()},onLogoutCallback:function(){t.browser&&this.app.user.destroy().then(this.doAfterLogout.bind(this))},doAfterLogout:function(){this.app.user.isEnterprise()?this.app.router.redirect(this.app.makeUrl("/")):window.location.reload()},enableFavoritesPanel:function(){var e=this;t.browser&&Promise.all([i.e(0),i.e(76),i.e(78)]).then(function(t){var n=i(1601);e.findView("wrapper").insertView("",new n({app:e.app})).render()}.bind(null,i)).catch(i.oe)},enableToTopButton:function(){t.browser&&this.findView("wrapper").insertView("",new d({app:this.app})).render()},enableLiveChat:function(){t.browser&&this.findView("wrapper").insertView(new m).render()},enablePurchaseSidebar:function(e){var n=this,s=e.file;t.browser&&Promise.all([i.e(0),i.e(77)]).then(function(e){var t=i(1517);n.findView("wrapper").insertView("",new t({app:n.app,file:s})).render()}.bind(null,i)).catch(i.oe)},onSearchQueryChange:function(){var e;this.app.store.get("SearchQuery")&&(e=this.app.store.get("SearchQuery")).secureSet.apply(e,arguments)},remove:function(){this.app.store.unlinkAll();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return a.prototype.remove.apply(this,t)},startTour:function(e){this.setNotExistView("Tour",r,{app:this.app}).start(e)},showNotification:function(e){this.getView("Notification")||this.setView("Notification",new h({app:this.app,options:e})).show()},signUpSocialEmailShow:function(e){this.setView("SignUpModal",new u({app:this.app,mode:"social-email",onSuccessCallback:function(t){e.callback&&e.callback((0,n.default)({},e.data||{},{email:t}))}})).show()},signUpSocialEmailHide:function(){var e=this.getView("SignUpModal");e&&e.hide()},checkPromoCode:function(){new p({app:this.app}).check()},checkAdmitAd:function(){var e=this.app.queryParams[I.paramName];if(e){try{window.sessionStorage.setItem(I.paramName,e)}catch(e){x.error("Error while setting to session storage.")}var t=s.omit(this.app.parsedUrl.query,I.paramName),i=this.app.makeUrl(this.app.parsedUrl.pathname,{query:t});this.app.router.navigate(i,{replace:!0})}},checkBoschGreeting:function(){if(this.app.userSettings.get("boschGreetingShow")){var e=this.app.userSettings.get("boschGreetingEnabled");(s.isUndefined(e)||e)&&new f({app:this.app}).show(),this.app.userSettings.set({boschGreetingShow:!1})}},injectNotifications:function(){this.app.store.link("Notifications",new _([],{app:this.app})),this.app.store.get("Notifications").fetch()},initWebPushNotifications:function(){var e=this;this.isWebPushNotificationsAllowed()&&i.e(73).then(function(t){(new(0,i(1508).Pushwoosh)).push(["init",s.extend({driversSettings:{worker:{serviceWorkerUrl:"_pushwoosh/worker.js",serviceWorkerSecondUrl:"_pushwoosh/worker.js"}},defaultNotificationImage:e.app.cdnPath+"_img/apple-touch-icon-152x152.png",autoSubscribe:!0,userId:e.app.user.get("id")},s.pick(w.pushwoosh,["logLevel","applicationCode","safariWebsitePushID","defaultNotificationTitle"]))])}.bind(null,i)).catch(i.oe)},initBlinger:function(){if(this.app.features.isFeatureOnValue("Blinger integration")){var e=document.createElement("script");e.async=!0,e.charset="utf-8",e.src=w.blinger.src,document.head.appendChild(e)}},isWebPushNotificationsAllowed:function(){return this.webPushNotificationsAllowed&&this.features.isFeatureOnValue("Web Push Notifications Allowed")&&"https:"===this.app.parsedUrl.protocol},handlePagePopState:s.noop})}).call(this,i(3)(e),i(5))},,function(e,t,i){"use strict";(function(t){var n=i(0),s=i(471),o=i(687),r=i(473),a=i(1472),l=i(1048),c=i(604),h=i(530),u=i(14),p=i(11).trusteRIds,d=i(472).LanguagesSelectorFooter,f=i(1466),m=i(1045),g=i(1465);e.exports=s.extend({name:"Footer",el:!1,className:"footer",ratingSeo:!0,showRating:!1,showTruste:!1,additionalDocLinks:[],template:function(){var e,t=[{condition:function(e){return e.user.isEnterprise()},template:m}];n.each(t,function(t){t.condition(this.app)&&(e=t.template)},this),e=e||f;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e.apply(this,s)},events:{"click ._feedback":"giveFeedback","click ._langs":"onLangsClick","click ._become-contributor":"onBecomeContributorClick","mouseover ._pseudolink":"transformLink"},initialize:function(){t.browser},onBecomeContributorClick:function(e){var t=this;this.app.user.isLoggedIn()||(e.stopPropagation(),e.preventDefault(),this.app.chain.initChain("signup",{type:"seller"}).then(function(){return t.app.chain.start({type:"seller"})}))},onLangsClick:function(e){this.toggleLanguagesToolTip(e)},getBirdInFlightLink:function(){return!!this.app.features.isFeatureOnValue("Is Bird in Flight Allowed")&&this.app.makeUrl("birdinflight")},getBlogLink:function(){return!!this.app.features.isFeatureOnValue("Is Blog Allowed")&&this.app.makeUrl("blog")},toggleLanguagesToolTip:function(e){this.getView("languages").toggle(e)},prepareRender:function(){this.setView("._livechat",new o({app:this.app,className:"cmp-livechat-white",template:g}))},serialize:function(){var e=h.imitateLangLinksEnabled(this.app),t=e?this.app.getLanguages():h.applyLangSeoParams({key:"se",query:{checkfooter:1}},this.app),i=this.app.user.isLoggedIn();return{layoutClassNames:this.className,activeLang:this.app.lang,activeLangName:n.findWhere(t,{key:this.app.lang}).name,trusteUrl:this.app.makeUrl("truste",{query:n.findWhere(p,{key:this.app.lang}).query}),transformLangsEnabled:e,locales:[t.slice(0,12),t.slice(12)],phoneNumber:c.getContactUsPhone(this.app),rating:this.getRatingData(),ratingSeo:this.ratingSeo,subscribeLink:this.app.makeUrl("subscribe",{backURL:!0}),enterpriseLink:this.app.makeUrl("enterprise"),isLoggedIn:i,siteUrls:this.makeSiteUrls(),birdInFlightLink:this.getBirdInFlightLink(),blogLink:this.getBlogLink(),additionalDocLinks:this.additionalDocLinks,showRating:this.showRating,showTruste:this.showTruste,showVKSocial:"ru"===this.app.lang,requisites:this.getRequisites()}},clientAfterRender:function(){this.setNotExistView("feedbackForm",a,{app:this.app}),this.setNotExistView("languages",r,{params:d,content:new l({app:this.app})})},giveFeedback:function(e){this.getView("feedbackForm").show(),e.preventDefault(),e.stopPropagation()},getRatingData:function(){return this.feedbacks.getFormatedRating()},makeSiteUrls:function(){var e,t=this,i={};return n.each({faq:{params:"faq"},about:{params:"about"},careers:{params:"careers"},siteMap:{params:"sitemap"},api:{params:"api-program"},referral:{params:"referral"},affilate:{params:"affiliate"},freeFiles:{params:"free-files"},policy:{params:"privacy-policy"},enterprise:{params:"enterprise"},examination:{params:"examination"},agreement:{params:"member-agreement"},license:{params:"license-comparison"},subscribe:{params:"subscribe",options:{backURL:!0}},documents:{params:"legal-information",options:{backURL:!0}},newestFiles:{params:{route:"Search",sorting:"newest"}},contributor:{params:"signup",options:{protocol:"https:",query:{type:"seller"},backURL:!0}},clashot:{params:"clashot"},sellerPrice:{params:"seller-price"}},function(n,s){e=t.app.makeUrl(n.params,n.options),i[s]={url:e,isActive:u.urlsAreEqual(t.app.parsedUrl.pathname,e)}}),i},transformLink:function(e){var t=h.applyLangSeoParams({key:"se",query:{checkfooter:1}},this.app);h.transformToGeneratedLink(this.app,e.currentTarget,t)},getRequisites:function(){var e=this.app.store.get("Address");return e&&e.get("fullAddress")?e.serialize():null}})}).call(this,i(5))},function(e,t,i){"use strict";e.exports={enter:13,esc:27,left:37,right:39,digit1:49,digit9:57,numDigit1:97,numDigit9:105,middleMouse:2}},,function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(0),o=i(471),r=i(48),a=i(14);e.exports=o.extend({name:"Tabs",el:!1,schema:[],subSchema:[],preventDefaultAction:!1,urlLessTabs:!1,menuUnderline:!1,classNames:"",active:"",subActive:"",serializeData:{},events:{"click ._tab":"onTabClick","mouseenter ._tab":"onTabMouseEnter","mouseleave ._tab":"onTabMouseLeave"},globals:{"resize window":"onWindowResize"},initialize:function(){this.schema=new r(s.result(this,"schema")),this.defineActiveTab(),this.subSchema=new r(s.result(this,"subSchema")),this.prepareSubTabs(),this.listenTo(this.schema,"change update",this.render)},serialize:function(){return(0,n.default)({},{classNames:this.classNames,urlLessTabs:this.urlLessTabs,scheme:this.getEnabled().map(function(e){return e.serialize()}),subScheme:this.subSchema.serialize()},this.serializeData)},clientAfterRender:function(){this.menuUnderline&&this.setDefaultMenuUnderline()},onWindowResize:s.throttle(function(){this.menuUnderline&&this.setDefaultMenuUnderline()},10),onTabClick:function(e){e.stopPropagation();var t,i=Backbone.$(e.currentTarget).attr("data-key"),n=this.schema.findWhere({key:i});(this.preventDefaultAction||n&&n.get("toggler")||n&&n.get("active")||n&&!0===n.get("isDefault")&&this.schema.findWhere({toggler:!0,active:!0}))&&e.preventDefault(),n&&n.get("toggler")&&n.get("active")&&(i=this.schema.findWhere({isDefault:!0}).get("key"),t=n.get("key")),this.setActiveTab(i,t)},onTabMouseEnter:function(e){if(this.menuUnderline){var t=this.$(e.currentTarget),i=t.offset().left-this.$el.offset().left;this.menuUnderlinePosition(i,t.outerWidth())}},onTabMouseLeave:function(){if(this.schema.where({active:!0}).length>0){var e=this.schema.findWhere({pseudoActive:!0});e&&e.set({pseudoActive:!1})}this.menuUnderline&&this.setDefaultMenuUnderline()},setDefaultMenuUnderline:function(){var e=this.$("._tab-active"),t=e.offset().left-this.$el.offset().left;this.menuUnderlinePosition(t,e.outerWidth())},menuUnderlinePosition:function(e,t){this.$("._menu-underline").css({left:e,width:t}).removeClass("hidden")},defineActiveTab:function(){var e=this;if(this.schema.each(function(t){var i=null!=t.get("active")?t.get("active"):e.defineTabActivityByProperty(t);"none"===e.active&&(i=!1),t.set({url:e.app.makeUrl(t.get("urlKey")||t.get("key")||""),active:null!=i?i:e.defineTabByUrl(t),enabled:s.isUndefined(t.get("enabled"))||!0===t.get("enabled")||s.isFunction(t.get("enabled"))&&t.get("enabled")(e.app.user)})}),this.shouldForceSetActive()){var t=this.schema.findWhere({isDefault:!0})||this.schema.first();t&&this.setActiveTab(t.get("key"),void 0,{silent:!0})}},shouldForceSetActive:function(){return!("none"===this.active||this.getActiveTab()&&this.getActiveTab().get("enabled"))},prepareSubTabs:function(){var e=this;this.subSchema.each(function(t){return t.set({url:e.app.makeUrl(t.get("urlKey")||t.get("key")||""),active:t.get("key")===e.subActive,enabled:s.isUndefined(t.get("enabled"))||!0===t.get("enabled")||s.isFunction(t.get("enabled"))&&t.get("enabled")(e.app.user)})})},defineTabActivityByProperty:function(e){return this.active&&this.active.length?e.get("key")===this.active:null},defineTabByUrl:function(e){var t=this.app.makeUrl(e.get("key"));return!!t&&(this.app.parsedUrl.pathname===t||!e.get("isDefault")&&a.isBelongTo(t,this.app.parsedUrl.pathname))},reset:function(e){this.setActiveTab(e||this.schema.first().get("key"))},setActiveTab:function(e,t,i){this.schema.findWhere({key:e}).get("active")||(this.getActiveTab()&&this.getActiveTab().set({active:!1}),this.schema.findWhere({key:e}).set({active:!0}),t&&this.schema.findWhere({key:t}).set({pseudoActive:!0}),i&&i.silent||this.changeTabCallback(this.getActiveTab()))},getActiveTab:function(){return this.schema.findWhere({active:!0})},getActiveTabIndex:function(){return this.schema.indexOf(this.getActiveTab())},getEnabled:function(){return this.schema.where({enabled:!0})},changeTabCallback:s.noop})},function(e,t,i){"use strict";var n=i(0),s=i(638),o=i(22),r=i(637).spinner;e.exports={fieldCorrect:function(e,t){this.fieldReset(e,t),e.addClass("field-box_correct").removeClass("field-box_label-text")},fieldIncorrect:function(e,t){if(void 0===t&&(t={}),this.fieldReset(e,t),t.msgOnly||(e.addClass("field-box_incorrect").removeClass("field-box_label-text"),e.find(".field-box__right-elem").addClass("hidden")),"string"==typeof t.errorMessage){var i='<span class="field-box__error" data-id="'+this.getContextId(e)+'">'+this.tr(t.errorMessage)+"</span>";this.getErrorHolder(e,t).append(i)}},fieldProgress:function(e,t){this.fieldReset(e,t),this.spinner||(this.spinner=new s(n.extend({},n.clone(r),{className:"field-box_spinner"}))),this.spinner.spin(e.get(0)),t&&t.keepEnabled||e.find("input, select, textarea").attr("disabled","disabled")},fieldReset:function(e,t){e.removeClass("field-box_correct field-box_incorrect field-box_progress").find(":disabled").removeAttr("disabled"),e.find(".field-box__right-elem").removeClass("hidden"),e.attr("data-label-text")&&e.addClass("field-box_label-text"),this.spinner&&this.spinner.stop(e.get(0)),this.getErrorHolder(e,t).find('span.field-box__error[data-id="'+this.getContextId(e)+'"]').remove()},onCapitalizeEvent:function(e){var t=e.currentTarget.value;if(t.length<=1||"input"===e.type&&"paste"===this.prevCapitalizeEvt){var i=t.charAt(0);i!==i.toUpperCase()&&(e.currentTarget.value=o.capitalize(t))}this.prevCapitalizeEvt=e.type},getContextId:function(e){return e.attr("data-id")||e.attr("data-id",n.uniqueId("autoId_")).attr("data-id")},getErrorHolder:function(e,t){return t&&void 0!==t.errorHolder?t.errorHolder:e}}},function(e,t,i){"use strict";var n=i(149),s=i(476),o=i(475),r=i(921),a=i(534),l=i(126),c=i(1617);e.exports=o.extend({animation:{onShow:!0},fixatingConfig:{scrollSpeed:.6,margins:40},showTitle:!1,fullScreen:!1,fullScreenVertical:!1,modalHeight:550,modalClasses:"modal_signup modal_with-poster",bodyClasses:"modal__body_signup _scroll",footer:[],initialize:function(){var e=this;this.body=[new r({template:c,app:this.app,mode:this.mode||"default",title:this.title,subTitle:this.getSubTitle(),invalidClassName:"signup-user-modal_invalid",onAuthCallback:function(){e.app.chain.destroyChain(),e.app.chain.initChain("signup").then(function(){return e.app.chain.execute("Signup")})},onSuccessCallback:this.onSuccessCallback})];for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];o.prototype.initialize.apply(this,i)},clientAfterRender:function(){a.isLocked=!1,this.fixatingConfig.$elScroll=this.$("._scroll"),this.setHeight(),this.delayExecuting(this.fixating.bind(this));for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.clientAfterRender.apply(this,t)},show:function(){this.app.observer.broadcast("Track:UE:SignUp:AutoShowModal");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o.prototype.show.apply(this,t)},hide:function(){this.app.observer.broadcast("Track:UE:SignUp:ModalHide");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o.prototype.hide.apply(this,t)},fixating:function(){if(!this.isFullScreenMode()&&this.fixatingConfig.$elScroll){var e=this.modalHeight+this.fixatingConfig.margins;this.modalHeight=this.modalHeight||window.innerHeight-this.fixatingConfig.margins,this.fixatingConfig.$elScroll.css({height:window.innerHeight>e?this.modalHeight:window.innerHeight-this.fixatingConfig.margins+"px"}),this.$el.height()<this.modalHeight?(this.$el.css({top:this.fixatingConfig.margins/2,marginTop:0}),this.initScrollBar()):s.destroy(this.fixatingConfig.$elScroll.get(0))}},initScrollBar:function(){s.initialize(this.fixatingConfig.$elScroll.get(0),{suppressScrollX:!0,wheelSpeed:this.fixatingConfig.scrollSpeed})},onCloseClick:function(){this.app.observer.broadcast("Track:UE:SignUp:ModalClosedByUser");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o.prototype.onCloseClick.apply(this,t)},onWindowResize:function(){if(l.mobilePhone())this.$el.parent().find(".overlay").hide();else{var e=l.signUpSmallMode();this.smallMode=void 0===this.smallMode?e:this.smallMode,this.$el.parent().find(".overlay").show(),e!==this.smallMode&&(this.smallMode=e,this.modalHeight=this.$el.height()),this.setHeight(),this.fixating();for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];o.prototype.onWindowResize.apply(this,i)}},beforeShowCallback:function(){this.slideIndentation=(window.innerHeight-this.el.clientHeight)/4},setHeight:function(){this.modalHeight=window.innerHeight>550+this.fixatingConfig.margins?550:446},getMobileMode:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n&&"safari"===n.name?l.signUpMobileModeSafariFix():o.prototype.getMobileMode.apply(this,t)},getSubTitle:function(){var e=this.app.store.get("FileForFavorite");if(e){var t="video"===e.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Favorites',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Favorites',"sub-text");return this.app.store.unlink("FileForFavorite"),t}return this.subTitle||this.tr('<span class="%s">Create your Account</span> to unlock all the features of Depositphotos',"sub-text")},onSuccessCallback:function(){}})},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(16),o=i(638),r=i(471),a=i(130),l=i(637).videoPlayer,c=i(1598),h=null;e.exports=r.extend({name:"FilePreviewVideo",el:!1,template:c,file:null,RAWVideoFiles:null,$mount:void 0,$poster:void 0,mountMethod:"append",mountOn:"ready",playerId:null,preload:!0,loop:!0,width:0,height:0,controls:!0,autoplay:!0,hasPoster:!0,muted:!1,controlBar:{muteToggle:!1,volumeControl:!0},spinner:{top:void 0,left:void 0,color:void 0},startPoint:0,startPointAutoCalculation:!0,blackBackground:!1,viewMode:"modal",initialize:function(){var e=this;this.spinner=new o(n.defaults(this.spinner,n.clone(l))),this.app&&this.app.device&&this.app.device.isMobile?this.on("ready loadstart",function(){e.toggleSpinner(),e.$el.addClass("video-playing"),e.$(".video-js").addClass("vjs-has-started")}):this.once("playing",function(){return e.$el.addClass("video-playing")}),this.$mount&&this.once(this.mountOn,this.mountHandler)},serialize:function(){return n.extend({files:this.RAWVideoFiles||this.file.getVideoThumbs(this.getVideoThumbsSize(!1)),isEditorial:this.file&&this.file.get("editorial"),showTitle:this.getShowTitle(),title:this.file&&this.file.get("title"),isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed")},this.makeVideoInfo(),this.makePlayerOptions())},clientAfterRender:function(){this.initVideoPlayer()},getShowTitle:function(){return this.app&&this.app.features&&this.app.features.isFeatureOnValue("Show file title in preview")},initVideoPlayer:function(){var e=this;this.toggleSpinner(!0),i.e(74).then(function(t){h=h||i(1597),e.destroyInactivePlayers(),e.playerId=h(e.getPlayerElement(),n.extend(e.makePlayerOptions(),e.makeVideoInfo())).id(),e.initPlayerEvents()}.bind(null,i)).catch(i.oe)},initPlayerEvents:function(){var e=this,t=this.getPlayer();t&&t.ready(function(){e.trigger("ready",e),t.muted(e.muted),t.userActive(!1),t.currentTime(e.makeStartPoint()),t.on("loadeddata",function(){e.checkVideoSoundTrack(),e.getPlayerElement().currentTime=e.makeStartPoint()}),t.on("loadstart",function(){e.toggleSpinner(!0),e.trigger("loadstart",e)}),t.on("playing",function(){e.toggleSpinner(!1),e.trigger("playing",e)}),t.on("error",function(){return e.onPlayerError()}),t.on("dispose",function(){e.stopListening(),e.undelegateEvents()}),e.autoplay&&t.paused()&&e.startPlayer()})},calculateStartPoint:function(){var e=this.file&&this.file.get("mp")||0;return e>5?Math.floor(e/5):0},makeStartPoint:function(){return this.startPointAutoCalculation?this.calculateStartPoint():this.startPoint},makeVideoInfo:function(){var e={width:this.width,height:this.height};if(this.file){var t=a.getThumbSizes(this.file.serialize(),"huge");e.width=this.width||t.w,e.height=this.height||t.h}return e},makePlayerOptions:function(){return{controls:this.controls,preload:!!t.browser&&this.preload,loop:this.loop,blackBackground:this.blackBackground,poster:this.hasPoster?this.makePoster():null,controlBar:this.controlBar,textTrackSettings:!1,textTrackDisplay:!1}},makePoster:function(){var e=this.file&&this.file.getVideoThumbs(this.getVideoThumbsSize(!0));return e&&e.jpg?e.jpg:this.RAWVideoFiles&&this.RAWVideoFiles.jpg?this.RAWVideoFiles.jpg:null},getVideoThumbsSize:function(e){var t=["modal","page"].includes(this.viewMode)?"huge":"wide";return e?t:a.getVideoClipThumbSize(this.file.serialize(),t)},getPlayerElement:function(){return"video"===this.el.tagName.toLowerCase()?this.el:this.$("video").get(0)},mountHandler:function(){this.mountPreview();var e=this.getPlayer();this.autoplay&&e&&e.paused()&&this.startPlayer()},mountPreview:function(){return"html"===this.mountMethod?this.$mount.html(this.$el):-1===this.mountMethod.indexOf("insert")?this.$mount[this.mountMethod](this.$el):this.$el[this.mountMethod](this.$mount)},onPlayerError:function(){this.spinner.stop(),this.spinner=new o(n.extend(n.clone(l),{color:"#ff0000"})),this.toggleSpinner(!0)},checkVideoSoundTrack:function(){var e=this.getPlayer();if(e){var t=this.$("video").get(0),i=n.isUndefined(t.webkitAudioDecodedByteCount||t.mozHasAudio);e.toggleClass("vjs-silent-video",i)}},toggleSpinner:function(e){e?this.spinner.spin(this.$mount&&this.$mount.get(0)||this.el):this.spinner.stop()},getPlayer:function(){return h&&this.playerId?h.getPlayers()[this.playerId]:null},startPlayer:function(){var e=this.getPlayer();e&&e.play()},pausePlayer:function(){var e=this.getPlayer();e&&e.pause()},destroyInactivePlayers:function(){h&&n.each(h.getPlayers(),function(e,t){e?s.$("#"+t).length||e.dispose():delete h.players[t]})},cleanup:function(){this.toggleSpinner(),this.pausePlayer()}})}).call(this,i(5))},,function(e,t,i){"use strict";(function(t){var n=i(0),s=i(16),o=i(471),r=i(800),a=i(1047),l=i(472),c=i(473),h=i(1464),u=i(809),p=i(648),d=i(1060),f=i(1458),m=i(1456),g=i(489),b=i(477),_=i(62),v=i(1454),y=i(1453),w=i(1452),x=i(1451),C=i(1450);e.exports=o.extend({name:"UserBar",el:!1,hidePlansMenu:!1,reverseButtons:!1,showSignUpButton:!0,showSignInButton:!0,events:{"click ._user-box":"toggleUserMenuToolTip","click ._sign-up":"onSignUpClick","click ._btn-sign-in":"onSingInClick","click ._products":"toggleProductsToolTip"},signupButtonColorClass:"button-blue",initialize:function(){var e=this;!this.app.user.isEnterprise()&&this.app.store.get("CartIndicator")&&this.setView("._shopping-cart-indicator",new a({app:this.app})),this.listenTo(_,"Tooltip:LoginToggle",function(t){e.app.user.isLoggedIn()||e.getView("userLoginTooltip").show(null,t.options)}),this.listenTo(this.app.user,"change:id",this.render),this.listenTo(this.app.user.avatar,"change",this.render),t.browser,this.hasTemplate={}.hasOwnProperty.call(this,"template")},prepareRender:function(){this.app.user.isLoggedIn()&&(this.app.user.isEnterprise()?this.setView("._team-balance",new m({app:this.app,teamBalance:this.app.user.get("enterprise").balance})):(this.isUserBalanceVisible()&&!this.app.user.hasPlans()&&this.setView("._balance",new d({balance:this.app.user.get("balance")})),this.setView("._refilled-balance",new f({app:this.app})))),this.hasTemplate||(this.template=this.app.user.isLoggedIn()?v:y)},serialize:function(){return{user:this.app.user.clone(),avatars:this.app.user.avatar.toJSON(),hasPlans:this.app.user.hasPlans(),canViewBalance:this.isBalanceVisible(),hasTeamBalance:this.app.user.hasTeamBalance(),signupLink:this.app.makeUrl("signup",{protocol:"https:"}),signupButtonColorClass:this.signupButtonColorClass,loginLink:this.app.makeUrl("login",{protocol:"https:",backURL:!0}),showSignUpButton:this.showSignUpButton,showSignInButton:this.showSignInButton,hidePlansMenu:this.app.user.isEnterprise()||this.hidePlansMenu,reverseButtons:this.reverseButtons,showSpecial:this.showSpecial}},clientAfterRender:function(){var e=this;this.app.user.isLoggedIn()?this.clientAfterRenderForAuth():this.clientAfterRenderForNonAuth(),b(this.$el,s.$),this.$el.find("._avatar-image").on("error",function(t){t.currentTarget.src=e.app.user.avatar.constructor.prototype.defaults.default})},isBalanceVisible:function(){var e=this.app.user.get("enterprise");return e&&(!e.hideBalance||this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+this.app.user.get("enterprise").groupId,"billing"))},userMenuTemplate:function(){var e,t=[{condition:function(e){return e.user.isEnterprise()},template:x}];n.each(t,function(t){t.condition(this.app)&&(e=t.template)},this),e=e||w;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e.apply(this,s)},clientAfterRenderForAuth:function(){this.setNotExistView("userMenuTooltip",c,{params:l.UserMenu,content:new h({template:this.userMenuTemplate,app:this.app,onLogoutCallback:this.onLogoutCallback.bind(this),menuLinks:this.getMenuLinks()})}),this.setNotExistView("productsTooltip",c,{params:l.Products,content:new p({app:this.app,plans:this.app.user,linksEnabled:!0,showRebillDiscount:!0,showBalance:this.isUserBalanceVisible()&&this.app.user.hasPlans()})})},getMenuLinks:function(){return{sellerPrice:this.app.makeUrl("seller-price",{backURL:!0}),subscribe:this.app.makeUrl("subscribe",{backURL:!0}),purchased:this.app.makeUrl("purchased",{backURL:!0}),invoices:this.app.makeUrl("invoices",{backURL:!0}),favorites:this.app.makeUrl("favorites",{backURL:!0}),profile:this.app.makeUrl("profile",{backURL:!0}),referral:this.app.makeUrl("referral",{backURL:!0}),enterpriseDownloads:this.app.makeUrl("enterprise/downloads",{backURL:!0}),logout:this.app.makeUrl("login/logout")}},clientAfterRenderForNonAuth:function(){this.setNotExistView("userLoginTooltip",c,{params:l.LoginForm,content:new u({app:this.app,template:C,onAuthCallback:this.onAuthCallback.bind(this)}),onShowCallback:function(){var e=new r({app:this.app});e.setLang(this.app.lang),e.injectFacebookScript(),e.injectGoogleScript(),this.$("._field-login").trigger("focus")}})},isUserBalanceVisible:function(){return this.app.user.get("balance")>0||"approved"===this.app.user.get("examinationStatus")},onSingInClick:function(e){e.preventDefault(),this.getView("userLoginTooltip").toggle(e),this.getView("userLoginTooltip").isOpen()&&this.app.observer.broadcast("Track:UE:UserBar:LoginTooltipShow",{conversion:"/ingoing/login_form"})},toggleUserMenuToolTip:function(e){e.preventDefault(),this.getView("userMenuTooltip").toggle(e)},toggleProductsToolTip:function(e){e.preventDefault(),this.getView("productsTooltip").toggle(e)},onSignUpClick:function(e){e.preventDefault(),e.stopPropagation(),this.app.observer.broadcast("Track:UE:SignUp:CreateAccButtonClick",{route:this.app.router.routeName,location:this.app.router.routeName+" "+this.app.url}),this.app.observer.broadcast("Track:UE:SignUp:CreateAccHeaderButtonClick"),new g({app:this.app}).show()},onAuthCallback:n.noop,onLogoutCallback:n.noop})}).call(this,i(5))},,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},,,,,,function(e,t,i){"use strict";var n=i(0),s=i(48),o=i(1535),r=i(1534);e.exports=s.extend({pageableModel:void 0,disabledPagination:!1,fillPageFlag:!1,endless:!1,filterHelper:null,initPageFromQueryParam:"page",initialize:function(e,t){var i=this;this.url=t.url||this.url||void 0,this.disabledPagination=!!t.disabledPagination,this.initFilterHelper(t),this.initPageableModel(t),this.endless?this.makeEndless(t):this.initPageablePage(t),this.on("update reset",function(){i.pageableModel.set("count",i.count),i.loading=!1}),this.listenTo(this.pageableModel,"change",this.onPageableModelChange)},initFilterHelper:function(e){this.filterHelper=r({app:this.app,queryFormat:e.filterQueryFormat,queryRegexp:e.filterQueryRegexp,allowedKeys:e.filterAllowedKeys}),this.filterHelper.parseQuery()},initPageableModel:function(e){var t=this.app.userSettings.get("pageable"),i={url:this.url};t&&t.limit&&(i.limit=t.limit),this.pageableModel=new o(i,{app:this.app,filterHelper:this.filterHelper,route:e.route})},initPageablePage:function(e){n.has(e,"initPageFromQueryParam")&&(this.initPageFromQueryParam=e.initPageFromQueryParam),this.initPageFromQueryParam&&n.has(this.app.queryParams,this.initPageFromQueryParam)&&this.setPageablePage(Math.min(this.app.queryParams[this.initPageFromQueryParam],999999))},onPageableModelChange:function(){this.pageableModel.changed&&this.pageableModel.changed.limit&&this.app.userSettings.set("pageable",{limit:this.pageableModel.changed.limit}),this.pageableModel.changed&&this.pageableModel.hasChanged("count")||this.fetch({remove:this.pageableModel.get("remove"),reset:this.pageableModel.get("remove")})},setFilter:function(e,t){return this.filterHelper.set(e,t)},registerFilter:function(e){return this.filterHelper.register(e)},getFilterVal:function(e){return this.filterHelper.getAttribute(e)},isPageSetAndCorrect:function(){return this.app.queryParams.page&&!this.pageableModel.isPageableCorrectPage(+this.app.queryParams.page)?(this.pageableModel.set("count",this.count),this.pageableModel.getLastPageUrl()):null},getPageableModel:function(){return this.pageableModel},setPageablePage:function(e){return this.pageableModel.setPage(e)},getPageableLimits:function(){return this.pageableModel.constructor.prototype.validation.limit.oneOf},isPagerLimitAvailable:function(){return this.pageableModel.isPagerLimitAvailable()},getPageableParams:function(e){return this.pageableModel.get(e)},setPageableParams:function(){var e;return(e=this.pageableModel).set.apply(e,arguments)},getQueryParams:function(){var e=n.extend({},n.result(this,"queryParams")||{},this.disabledPagination||this.fillPageFlag?{}:n.pick(this.pageableModel.toJSON(),["offset","limit"]),this.filterHelper?this.filterHelper.getAttributes():{});return this.fillPageFlag=!1,e},makeEndless:function(e){this.endless=!0,this.setPageableParams(n.extend({limit:this.loadLimit||24,remove:!1,reset:!1,add:!0},e)),this.getQueryParams=this.getQueryParams.bind(this)},loadNext:function(){this.hasNextPage()?this.loading||(this.loading=!0,this.setPageablePage(this.pageableModel.get("page")+1)):this.trigger("CollectionEnded")},hasNextPage:function(){return this.pageableModel.isPageableCorrectPage(this.pageableModel.get("page")+1)},isCurrentPageHasItems:function(){return this.pageableModel.isPageableCorrectPage(this.pageableModel.get("page"))},fillCurrentPage:function(){this.length<this.pageableModel.get("limit")&&(this.queryParams=n.extend(this.queryParams||{},{limit:this.pageableModel.get("limit")-this.length,offset:this.pageableModel.get("offset")+this.length}),this.fillPageFlag=!0,this.fetch({add:!0,remove:!1}))},parse:function(e){return this.count=+e.count||0,e.data||[]}})},,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(9),o=i(62);e.exports=s.extend({url:"CartIndicator",defaults:{action:null,actionId:null,count:0},initialize:function(e,t){this.listenTo(o,"Cart:add",this.addToCart),this.listenTo(o,"Cart:remove",this.removeFromCart),t&&t.fetch&&this.fetch()},getQueryParams:function(){return n.pick(this.attributes,"action","actionId")},addToCart:function(e){return this.save({action:"add",actionId:e.fileId}).then(function(){o.fire("Cart:added",{fileId:n.isArray(e.fileId)?e.fileId:[e.fileId]})})},removeFromCart:function(e){return this.save({action:"remove",actionId:e.fileId}).then(function(){o.fire("Cart:removed",{fileId:n.isArray(e.fileId)?e.fileId:[e.fileId]})})}})},function(e,t,i){"use strict";var n=i(1)(i(23)),s=i(0),o=i(9),r=i(22),a=i(14),l=i(103),c=i(11),h=o.extend({isBulkAllowed:function(){return!1},defaults:l.defaults,validation:l.validation,mutable:{query:["query"],seller:["seller"],type:["photo","vector","video"],related:["relatedTo","relatedItemId"],editorial:["editorial_only","editorial_exclude"],people:["mr_property_only","mr_property_exclude","mr_release_quantity","gender","age","race"],sizes:["size_unit","min_width","min_height"]},serviceFields:["hash","query","offset","limit","photo","vector","video","nudity","sorting","correction","size_unit","itemPermission","rawSearchParams","metaScope","effectiveParams","slicesInfo","experiments","extendedTrackData"],filterFields:["accuracy","category","seller","exclude_keywords","orientation","editorial_only","editorial_exclude","mr_release_quantity","mr_property_only","mr_property_exclude","gender","age","race","size_unit","min_width","min_height","color","dataSource","relatedTo","relatedItemId","folderId","folderName"],storable:["limit","nudity"],resetValues:[{triggers:["query"],field:"sorting",values:[l.premiumSorting],defaultValue:"best_match"}],initialize:function(e,t){this.mutateInitialSorting(),this.on(r.prefixedArrayString("change:",this.storable),function(){t&&t.userSettings&&t.userSettings.set("SearchQuery",this.exportSettings(this.storable))}),this.options.searchRestrictions&&(this.searchRestrictions=this.options.searchRestrictions,this.updateSearchQueryDefaults(),this.listenTo(this.searchRestrictions,"change",this.updateSearchQueryDefaults)),this.on("change",this.onChange),this.on(r.prefixedArrayString("change:",this.mutable.query),this.mutateQuery),this.on(r.prefixedArrayString("change:",this.mutable.seller),this.mutateSeller),this.on(r.prefixedArrayString("change:",this.mutable.type),this.mutateType),this.on(r.prefixedArrayString("change:",this.mutable.related),this.mutateRelated),this.on(r.prefixedArrayString("change:",this.mutable.editorial),this.mutateEditorial),this.on(r.prefixedArrayString("change:",this.mutable.people),this.mutatePeople),this.on(r.prefixedArrayString("change:",this.mutable.sizes),this.mutateSizes),this.on("change:dataSource",this.mutateCorrection)},updateSearchQueryDefaults:function(){this.secureSet(this.searchRestrictions.filterSearchAttributes(this.toJSON()))},exportUrl:function(){return this.get("relatedTo")?"Related":"Search"},getRawSearchParams:function(){var e=this;if(null!==this.get("rawSearchParams"))return this.get("rawSearchParams");if(!this.app.queryParams)return null;var t=(0,n.default)(this.app.queryParams).reduce(function(t,i){return i.includes("search_params")&&(t[i]=e.app.queryParams[i]),t},{});return(0,n.default)(t).length?t:null},getMetaScope:function(){var e=this.get("metaScope");return!e&&this.app.queryParams&&{}.hasOwnProperty.call(this.app.queryParams,"meta_scope")&&(e=this.app.queryParams.meta_scope),e},getRestrictions:function(){return this.searchRestrictions},getQueryParams:function(){return this.get("relatedTo")?s.pick(this.attributes,"relatedTo","relatedItemId","offset","limit","sorting"):s.extend(s.clone(this.attributes),{rawSearchParams:this.getRawSearchParams(),metaScope:this.getMetaScope(),requestBack:!(this.hasChanged("offset")&&s.isEmpty(s.omit(this.changed,"offset")))})},onChange:function(){var e=this,t=s.omit(this.changed,["hash","offset"]);if(!s.isEmpty(t)){var i={};this.changed.offset||(i.offset=0),s.isEmpty(s.omit(t,"limit"))||(i.hash=void 0),this.resetValues.length&&s.each(this.resetValues,function(n){s.intersection(s.keys(t),n.triggers).length&&-1!==n.values.indexOf(e.get(n.field))&&(i[n.field]=n.defaultValue)}),this.set(i,{silent:!0})}},mutateInitialSorting:function(){this.isCategory()?this.secureSet(l.categoryDefaults):this.isPortfolio()&&this.secureSet(l.portfolioDefaults)},mutateCorrection:function(e){e.attributes.correction=e.attributes.dataSource===e.defaults.dataSource},mutateQuery:function(e){e.attributes.relatedTo=null,e.attributes.relatedItemId=0,e.attributes.offset=e.changed.offset||e.defaults.offset},mutateSeller:function(e){e.changed.seller&&e.attributes.seller&&(e.attributes.accuracy=this.defaults.accuracy)},mutateType:function(e){this.mutateQuery(e),e.changed.video&&(e.attributes.size_unit=e.defaults.size_unit,e.attributes.min_width=e.defaults.min_width,e.attributes.min_height=e.defaults.min_height,e.attributes.orientation=e.defaults.orientation),(e.changed.photo||e.changed.vector)&&(e.attributes.resolution=e.defaults.resolution)},mutateRelated:function(e){s.extend(e.attributes,s.omit(e.defaults,["relatedTo","relatedItemId","sorting","offset","limit"]))},mutateEditorial:function(e){e.changed.editorial_only&&(e.attributes.editorial_exclude=!1),e.changed.editorial_exclude&&(e.attributes.editorial_only=!1)},mutatePeople:function(e){e.changed.mr_release_quantity&&this.calculateMutation("mr_release_quantity"),e.changed.mr_property_only&&this.calculateMutation("mr_property_only"),e.changed.mr_property_exclude&&this.calculateMutation("mr_property_exclude"),e.changed.gender&&this.calculateMutation("gender"),e.changed.age&&this.calculateMutation("age"),e.changed.race&&this.calculateMutation("race")},calculateMutation:function(e){switch(e){case"mr_property_only":this.attributes.mr_property_exclude=!1;break;case"mr_property_exclude":this.attributes.mr_property_only=!1,this.attributes.mr_release_quantity=this.defaults.mr_release_quantity,this.attributes.gender=this.defaults.gender,this.attributes.age=this.defaults.age,this.attributes.race=this.defaults.race;break;case"mr_release_quantity":case"gender":case"age":case"race":this.attributes.mr_property_only=!0,this.attributes.mr_property_exclude=!1}},mutateSizes:function(e){!e.changed.size_unit||e.changed.min_width||e.changed.min_height||(0!==e.attributes.min_width&&(e.attributes.min_width=this.recalculateSize(e,"min_width")),0!==e.attributes.min_height&&(e.attributes.min_height=this.recalculateSize(e,"min_height")))},clearSearchFiltration:function(){this.resetToDefaults(s.without(s.keys(this.defaults),"dataSource","query","limit","sorting","photo","vector","video"))},recalculateSize:function(e,t){var i=e.previous("size_unit"),n=e.attributes[t]/s.findWhere(c.rates,{key:i}).rate;return s.findWhere(c.rates,{key:e.attributes.size_unit}).rate*n},getPositionFromSize:function(e,t){return this.get(e)/s.findWhere(c.rates,{key:t||this.get("size_unit")}).rate},getSizeFromPosition:function(e,t){return s.findWhere(c.rates,{key:t||this.get("size_unit")}).rate*e},parse:function(e){var t={};return s.each(l.parseDataHandlers,function(i,n){s.has(e,n)&&i(e[n],t)}),t},isPortfolio:function(){return this.get("seller").length>0},isCategory:function(){return this.get("category")&&!this.get("query")},isNewResults:function(){return"newest"===this.get("sorting")&&!this.get("query")},toQuery:function(e){void 0===e&&(e=this.attributes);var t=[];return s.each(e,function(e,i){void 0!==e&&""!==e&&t.push(i+"="+a.encodeURIComponent(e))}),t.join("&")},toTracking:function(e){switch(e){case"sorting":var t=s.findWhere(c.sortings,{key:this.get(e)});return t&&t.value||this.get(e);case"type":var i="search";return!this.get("photo")||this.get("vector")||this.get("video")?this.get("photo")||!this.get("vector")||this.get("video")?this.get("photo")||this.get("vector")||!this.get("video")||(i="stock-footage"):i="vector-images":i="stock-photos",i;default:return""}},toFlume:function(){return s.pick(this.attributes,"effectiveParams","slicesInfo","experiments","extendedTrackData")},changedToTracking:function(e,t){var i=this;void 0===e&&(e=!0),void 0===t&&(t=!1);var n={category:{name:"Category",value:function(e){return 0===e?i.app.translator.tr("All Categories"):s.findWhere(c.categories,{id:e}).name}},color:{name:"Colour",value:function(e){return e?"Yes":"No"}},editorial_exclude:{name:"Exclude Editorial",value:function(e){return e?"On":"Off"}},editorial_only:{name:"Only Editorial",value:function(e){return e?"On":"Off"}},exclude_keywords:{name:"Exclude Keywords"},orientation:{name:"Orientation",value:function(e){return{all:"All",horizontal:"Horisontal",vertical:"Vertical",square:"Sqare"}[e]}},resolution:{name:"Resolution",value:function(e){return{all:"All",1:"720p",2:"1080p",3:"4K"}[e]}},seller:{name:"Contributor"},accuracy:{name:"Accuracy"},mr_release_quantity:{name:"NumberPeople"},mr_property_exclude:{name:"PeopleExclude"},mr_property_only:{name:"PeopleOnly"},gender:{name:"Gender",value:function(e){return{female:"Female",male:"Male",both:"Male&Female"}[e]}},age:{name:"Age",value:function(e){return{infant:"Infant",child:"Child",teenager:"Teenager"}[e]||e}},race:{name:"Ethnicity",value:function(e){return e}}},o={};e&&(o.AutoSearch=1);var r=s.omit(this.changed,this.serviceFields);return s.each(r,function(e,s){if(n[s]&&(t||i.defaults[s]!==e)){var r=s,a=e;n[s].name&&(r=n[s].name),n[s].value&&(a=n[s].value(e)),o[r]=a}}),o},getOffsetByCount:function(e){var t=this.get("offset"),i=this.get("limit"),n=parseInt(e,10)||0;return t>n?n-n%i:t%i!=0?t-t%i:t},defineSearchType:function(e){var t,i=!!e;return i&&this.get("editorial_only")?t="editorial":!i&&this.get("photo")&&this.get("vector")?t="allPhoto":this.get("photo")?t="photo":this.get("vector")?t="vector":this.get("video")&&(t="video"),t},defineItemsType:function(){var e=this.defineSearchType();return"allPhoto"===e?"photo":e},defineSpecificSearchMode:function(){return this.isPortfolio()?"portfolio":this.isCategory()?"category":this.get("relatedTo")}},{createInstance:function(e){var t=s.extend({},e.app.queryParams,e.app.userSettings.get("SearchQuery"));return new h(t,{app:e.app,searchRestrictions:e.searchRestrictions,userSettings:e.app.userSettings,parse:!0})}});e.exports=h},function(e,t,i){"use strict";var n=i(0),s=i(9);e.exports=s.extend({defaults:{photo:!0,vector:!0,video:!0,editorial:!0},getQueryParams:function(){return{}},filterSearchAttributes:function(e){var t=n.clone(e);return e.photo||e.vector||e.video||(e.photo=e.vector=!0),this.get("editorial")||(t.editorial=void 0,t.editorial_only=!1,t.editorial_exclude=!1),t.photo=e.photo&&this.get("photo"),t.vector=e.vector&&this.get("vector"),t.video=e.video&&this.get("video"),t.photo||t.vector||t.video||(t.photo=this.get("photo"),t.photo||(t.vector=this.get("vector")),t.photo||t.vector||(t.video=this.get("video"))),t.photo===e.photo&&t.vector===e.vector&&t.video===e.video&&t.editorial===e.editorial&&t.editorial_exclude===e.editorial_exclude&&t.editorial_only===e.editorial_only||(t.hash=void 0),t}})},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(16),o=i(471),r=i(918),a=i(1491),l=i(1476),c=i(917),h=i(477),u=i(126),p=i(61),d=i(103),f=i(890),m=i(1474),g=i(1473);e.exports=o.extend({name:"SearchBar",el:!1,template:f,pageType:null,features:null,enableNavigate:!0,mobileMode:!1,autoFocus:!1,hintsCustomCssClass:"",events:{"click ._search-types":"onTypesSelectorClick","click ._reset":"onResetButtonClick","keydown ._input":"onInputKeyDown","click ._submit":"onSubmitButtonClick","submit ._search-form":"onSubmit","input ._input":"onInputInput","focus ._input":"onInputFocus","blur ._input":"onInputBlur"},globals:{click:"onBodyClick","resize window":"onWindowResize"},initialize:function(){this.model=this.app.store.get("SearchQuery"),this.setViews({"._search-types":new l({template:m,model:this.model,app:this.app,searchRestrictions:this.searchRestrictions,onSearchTypesChangeCallback:this.onSearchTypesChange.bind(this)})}),!this.app.device.isMobile&&this.features&&this.features.isFeatureOnValue("Search by image")&&this.setViews({"._search-images":new a({app:this.app})}),this.listenTo(this.model,"change paramsArrived",this.render),this.listenTo(this.model,"change:query",this.onQueryChange)},prepareRender:function(){this.mobileMode=t.browser?u.mobileMode():this.mobileMode},serialize:function(){return{placeholder:this.getPlaceholder(),query:p(this.model.get("query").replace(/-/gim," ")),searchLink:this.app.makeUrl("search")}},onQueryChange:function(){if(this.enableNavigate){var e=n.clone(this.model.attributes);e.data_source=e.dataSource,""===e.query&&d.pagesDefaultQuery[this.pageType]&&(e.query=d.pagesDefaultQuery[this.pageType]),d.pagesDefaultSorting[this.pageType]&&(e.sorting=d.pagesDefaultSorting[this.pageType]),this.app.router.redirect(this.app.makeUrl("search",{query:e}))}},clientAfterRender:function(){this.setNotExistView("SearchHints",r,{type:"search",template:g,collection:new c,onHintMouseDownCallback:this.chooseHint.bind(this),onHintSelectCallback:this.fillInputValue.bind(this),customCssClass:this.hintsCustomCssClass}).setAnchor(this.$("._params")[0]),h(this.$el,s.$),this.autoFocus&&!u.mobileMode()&&""===this.model.get("query")&&this.focusOnInput(),this.app.userSettings.get("Tour")&&this.app.userSettings.get("Tour").searchByImage||this.app.observer.fire("Tour:Start",{name:"searchByImage"}),this.$el.addClass("enable-transition")},onBodyClick:function(e){!this.el.getElementsByClassName("_search-types")[0].contains(e.target)&&this.getView("._search-types")&&this.getView("._search-types").isOpen()&&(this.getView("._search-types").toggle(!1),this.removeHighlight()),this.el.getElementsByClassName("_search-hints")[0].contains(e.target)||this.hideHints()},isSearchFieldEmpty:function(){return!this.$("._input").val().trim().length},onSubmitButtonClick:function(e){this.isSearchFieldEmpty()&&(this.$("._input").focus(),e.preventDefault())},trackBarSubmit:function(e){this.app.observer.broadcast("Track:UE:SearchBar:Submit",{query:e,type:this.getActiveOption().labelKey})},onSubmit:function(e){e.preventDefault();var t=this.$("._input").val().trim();0!==t.length&&(this.trackBarSubmit(t),this.onSearchQueryChange({query:t,correction:!0}),this.enableNavigate&&!1===this.model.hasChanged()&&this.model.trigger("change:query",this.model))},onTypesSelectorClick:function(){this.setHighlight(),this.getView("._search-types").toggle()},onInputInput:function(e){this.toggleClearButton(!!e.target.value),this.getView("SearchHints").load(e.target.value)},onInputFocus:function(){this.setHighlight()},onInputBlur:function(){this.removeHighlight()},setHighlight:function(){this.$el.addClass("focus")},removeHighlight:function(){this.$el.removeClass("focus")},onInputKeyDown:function(e){switch(e.keyCode){case 38:case 40:e.preventDefault(),this.getView("SearchHints").moveSelection(38===e.keyCode?-1:1);break;case 13:e.preventDefault(),this.isSearchFieldEmpty()||this.chooseHint();break;case 27:this.hideHints()}},onResetButtonClick:function(){this.$("._input").val(""),this.toggleClearButton(!1),this.hideHints(),this.focusOnInput()},onSearchTypesChange:function(e){this.onSearchQueryChange(n.extend(e,{query:this.$("._input").val().trim(),correction:!0})),this.updatePlaceholder()},onWindowResize:function(){var e=t.browser?u.mobileMode():this.mobileMode;e!==this.mobileMode&&(this.mobileMode=e,this.updatePlaceholder())},getActiveOption:function(){return this.getView("._search-types").getActiveOption()},getPlaceholder:function(){var e=this.app.device.isMobile||this.mobileMode?"placeholderMobile":"placeholder";return this.tr(this.getActiveOption()[e])},updatePlaceholder:function(){this.getView("._search-types")&&this.$("._input").attr({placeholder:this.getPlaceholder()})},chooseHint:function(){var e=this.$("._input").val().trim(),t=this.getView("SearchHints").getSelectedItem();t?(this.app.observer.broadcast("Track:UE:SearchHint:Select",{value:t.get("value"),query:this.$("._input").val().trim(),position:this.getView("SearchHints").collection.indexOf(t)+1}),this.$("._input").val(t.get("value"))):this.trackBarSubmit(e),this.onSearchQueryChange({query:e,correction:!0}),this.hideHints()},fillInputValue:function(e){this.$("._input").val(e)},toggleClearButton:function(e){this.$("._reset").toggleClass("search-bar-input__button-reset_hidden",!e)},hideHints:function(){this.getView("._search-types")&&this.getView("SearchHints").reset()},focusOnInput:function(){var e=this.$("._input");if(e.trigger("focus"),e[0].setSelectionRange){var t=e.val().length;e[0].setSelectionRange(t,t)}else e.val(e.val());document.body.scrollTop=0},onSearchQueryChange:n.noop})}).call(this,i(5))},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(488),r=s.extend({el:!1,events:{submit:"onSubmit","input ._field":"onRegularFieldInput","focusin ._field":"onRegularFieldFocusIn"},initialize:function(){this.model.enableViewValidation(this),this.listenTo(this.model,"invalid",this.handleModelInvalid)},remove:function(){this.model.disableViewValidation(this);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.prototype.remove.apply(this,t)},onSubmit:function(e){e&&e.preventDefault(),this.prepareSubmit(),this.validate()&&this.submit()},validate:function(){return this.model.isValid(!0)},handleModelInvalid:function(e,t){var i=this;n.size(t)&&n.each(t,function(e,t){var s=n.isArray(e)?n.first(e):e;i.fieldIncorrect(i.$("[name="+t+"]").parent(),{errorMessage:s})})},resetErrors:function(){var e=this;n.each(this.$("input, select"),function(t){return e.fieldReset(e.$(t).parent())})},onRegularFieldInput:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},onRegularFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},serialize:n.noop,prepareSubmit:n.noop,submit:n.noop});n.extend(r.prototype,o),e.exports=r},,,function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(63);e.exports={downloadByUrl:function(e){e.app.device.isMobile?(n.isFunction(e.callback)&&e.callback(),e.app.router.redirect(e.link)):this.initIFrame(e)},initIFrame:function(e){var t=this,i="u"+Math.random(),o=s.$("<iframe />",{class:"invisible","data-uuid":i});s.$("body").append(o),o.attr({src:e.link+(-1!==e.link.indexOf("?")?"&":"?")+"uuid="+i}),n.isObject(this.iframeLoaderData)||(this.iframeLoaderData={}),this.iframeLoaderData[i]={$iframe:o,callback:e.callback,toDelete:!1,errors:!1},o.on("load.priceTable",function(e){var i=e.currentTarget.getAttribute("data-uuid");t.iframeLoaderData[i].toDelete=!0,t.iframeLoaderData[i].errors=!0}),this.iFrameDaemon()},iFrameDaemon:function(){var e=this;!function t(){return clearTimeout(e.iframeLoaderId),!s.$.isEmptyObject(e.iframeLoaderData)&&(n.each(e.iframeLoaderData,function(t,i){t.toDelete?(t.callback&&n.isFunction(t.callback)&&t.callback(!t.errors),setTimeout(function(e){e.remove()}.bind(e,e.iframeLoaderData[i].$iframe),6e4),delete e.iframeLoaderData[i],o.set(i,"",{path:"/",expires:new Date})):o.get(i)===i&&(t.toDelete=!0)},e),e.iframeLoaderId=setTimeout(t,1e3),!0)}()}}},,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(1),s=n(i(131)),o=n(i(4)),r=i(16),a=i(11),l={dummy:{href:{params:"",options:""}},contributor:{href:{params:"signup",options:{protocol:"https:",query:{type:"seller"},backURL:!0}},rel:"nofollow"},examination:{href:{params:"examination"},rel:"nofollow"},clashot:{href:{params:"clashot"}},agreement:{href:{params:"member-agreement"}},license:{href:{params:"license-comparison"}},policy:{href:{params:"privacy-policy"}},documents:{href:{params:"legal-information"}},"terms-of-use":{href:{params:"terms-of-use"}},"privacy-policy":{href:{params:"privacy-policy"}}};e.exports={imitateLangLinksEnabled:function(e){var t=e.router.routeName,i=e.store.get("SearchQuery");return"FileView"===t||"Search"===t&&i&&!i.isNewResults()&&!i.isCategory()&&!i.isPortfolio()},transformToGeneratedLink:function(e,t,i){var n=t.getAttribute("data-seolink"),s=l[n]||l.dummy,a="";"lang"===n?a=(i||e.getLanguages()).find(function(e){return e.key===t.getAttribute("data-seolink-langkey")}).url:a=e.makeUrl(s.href.params,s.href.options);var c=(0,o.default)({},s,{href:a,class:t.className});e.device.isMobile?"_blank"===c.target?e.router.redirectToBlank(c.href):e.router.redirect(c.href):r.$(t).replaceWith(r.$("<a>"+t.innerHTML+"</a>").attr(c).removeClass("_pseudolink"))},transformToLink:function(e,t){var i={href:t||e.getAttribute("data-seolink")};(0,s.default)(e.attributes).forEach(function(e){"data-seolink"!==e.name&&(i[e.name]=e.value)});var n=r.$("<a>"+e.innerHTML+"</a>").attr(i).removeClass("_pseudolink");return r.$(e).replaceWith(n),n},transformOrRedirect:function(e,t,i){var n=this.transformToLink(t,i);e.device.isMobile&&("_blank"===n.getAttribute("target")?e.router.redirectToBlank(n.getAttribute("href")):e.router.redirect(n.getAttribute("href")))},requiredPatterns:function(){return[/\/search(?:\/\w+)?\.html/,/\/stock-photo(s|graphy)(?:\/\w+)?\.html/,/\/stock-footage(?:\/\w+)?\.html/,/\/vector-images(?:\/\w+)?\.html/]},applyLangSeoParams:function(e,t){void 0===e&&(e={});var i=new Array(3);return this.requiredPatterns().some(function(e){return e.test(t.parsedUrl.pathname)})&&i.push(e),t.getLanguages.apply(t,i)},isCanonicalWithPage:function(e){return["br"].includes(e.lang)},getSeoFileAltTemplate:function(e,t){var i={image:a.stockAltsImage,vector:a.stockAltsVector,video:a.stockAltsVideo},n=e.get("type");return i[n]?i[n][t%i[n].length].label:a.stockAlts.find(function(e){return e.key===n}).label}}},,,,function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(471),r=i(22),a=i(1653),l=o.extend({el:!1,template:a,lastModalCid:null,modalsRegister:[],zIndex:4e3,events:{touchend:"onTouchEnd"},serialize:function(){return{opacity:this.getOpacity()/100,overlayClasses:r.classNames({overlay_bg:!0}),closeButton:this.hasCloseButton()}},clientAfterRender:function(){var e=this;if(this.modalsRegister.length){s.$(".wrapper").prepend(this.$el),this.$el.css({zIndex:(n.last(this.modalsRegister).zIndex||this.zIndex+this.modalsRegister.length)-1});var t=this.getModal(this.lastModalCid);t.config.useFadeIn?n.delay(function(){return e.$el.addClass("overlay_fade-in "+t.config.className)},30):this.$el.addClass(t.config.className)}},show:function(e){if(e&&e.cid&&(this.lastModalCid=e.cid,!this.getModal(this.lastModalCid))){var t=n.pick(e,"cid","config");t.zIndex=e.zIndex||this.zIndex,this.modalsRegister.push(t)}return this.render().promise()},hide:function(e){this.modalsRegister=n.filter(this.modalsRegister,function(t){return t.cid!==e}),this.modalsRegister.length?(this.show(n.last(this.modalsRegister)),this.modalsRegister.length&&(this.lastModalCid=n.last(this.modalsRegister).cid)):(this.undelegateEvents(),this.$el.removeClass("overlay_bg"),this.$el.remove())},changeOpacity:function(e){this.$el.css({opacity:e})},getOpacity:function(){var e=this.getModal(this.lastModalCid);if(!e||e.config.useFadeIn)return 0;if(this.modalsRegister.length){var t=n.last(this.modalsRegister).opacity;return n.isArray(t)?n.findWhere(t,{active:!0}).value:n.isNumber(t)?t:0}return e.config.opacity||0},getModal:function(e){return n.findWhere(this.modalsRegister,{cid:e})},isLastModal:function(e){return!this.modalsRegister.length||n.last(this.modalsRegister).cid===e},hasCloseButton:function(){var e=this.getModal(this.lastModalCid);return e&&e.config&&e.config.closeButton},onTouchEnd:function(e){this.onTouchEndCallback(e)},onTouchEndCallback:n.noop});e.exports=new l},,,,function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(910),o=i(633);e.exports=s.extend({name:"Membership",showRefillModalOnClick:!0,originalEvents:(0,n.default)({},s.prototype.originalEvents,{click:"onClick","click ._buy-more":"onBuyMoreClick"}),onClick:function(e){this.$el.hasClass("_buy-more")&&this.showRefillModalOnClick&&(e.preventDefault(),this.showRefillMembershipModal())},onBuyMoreClick:function(e){e.preventDefault(),this.showRefillModalOnClick&&this.showRefillMembershipModal()},showRefillMembershipModal:function(){new o({app:this.app,type:"buyMore",destroyOnHide:!0}).show()}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(16).$,o=i(471),r=i(604),a=i(1061),l=i(488),c=o.extend({name:"PhoneNumber",el:!1,template:i(1582),templateSelection:n.template('<i class="callingcodeselector-cc callingcodeselector-cc-selection"><%= label %></i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag flag-<%= flag %>"></i>'),templateResult:n.template('<div class="callingcodeselector-row"><span class="callingcodeselector-col callingcodeselector-col-left"><i class="callingcodeselector-cn callingcodeselector-cn-item"><%= name %></i></span><span class="callingcodeselector-col callingcodeselector-col-middle"><i class="callingcodeselector-cc callingcodeselector-cc-item">+<%= phone %></i></span><span class="callingcodeselector-col callingcodeselector-col-right"><i class="callingcodeselector-flag callingcodeselector-flag-selection flag flag-<%= flag %>"></i></span></div>'),required:!1,phone:"",placeholder:"Phone",phoneFieldName:"phone",anDisallowedCharsRegex:/[^\d \-]/gim,events:{click:"onClick","click .phonenumber-cc":"onCallingCodeClick","blur .phonenumber-an":"onBlur","focus .phonenumber-an":"onFocus","paste .phonenumber-an":"onPasteCleanAN","keydown .phonenumber-an":"onKeyDownPreventNonAllowedKeys","keyup .phonenumber-an":"onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN","change .phonenumber-an":"onChange"},globals:{click:"handleDocumentClick"},initialize:function(){this.parsed=new r({app:this.app,phone:this.phone}),this.countries=this.makeISOCountryList(),this.on("change",this.setCompiledNumber.bind(this))},makeISOCountryList:function(e){return n.chain(a).sortBy(function(e){return e.country_name}).map(function(t){return{code:t.country_code,title:t.country_name,phoneCode:t.phoneCode,flag:t.country_code.toLowerCase(),selected:t.phoneCode===e}}).value()},serialize:function(){return{countries:this.makeISOCountryList(this.parsed.__parsed&&this.parsed.__parsed[0]),phone:this.getParsedPhoneNumber()||"",required:this.options.required,placeholder:this.options.required?this.placeholder+" *":this.placeholder,phoneFieldName:this.phoneFieldName}},clientAfterRender:function(){i(1581),this.__initSelect2()},getParsedPhoneNumber:function(){return this.parsed.__parsed&&this.parsed.__parsed[1]},getPhoneNumber:function(e){return this.$(".phonenumber-an").val()},getPhoneCode:function(){return this.$(".phonenumber-cc-value").val()},setCompiledNumber:function(){var e=!this.required||this.isValid()?this.getCompiledPhoneNumber():"";this.$("[name="+this.phoneFieldName+"]").val(e)},getCompiledPhoneNumber:function(){var e=this.getPhoneCode()+this.getPhoneNumber();return e?r.plusWith(e):""},__initSelect2:function(){i(1580);var e=this,t=this.$(".phonenumber-cc");t.height(function(){var e=s(this);e.height(e.parent().height()-2)}),t.addClass("phonenumber-select2").select2({theme:"phonenumber",width:"100%",placeholder:"&mdash;",dropdownAutoWidth:!0,preventWindowScroll:!0,allowClear:!1,minimumResultsForSearch:1/0,templateSelection:this.select2SelectionTemplate.bind(this),templateResult:this.select2ResultTemplate.bind(this),dropdownAdapter:i(1579),resultsAdapter:i(1578),escapeMarkup:function(e){return e},matcher:function(e,t){if(!e.term||!e.term.trim())return t;var i=t.text.trim().toLowerCase(),n=e.term.trim().toLowerCase();return i.substr(0,1)===n.substr(0,1)?t:null}}),t.on("select2:open",function(){e._opened=!0,e.onFocus(),s(this).data("select2").$dropdown.width(t.closest(".phonenumber").outerWidth()),t.find(".select2").height(function(){var e=s(this);e.height(e.closest(".phonenumber-cell").height())})}),t.on("select2:close",function(){e._opened=!1,e.onBlur()}),t.on("select2:select",function(){s(this).blur(),e.focusAbonentNumberInput()}),t.on("change",this.updateCCFromCC.bind(this)),this.updateCCFromCC()},select2SelectionTemplate:function(e){if(!e.id)return e.text;var t=e.element.getAttribute("data-cc"),i=t?"+"+t:"&#8212;&nbsp;&nbsp;&nbsp;";return this.templateSelection({label:i,flag:e.element.getAttribute("data-flag")})},select2ResultTemplate:function(e){return e.id&&e.element?this.templateResult({name:e.text,phone:e.element.getAttribute("data-cc"),flag:e.element.getAttribute("data-flag")}):e.text},onPasteCleanAN:function(){var e=this.$(".phonenumber-an"),t=e.attr("maxlength");e.removeAttr("maxlength"),clearTimeout(this._pasteTimer),this._pasteTimer=setTimeout(function(){this.cleanAN(),e=this.$(".phonenumber-an");var i=this.getAN();e.attr("maxlength",t),i=i.replace(/[^\d-]/gi,""),this.setAN(i.length>t?i.substring(0,t):i)}.bind(this),30)},onKeyDownPreventNonAllowedKeys:function(e){n.contains([46,8,9,27,13,32],e.which)||!e.shiftKey&&n.contains([189,109,173],e.which)||!0===e.ctrlKey||!0===e.metaKey||e.which>=35&&e.which<=40||e.altKey&&e.shiftKey||(e.shiftKey||e.which<48||e.which>57)&&(e.which<96||e.which>105)&&e.preventDefault()},onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN:function(e){clearTimeout(this._keyupTimer),this._keyupTimer=setTimeout(function(){18===e.which&&this.cleanAN()}.bind(this),30)},onChange:function(){this.required&&this.validateAndHighlight(),this.trigger("change",this)},cleanAN:function(){var e=this.getAN(),t=this.cleanANValue(e);e!==t&&this.setAN(t)},cleanANValue:function(e){return(e||0===e?e:"").toString().replace(this.options.anDisallowedCharsRegex,"")},updateCCFromCC:function(){var e=this.getCCSelected();this.setCCValue(e),n.each(this.countries,function(t){t.selected=t.phoneCode===e},this),this.trigger("change",this)},getCCSelected:function(){return this.$(".phonenumber-cc :selected").attr("data-cc")},getAN:function(){return this.$(".phonenumber-an").val()},setAN:function(e){this.$(".phonenumber-an").val(e)},getCCValue:function(){return this.$(".phonenumber-cc-value").val()},setCCValue:function(e){this.$(".phonenumber-cc-value").val(e)},handleDocumentClick:function(){this._opened&&(this.$(".phonenumber-cc").select2("close"),this.onBlur())},onCallingCodeClick:function(){return this.onFocus(),!1},onClick:function(){return this.resetHighlight(),!1},focusAbonentNumberInput:function(){this.$(".phonenumber-an").focus()},resetHighlight:function(){this.fieldReset(this.$el)},highlightInvalid:function(){this.fieldIncorrect(this.$el)},highlightValid:function(){this.fieldCorrect(this.$el)},validateAndHighlight:function(){var e=this.isValid();return e?this.highlightValid():this.highlightInvalid(),e},params:function(){var e=this.getCCValue();return{callingCode:"NONE"===e?"":e,abonentNumber:this.getAN()}},value:function(){var e=this.params();return e.callingCode+e.abonentNumber},isValid:function(){var e=this.params();return this.options.required?e.callingCode&&e.abonentNumber:!e.abonentNumber||!!e.callingCode},onFocus:function(){this.$el.addClass("phonenumber-focused")},onBlur:function(){this.$el.removeClass("phonenumber-focused")}});n.extend(c.prototype,l),e.exports=c},,,,function(e,t,i){"use strict";(function(t){var n=i(1)(i(4)),s=i(0),o=i(471),r=i(14),a=i(697),l=i(696).index,c=i(490);e.exports=o.extend({name:"Series",el:!1,slide:!1,slideConfig:{},videoContent:!1,isDownloadLocked:!1,events:{click:"onSeriesBoxClick","click ._series-link":"onLinkClick"},prepareRender:function(){this.videoContent&&this.model.get("elements").at(0)&&this.setViews({"._series-video":new c({app:this.app,RAWVideoFiles:this.model.get("elements").at(0).get("resource").get("src"),width:832,height:468,controls:!1,hasPoster:!1,autoplay:!!t.browser,spinner:{top:"92%",left:"2%",color:"#c8c8c8"}})})},clientAfterRender:function(){this.slide&&a(this.$el,(0,n.default)(s.clone(l),this.slideConfig)),this.tryToShowBackground()},serialize:function(){return{lang:this.app.lang,series:this.model.toJSON(),isDownloadLocked:this.isDownloadLocked,isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed")}},tryToShowBackground:function(){var e=this;s.each(this.$("._has-bg"),function(t){var i=e.$(t);i.attr("style",i.attr("data-bg")).removeAttr("data-bg").removeClass("series-table__cell_show-img _has-bg")})},onLinkClick:function(e){var t;e.preventDefault();for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];(t=this.onSeriesLinkClick).call.apply(t,[this,e].concat(n)),this.trackSeriesClick(e.currentTarget.href),this.app.router.redirect(e.currentTarget.href)},trackSeriesClick:function(e){var t={url:e,target:"search"};if("FileView"===(r.getRoute(e)||{}).name){var i=r.getExtendedQueryParams(e).id;i&&(t.targetId=parseInt(i,10),t.target="fileView")}this.app.observer.broadcast("Track:UE:Series:Click",t)},onSeriesBoxClick:function(){},onSeriesLinkClick:function(){}})}).call(this,i(5))},,,,,,function(e,t,i){"use strict";var n=i(910),s=i(11);e.exports=n.extend({name:"OnDemand",getSplitCountLabel:function(e){var t=e.split_count>0&&e.split_count<=10?"custom":"unlimit",i=s.productSplitCountLabels.find(function(i){return i.type===e.type&&i.value===t}).label;return this.tr(i,e.split_count)},getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s downloads",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){var t=e.expires<86400?"today":"default",i=Math.floor(e.expires/86400),n=s.productRenewLabels.find(function(i){return i.type===e.type&&i.period===t}).label;return this.tr(n,i)}})},function(e,t,i){"use strict";var n=i(0),s=i(910),o=i(471),r=i(11),a=i(1570),l=i(1568),c=i(473),h=i(472),u=i(127),p=i(2);e.exports=s.extend({name:"Subscription",periods:[30,90,180,360],prepareRender:function(){s.prototype.prepareRender.call(this),this.removeView("helpTooltip"),this.removeView("infoTooltip"),this.needToShowHelpTooltip()&&this.setView("helpTooltip",new c({params:h.Product,content:this.getHelpTooltipContent(this.product)})),this.setView("infoTooltip",new c({params:h.ProductInfo,content:this.getInfoTooltipContent(this.product)}))},needToShowHelpTooltip:function(){return!this.app.user.get("isSubaccount")||this.app.user.get("isSubaccount")&&this.product.owner},getSplitCountLabel:function(e){var t=e.split_count>0&&e.split_count<=10?"custom":"unlimit",i=r.productSplitCountLabels.find(function(i){return i.type===e.type&&i.value===t}).label;return this.tr(i,e.split_count)},getLeftLabel:function(e){var t=1===e.buy_period?"daily":"default",i=0===e.rebill_started?[e.left,e.count]:[0,0],n=r.productLeftLabels.find(function(i){return i.type===e.type&&i.period===t}).label;return this.tr(n,i)},getHelpTooltipContent:function(e){return 0===e.rebill_started?new a({app:this.app,product:this.product}):new l({app:this.app,product:this.product})},getInfoTooltipContent:function(e){return 0===e.rebill_started?new o({el:!1,app:this.app,template:function(){return this.tr(u.DaysLeft)}}):new l({app:this.app,product:this.product})},getRenewLabel:function(e){var t,i,s=p.duration(p.unix(e.renewal).valueOf());1===e.buy_period?(t="daily",i=[s.hours(),s.minutes()]):(t="default",i=s.days());var o=n.findWhere(r.productRenewLabels,{type:e.type,period:t}).label.trim();return 1===e.rebill_started&&(i="daily"===t?[0,0]:0),this.tr(o,i)},getDaysLeft:function(e){return 1===e.rebill_started?0:p.unix(e.expires).diff(p(),"d")},showHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").show(e)},hideHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").hide(e)},showInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").show(e)},hideInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").hide(e)}})},function(e,t,i){"use strict";var n=i(0),s=["indexAmazing","indexAmazing1","indexAmazing2","indexProfessional1","indexProfessional2","indexFresh1","indexFresh2","indexFresh3","indexVideos1","indexVideos3","indexVideos2","indexVideos4"],o={photo:["landingPhotos"],vector:["landingVectors"],editorial:["landingEditorial"],video:["landingVideos1","landingVideos2"]},r={index:["indexMainSlider"].concat(s),photo:["landingPhotosMain"],vector:["landingVectorsMain"],editorial:["landingEditorialMain"],video:["landingVideosMain"],dribbble:["dribbble"].concat(s),vecteezy:["vecteezy"].concat(s),picjumbo:["picjumbo"].concat(s),dealjumbo:["dealjumbo"].concat(s),mockupworld:["mockupworld"].concat(s),pixelbuddha:["pixelbuddha"].concat(s),sendpulse:["sendpulse"].concat(s)};n.each(o,function(e,t){r[t]=r[t].concat(e)}),e.exports.seriesModelDefault={name:null,alone:!1,random:!1,slider:!1,elements:null},e.exports.seriesElementModelDefault={title:null,resource:null},e.exports.series=[{name:"indexMainSlider",alone:!0,random:!0,className:"series-box_poster"},{name:"landingPhotosMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingVectorsMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingEditorialMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingVideosMain",alone:!0,random:!0,className:"series-box_typed-poster series-box_typed-poster_video"},{name:"dribbble",alone:!0},{name:"vecteezy",alone:!0},{name:"picjumbo",alone:!0},{name:"dealjumbo",alone:!0},{name:"mockupworld",alone:!0},{name:"pixelbuddha",alone:!0},{name:"sendpulse",alone:!0},{name:"indexAmazing",slider:!0},{name:"indexAmazing1",slider:!0},{name:"indexAmazing2",slider:!0},{name:"indexProfessional1",slider:!0},{name:"indexProfessional2",slider:!0},{name:"indexFresh1",slider:!0},{name:"indexFresh2",slider:!0},{name:"indexFresh3",slider:!0},{name:"indexVideos1",slider:!0},{name:"indexVideos2",slider:!0},{name:"indexVideos3",slider:!0},{name:"indexVideos4",slider:!0},{name:"landingPhotos",grid:{rows:3,columns:4,spans:{"0:0":{rowspan:2},"1:1":{colspan:2}}}},{name:"landingVectors",grid:{rows:3,columns:4,spans:{"1:1":{colspan:2}}}},{name:"landingEditorial",grid:{rows:3,columns:4,spans:{"0:0":{rowspan:2},"0:3":{rowspan:2},"1:1":{colspan:2}}}},{name:"landingVideos1",grid:{rows:1,columns:3,spans:{"0:0":{className:"series-table__link_third"},"0:1":{className:"series-table__link_third"},"0:2":{className:"series-table__link_third"}}}},{name:"landingVideos2",grid:{rows:2,columns:4,spans:{"0:1":{colspan:2}}}},{name:"landingCuratedCollectionPhoto",grid:{rows:4,columns:4,spans:{"0:0":{colspan:2},"0:2":{rowspan:2},"1:0":{rowspan:2},"2:1":{colspan:2},"2:3":{rowspan:2},"3:0":{colspan:2}}}},{name:"landingCuratedCollectionVector",grid:{rows:4,columns:4,spans:{"0:1":{rowspan:2},"0:2":{colspan:2},"1:3":{rowspan:2},"2:0":{rowspan:2},"2:1":{colspan:2},"3:2":{colspan:2}}}},{name:"landingCuratedCollectionEditorial",grid:{rows:4,columns:4,spans:{"0:0":{rowspan:2},"0:2":{colspan:2},"1:1":{colspan:2},"1:3":{rowspan:2},"2:1":{rowspan:2},"3:2":{colspan:2}}}},{name:"curatedCollectionPoster",alone:!0,className:"series-box_link"},{name:"curatedCollectionPosterMedium",alone:!0}],e.exports.seriesByPages=r,e.exports.customPageGridSeries=o},,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(9),o=i(48),r=i(596),a=i(1596);e.exports=s.extend({url:"Series",defaults:r.seriesModelDefault,getQueryParams:function(){return n.extend({},n.pick(this.attributes,"name","lang","random"),{limit:this.get("alone")?1:0})},parse:function(e){var t=this.get("elements")?this.get("elements").reset(e.elements||[],{parse:!0}):new o(e.elements||[],{app:this.app,model:a,parse:!0});return n.extend({},e,{elements:t})},toJSON:function(){var e=n.omit(this.attributes,"elements");return e.elements=[],this.get("elements")&&this.get("elements").each(function(t){e.elements.push(t.toJSON())}),this.get("grid")&&(e.grid=this.makeGrid()),e},makeGrid:function(){var e=this.get("grid"),t=[],i=[];return n.each(n.range(e.rows),function(s){var o=[];n.each(n.range(e.columns),function(t){var r=s+":"+t;if(!(n.indexOf(i,r)>-1)){var a={};e.spans&&e.spans[r]&&(n.extend(a,e.spans[r]),n.each(n.range(1,e.spans[r].colspan||1),function(e){i.push(s+":"+(t+e))}),n.each(n.range(1,e.spans[r].rowspan||1),function(o){i.push(s+o+":"+t),n.each(n.range(1,e.spans[r].colspan||1),function(e){i.push(s+o+":"+(t+e))})})),o.push(a)}}),o.length&&t.push(o)}),t}})},function(e,t,i){"use strict";var n=i(0),s=i(1062),o=i(1061),r=i(1603).format,a=function(){function e(e){void 0===e&&(e={phone:""}),this.phone=e.phone,this.app=e.app,this.phoneParse(this.phone)}var t=e.prototype;return t.getISO3166=function(e){var t;return this.app&&(t=n.findWhere(o,{country_code:this.app.config.country||this.app.user.get("country")})),n.findWhere(o,{phoneCode:e})||t},t.getISO3166ByPhone=function(e){var t=null;return o.every(function(i){var n=new RegExp("^"+i.phoneCode);return i.phone_number_lengths.every(function(s){return!e.match(n)||e.length!==i.phoneCode.length+s||i.mobile_begin_with.every(function(n){return!e.match(new RegExp("^"+i.phoneCode+n))||(t=i,!1)})})}),t},t.phoneParse=function(t){var i=t;i=e.parseReady(i&&"string"==typeof i?i:"");var n=this.getISO3166ByPhone(i)||this.tryToForceParse(i)||this.getISO3166();return!!n&&(-1===["GA","CI","CG"].indexOf(n.country_code)&&(i=i.replace(/^0+/,"")),"RU"===n.country_code&&11===i.length&&i.match(/^89/)&&(i=i.replace(/^8+/,"")),this.__parsed=[n.phoneCode,i.replace(n.phoneCode,""),n],this.__parsed)},t.tryToForceParse=function(t){for(var i=e.parseReady(t),s=5;--s;){var r=i.slice(0,s);if(n.findWhere(o,{phoneCode:r}))return this.getISO3166(r)}return null},e.parse=function(t){var i=new e,n=e.parseReady(t);return n&&i.phoneParse(n)||n},e.plusLess=function(e){return e.replace(/^\+*/,"")},e.plusWith=function(e){return"+"+e},e.parseReady=function(e){return e.replace(/\D/g,"")},e.formatByMask=function(t,i){var n,s="",o=0,r=0,a=e.plusLess(t);if(i)for(;r<i.length;r++)"x"===(n=i.charAt(r))?(s+=a.charAt(o),o++):s+=n;else s=a;return s},e.beautify=function(t){var i=e.parse(t);if(!n.isArray(i))return t.replace(/[^0-9-]/g,"");if(!i[1])return"";var s=i[0]+i[1],o=n.findWhere(r,{code:i[2].country_code});return o&&e.formatByMask(s,o.mask)||e.plusWith(s)},e.getContactUsPhone=function(t){var i=0,o={number:"1-954-990-0075",lang:["en"]};return n.each(s,function(e){var n=(-1!==e.country.indexOf(t.config.country))+10*(-1!==e.lang.indexOf(t.lang));n>i&&(o=e,i=n)}),e.beautify(o.number)},e}();e.exports=a},,,,,function(e,t,i){"use strict";var n=i(0),s=i(482),o=i(471),r=i(480),a=i(492),l=i(511),c=i(487),h=i(484),u=i(510),p=i(509),d=i(656),f=i(22).classNames,m=i(11),g=i(635),b=i(683);e.exports=s.extend({initialize:function(){this.initStoreLinks(),this.initData()},prepareRender:function(){this.setViews({"":[new o({name:"wrapper",className:this.getWrapperClassNames(),views:{"":[this.getHeaderSection(),this.getContentSection(),this.getFooterSection()]}})]})},clientAfterRender:function(){this.enableFavoritesPanel(),this.enableToTopButton()},initStoreLinks:function(){this.searchRestrictions=new u(this.app.user.get("searchVisibility"),{app:this.app}),this.app.store.link("SearchQuery",p.createInstance({app:this.app,searchRestrictions:this.searchRestrictions})),this.app.store.link("Countries",new d([],{app:this.app})),this.app.store.get("Countries").fetch()},getWrapperClassNames:function(){return f({wrapper:!0,wrapper_desktop:!0})},getHeaderSection:function(){return new r({app:this.app,views:{"._search-bar":new l({app:this.app,features:this.features,searchRestrictions:this.searchRestrictions,onSearchQueryChange:this.onSearchQueryChange.bind(this)}),"._user-bar":new a({app:this.app,onAuthCallback:this.onAuthCallback.bind(this),onLogoutCallback:this.onLogoutCallback.bind(this)})},onLogoutCallback:this.onLogoutCallback.bind(this)})},getContentSection:n.noop,initData:n.noop,getFooterSection:function(){return new h({app:this.app,feedbacks:this.feedbacks})},getTabsSection:function(){return new c({template:g,app:this.app,schema:m.userMenuTabs})},getSubTabsSection:function(e){return void 0===e&&(e={}),new c(n.extend({name:"Menu",template:b,app:this.app,schema:this.getMenuTabs()},e))},getMenuTabs:m.enterpriseMenuTabs})},function(e,t,i){"use strict";var n=i(471),s=i(127);e.exports=n.extend({template:i(1374),className:"pager-limit",events:{"change select":"onLimitChange"},initialize:function(){this.listenTo(this.collection,"change update reset",this.render)},prepareRender:function(){return this.$(">*").remove(),this.collection.isPagerLimitAvailable()},onLimitChange:function(e){this.collection.setPageableParams({limit:+e.currentTarget.value,offset:0})},getOptions:function(){var e=this;return this.collection.getPageableLimits().map(function(t){return{value:t,title:e.tr(s.PerPage,t)}})},serialize:function(){return{options:this.getOptions(),selected:this.collection.getPageableParams("limit")}}})},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(488),r=i(473),a=i(472).Pager,l=i(127),c=i(14),h=s.extend({template:i(789),className:"pager",events:{"click a":"onButtonClick","click .pager__input":"onInputEvent","focusin .pager__input":"onInputEvent","keydown .pager__input":"onInputEvent","keypress .pager__input":"onInputEvent","input .pager__input":"onInputEvent"},initialize:function(){var e=this;this.model=this.collection.getPageableModel(),this.listenTo(this.model,{change:function(t){return t.changed&&t.changed.limit&&e.updateBrowserHistory()}}),this.listenTo(this.collection,"update reset",function(t,i){e.render().promise().then(function(){return!0===i.reset&&"undefined"!=typeof window&&window.scroll("top",0)})}),this.listenTo(this.collection,"popstate",this.handlePagePopState)},handlePagePopState:function(e){this.model.get("offsetByItems")?this.model.secureSet("offset",+e.queryParams.offset||0):this.model.setPage(+e.queryParams.page||1)},serialize:function(){return{schema:this.model.getSchema(),state:this.model.toJSON()}},clientAfterRender:function(){this.setNotExistView("tooltip",r,{params:a,content:new s({el:!1,template:function(){return this.tr(l.PagerTitle)}})})},onButtonClick:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-dir"),i=parseInt(e.currentTarget.getAttribute("data-page"));-1!==n.indexOf(["next","prev"],t)&&(i=this.model.get("page")+("next"===t?1:-1)),-1===e.currentTarget.className.search("pager__page_inactive")&&this.changePage(i)},onInputEvent:function(e){var t=e.currentTarget,i=e.which||e.keyCode;switch(e.type){case"click":this.showToolTip(e);break;case"focusin":t.setAttribute("data-value",t.innerHTML);break;case"keydown":this.hideToolTip(e);break;case"keypress":13===i&&(e.preventDefault(),this.changePage(+t.innerHTML));break;case"input":if(""!==t.innerHTML&&this.model.preValidate("page",t.innerHTML)&&(t.innerHTML=t.getAttribute("data-value"),this.incorrect(),t.innerHTML.length)){var n=document.createRange(),s=window.getSelection();n.setStart(t.childNodes[0],t.innerHTML.length),n.collapse(!0),s.removeAllRanges(),s.addRange(n)}t.setAttribute("data-value",t.innerHTML)}},incorrect:function(){var e=this.$(".pager__input-box");this.fieldIncorrect(e),n.delay(n.bind(this.fieldReset,this,e),300)},changePage:function(e){this.model.setPage(e),this.onPageChangeIndicate(),this.updateBrowserHistory()},onPageChangeIndicate:function(){var e=this.model.get("page");e=e>this.model.validation.page.min&&e<this.model.get("pagesCount")?e:"",this.$(".pager__input").html(e)},showToolTip:function(e){this.getView("tooltip").show(e)},hideToolTip:function(e){this.getView("tooltip").hide(e)},updateBrowserHistory:function(){var e=this.model.getSchema();this.app.router.navigate(e.current,{replace:!1}),this.app.url=c.rewriteUrl(e.current),this.app.queryParams=c.getExtendedQueryParams(this.app.url),this.app.history.write()}});n.extend(h.prototype,o),e.exports=h},,function(e,t,i){"use strict";var n=i(910),s=i(11);e.exports=n.extend({name:"ImagePack",getExpiresLabel:function(e){var t=s.productRenewLabels.find(function(t){return t.type===e.type}).label;return this.tr(t)}})},function(e,t,i){"use strict";var n=i(910),s=i(11),o=i(2);e.exports=n.extend({name:"Credits",getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s credits",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){var t=o.unix(e.expires).diff(o(),"d"),i=t<1?"today":"default",n=s.productRenewLabels.find(function(t){return t.type===e.type&&t.period===i}).label;return this.tr(n,t)}})},function(e,t,i){"use strict";(function(e){var n=i(40),s=t.reset=function(t){if(e.browser&&window.grecaptcha){var i=function(e){if(!e||!e.length)return null;var t=e.attr("id").split("g-recaptcha-response-");return t[1]?t[1]:null}(t);try{grecaptcha.reset(i)}catch(e){}}},o=t.reinit=function(e){e&&(e.children.length?s():grecaptcha.render(e))};t.injectScript=function(t,i){if(void 0===i&&(i=function(){}),e.browser)if(document.getElementById("recaptcha"))o(t);else{window.onloadRecaptchaCallback=function(){t&&(grecaptcha.render(t),i())};var s=document.createElement("script");s.id="recaptcha",s.type="text/javascript",s.async=!0,s.defer=!0,s.src=n.recaptcha.apiUrl+"?onload=onloadRecaptchaCallback&render=explicit",document.body.appendChild(s)}}}).call(this,i(5))},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(474),o=i(1566),r=i(919),a=i(746),l=i(1558);e.exports=s.extend({name:"RefillMembership",template:l,destroyOnHide:!0,defaultActiveOfferIndex:1,defaultActiveOfferID:0,footer:[{hide:!1,color:"green",defaultAction:!0,callback:"submitRefillMembership"}],body:function(){var e=this;return new o({app:this.app,type:this.type,backUrl:this.backUrl||this.app.parsedUrl.path,collection:this.offers,cards:this.cards,changeActiveOfferCallback:function(t){return e.setActiveOfferByOfferID(t)},onRequestCallback:this.onRequestCallback.bind(this),onSyncCallback:this.onSyncCallback.bind(this),onSuccessCallback:this.onSuccessCallback.bind(this)})},initialize:function(){this.cards=new r([],{app:this.app,allCards:!0}),this.listenTo(this.cards,"sync",this.render),this.cards.fetch(),this.offers=new a([],{app:this.app}),this.offers.getQueryParams={mask:1024,group:"bundle_membership"},this.listenTo(this.offers,{sync:this.setDefaultActiveOffer,"change update reset":this.render}),this.offers.fetch()},serialize:function(){var e=this.offers.findWhere({checked:!0}),t=e?this.app.user.getUserPlanDiscount(e.serialize()):0;return n.extend(s.prototype.serialize(),{discount:t&&parseInt(100*t.discount,10)||0})},clientAfterRender:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.prototype.clientAfterRender.apply(this,t),this.offers.length&&this.trackOffersList()},trackOffersList:function(){this.app.observer.broadcast("Track:UE:Plans:UserSeePlans",{plans:this.offers.serializeLikeOffers(),currency:this.app.currencies.getActive(),constructorIndex:1,view:this.name})},trackPurchase:function(){var e=this.offers.findWhere({checked:!0});this.app.observer.broadcast("Track:UE:Plans:UserWantToBuyPlan",{plan:e.serializeLikeOffer(),currency:this.app.currencies.getActive(),constructorIndex:1,index:this.offers.indexOf(e)})},setDefaultActiveOffer:function(){this.offers.length>0&&!this.offers.findWhere({checked:!0})&&(this.defaultActiveOfferID?this.setActiveOfferByOfferID(this.defaultActiveOfferID,{silent:!0}):this.setActiveOffer(this.defaultActiveOfferIndex,{silent:!0})),this.findView("RefillMembershipForm").loading(!1)},setActiveOffer:function(e,t){n.each(this.offers.where({checked:!0}),function(e){return e.set({checked:!1},{silent:!0})});var i=this.offers.length>=e?this.offers.at(e):this.offers.first();i&&i.set({checked:!0},t)},setActiveOfferByOfferID:function(e){var t=this.offers.serializeLikeOffers(),i=Math.max(n.findIndex(t,function(t){return t.offerID===e}),0);this.setActiveOffer(i)},submitRefillMembership:function(){this.trackPurchase(),this.findView("RefillMembershipForm").submitForm(),this.app.observer.broadcast("Track:UE:Billing:BundleBuyClick")},onRequestCallback:function(){this.$("._btn").trigger("loading")},onSyncCallback:function(){this.$("._btn").trigger("loaded")},onSuccessCallback:function(){this.hide()}})},function(e,t){e.exports=function(e){var t='<div class="select-items _scrollable"><div class="select-items__list-wrapper _scrollable"><div class="select-items__list">';e.allGroups&&(t+='<label class="select-items__list-item"><input class="select-items__radio _group-selection" type="radio" name="group" value="-1"',-1==+e.selected&&(t+=' checked="checked"'),t+=' /><i class="select-items__icon icon icon-ok"></i><span class="select-items__text">'+e.allGroupsTitle+"</span></label>"),e.groups.length&&e.allGroups&&(t+='<div class="select-items__list-sep"></div>');var i=e.groups;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<label class="select-items__list-item"><input class="select-items__radio _group-selection" type="radio" name="group"',+(n=i[s+=1]).id==+e.selected&&(t+=' checked="checked"'),t+=' value="'+n.id+'" /><i class="select-items__icon icon icon-ok"></i><span class="select-items__text">'+n.name+"</span></label>";return t+="</div></div></div>"}},function(e,t){e.exports=function(e){var t='<div class="tabs-menu';e.classNames&&(t+=" "+e.classNames),t+='">';var i=e.scheme;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<div class="tabs-menu__item',(n=i[s+=1]).active&&(t+=" tabs-menu__item_active"),t+=" _tab ",n.modifier&&(t+=""+n.modifier),t+='" data-key="'+n.key+'"><a class="tabs-menu__link"',n.active||(t+=' href="'+n.url+'"'),t+=">"+this.tr(n.label)+"</a></div>";return t+="</div>"}},,function(e,t,i){"use strict";e.exports.spinner={lines:12,length:3,width:2,radius:3,scale:1,corners:1,color:"#000",opacity:.1,rotate:0,direction:1,speed:1.5,trail:100,fps:20,zIndex:100,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},e.exports.videoPlayer={lines:17,length:0,width:2,radius:4,scale:1,corners:0,color:"#fff",opacity:.25,rotate:0,direction:1,speed:1.5,trail:45,fps:25,zIndex:2e9,className:"spinner",top:"7%",left:"96%",shadow:!1,hwaccel:!0,position:"absolute"}},function(e,t,i){var n,s,o;o=function(){"use strict";var e,t,i=["webkit","Moz","ms","O"],n={};function s(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function o(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}function r(i,s,o,r){var a=["opacity",s,~~(100*i),o,r].join("-"),l=.01+o/r*100,c=Math.max(1-(1-i)/s*(100-l),i),h=e.substring(0,e.indexOf("Animation")).toLowerCase(),u=h&&"-"+h+"-"||"";return n[a]||(t.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+c+"}"+l+"%{opacity:"+i+"}"+(l+.01)+"%{opacity:1}"+(l+s)%100+"%{opacity:"+i+"}100%{opacity:"+c+"}}",t.cssRules.length),n[a]=1),a}function a(e,t){var n,s,o=e.style;if(void 0!==o[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(s=0;s<i.length;s++)if(void 0!==o[n=i[s]+t])return n}function l(e,t){for(var i in t)e.style[a(e,i)||i]=t[i];return e}function c(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function h(e,t){return"string"==typeof e?e:e[t%e.length]}var u,p={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function d(e){this.opts=c(e||{},d.defaults,p)}if(d.defaults={},c(d.prototype,{spin:function(t){this.stop();var i=this,n=i.opts,o=i.el=s(null,{className:n.className});if(l(o,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),i.lines(o,i.opts),!e){var r,a=0,c=(n.lines-1)*(1-n.direction)/2,h=n.fps,u=h/n.speed,p=(1-n.opacity)/(u*n.trail/100),d=u/n.lines;!function e(){a++;for(var t=0;t<n.lines;t++)r=Math.max(1-(a+(n.lines-t)*d)%u*p,n.opacity),i.opacity(o,t*n.direction+c,r,n);i.timeout=i.el&&setTimeout(e,~~(1e3/h))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,i){var n,a=0,c=(i.lines-1)*(1-i.direction)/2;function u(e,t){return l(s(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*a+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(;a<i.lines;a++)n=l(s(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:e&&r(i.opacity,i.trail,c+a*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&o(n,l(u("#000","0 0 4px #000"),{top:"2px"})),o(t,o(n,u(h(i.color,a),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}}),"undefined"!=typeof document){u=s("style",{type:"text/css"}),o(document.getElementsByTagName("head")[0],u),t=u.sheet||u.styleSheet;var f=l(s("group"),{behavior:"url(#default#VML)"});!a(f,"transform")&&f.adj?function(){function e(e,t){return s("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}t.addRule(".spin-vml","behavior:url(#default#VML)"),d.prototype.lines=function(t,i){var n=i.scale*(i.length+i.width),s=2*i.scale*n;function r(){return l(e("group",{coordsize:s+" "+s,coordorigin:-n+" "+-n}),{width:s,height:s})}var a,c=-(i.width+i.length)*i.scale*2+"px",u=l(r(),{position:"absolute",top:c,left:c});function p(t,s,a){o(u,o(l(r(),{rotation:360/i.lines*t+"deg",left:~~s}),o(l(e("roundrect",{arcsize:i.corners}),{width:n,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:a}),e("fill",{color:h(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}if(i.shadow)for(a=1;a<=i.lines;a++)p(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)p(a);return o(t,u)},d.prototype.opacity=function(e,t,i,n){var s=e.firstChild;n=n.shadow&&n.lines||0,s&&t+n<s.childNodes.length&&(s=(s=(s=s.childNodes[t+n])&&s.firstChild)&&s.firstChild)&&(s.opacity=i)}}():e=a(f,"animation")}return d},"object"==typeof e&&e.exports?e.exports=o():void 0===(s="function"==typeof(n=o)?n.call(t,i,t,e):n)||(e.exports=s)},,,,,function(e,t){e.exports=function(e){var t='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(t+=" user-plans-list__item_discount"),t+=' _product _buy-more" ',e.href&&(t+=' href="'+e.href+'"'),t+=' data-id="'+e.product.id+'" data-bit="'+e.product.bit_price+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(t+='<i class="user-plans-list__label label label-position-counter">'+e.product.serialIndex+"</i>"),t+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><i class="user-plans-list__icon icon icon-plans-membership size-l _info"></i>',e.showRebillDiscount&&e.product.rebill.discount>0&&(t+='<span class="rebill-discount label label-discount _rebill-discount">-'+e.product.rebill.discount+"%</span>"),t+="</a>"}},function(e,t){e.exports=function(e){var t='<a class="user-plans-list__item _product"';return e.href&&(t+=' href="'+e.href+'"'),t+=' data-bit="'+e.product.bit_price+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(t+='<i class="user-plans-list__label label label-position-counter">'+e.product.serialIndex+"</i>"),t+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(t+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),t+='<i class="user-plans-list__icon icon icon-plans-imagepack size-l"></i></a>'}},function(e,t){e.exports=function(e){var t='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(t+=" user-plans-list__item_discount"),t+=' _product" ',e.href&&(t+=' href="'+e.href+'"'),t+=' data-bit="'+e.product.bit_price+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(t+='<i class="user-plans-list__label label label-position-counter">'+e.product.serialIndex+"</i>"),t+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(t+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),t+='<i class="user-plans-list__icon icon icon-plans-ondemand size-l"></i>',e.showRebillDiscount&&e.product.rebill.discount>0&&(t+='<span class="rebill-discount label label-discount _rebill-discount">-'+e.product.rebill.discount+"%</span>"),t+="</a>"}},function(e,t){e.exports=function(e){var t='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(t+=" user-plans-list__item_help"),e.product.rebill.discount>0&&(t+=" user-plans-list__item_discount"),t+=' _product"',e.href&&(t+=' href="'+e.href+'"'),t+=' data-id="'+e.product.id+'" data-bit="'+e.product.bit_price+'"data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(t+='<i class="user-plans-list__label label label-position-counter">'+e.product.serialIndex+"</i>"),t+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.renew+"</span>",e.product.split_count>0&&(t+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),t+='<i class="user-plans-list__icon icon icon-plans-subscription size-l _info">'+e.labels.daysLeft+"</i>",e.needToShowHelpTooltip&&(t+='<i class="user-plans-list__help icon icon-help _help"></i>'),e.showRebillDiscount&&e.product.rebill.discount>0&&(t+='<span class="rebill-discount label label-discount _rebill-discount">-'+e.product.rebill.discount+"%</span>"),t+="</a>"}},function(e,t){e.exports=function(e){var t='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(t+=" user-plans-list__item_help"),t+=' _product"',e.href&&(t+=' href="'+e.href+'"'),t+=' data-bit="'+e.product.bit_price+'"  data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(t+='<i class="user-plans-list__label label label-position-counter">'+e.product.serialIndex+"</i>"),t+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</b></span>",e.product.split_count>0&&(t+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),t+='<i class="user-plans-list__icon icon icon-plans-credits size-l"></i>',e.showRebillDiscount&&e.product.rebill.discount>0&&(t+='<span class="rebill-discount label label-discount _rebill-discount">-'+e.product.rebill.discount+"%</span>"),t+="</a>"}},function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(471),r=i(1060),a=i(798),l=i(1593),c=i(1592),h={credits:{},subscription:{},ondemand:{},membership:{},imagepack:{}};h.credits.view=i(614),h.credits.template=i(647),h.subscription.view=i(595),h.subscription.template=i(646),h.ondemand.view=i(594),h.ondemand.template=i(645),h.imagepack.view=i(613),h.imagepack.template=i(644),h.membership.view=i(538),h.membership.template=i(643),e.exports=o.extend({name:"UserProductsList",el:!1,template:l,showBalance:!1,linksEnabled:!1,handleProductClick:!0,showRebillDiscount:!1,plans:void 0,events:{"click ._product":"onUserProductClick"},initialize:function(){this.listenTo(this.app.user,"sync",this.render),this.rebillInfo=new a([],{app:this.app}),this.listenTo(this.rebillInfo,"sync",this.render),this.rebillInfo.fetch()},prepareRender:function(){this.showBalance&&this.insertView("._list",new r({app:this.app,template:c,balance:this.app.user.get("balance")})),n.each(this.plans.serializeUserPlans(),function(e){this.insertView("._list",this.getProductView(e))},this)},serialize:function(){return{products:this.plans.serializeUserPlans()}},getProductView:function(e){var t=this.linksEnabled?this.app.makeUrl("subscribe",{backURL:!0}):"",i=h[e.type];if(!i)return null;var n=this.getProductModel(e);return new i.view({app:this.app,template:i.template,product:n.serialize(),rebillInfo:this.rebillInfo,model:n,showRebillDiscount:this.showRebillDiscount,serializeParams:{href:t}})},getProductModel:function(e){var t=this.app.user.products[e.type],i="credits"===e.type?t.first():t.get(e.id),n=this.rebillInfo?this.rebillInfo.get(i.get("id")):null;return n&&i.get("rebill").set(n.serialize()),i},onUserProductClick:function(e){this.linksEnabled||(e.stopPropagation(),e.preventDefault()),e.stopImmediatePropagation(),this.chooseProductCallback(this.plans.serializeUserPlans()[s.$(e.currentTarget).index()])},chooseProductCallback:n.noop})},function(e,t,i){var n,s,o;s="undefined"!=typeof window?window:this,o=function(i,s){"use strict";var o,r=i.document,a=i.location,l=i.navigator,c=i.ArrayBuffer,h=i.Object,u=i.Array,p=i.String,d=i.Number,f=i.Math,m="cropper-hidden",g="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",b=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,_=/width|height|left|top|marginLeft|marginTop/,v=/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i,y=/^\s+(.*)\s+$/,w=/\s+/,x=/^data\:/,C=/^data\:([^\;]+)\;base64,/,k=/^data\:image\/jpeg.*;base64,/,S=/([a-z\d])([A-Z])/g,P=!!r.createElement("canvas").getContext,T=l&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(l.userAgent),A=f.min,I=f.max,M=f.abs,E=f.sin,L=f.cos,R=f.sqrt,$=f.round,D=f.floor,N=f.PI,O=h.prototype,B=O.toString,H=O.hasOwnProperty,U=u.prototype.slice,F=p.fromCharCode;function z(e){return B.call(e).slice(8,-1).toLowerCase()}function V(e){return"number"==typeof e&&!isNaN(e)}function W(e){return void 0===e}function q(e){return"object"==typeof e&&null!==e}function Y(e){var t,i;if(!q(e))return!1;try{return i=(t=e.constructor).prototype,t&&i&&H.call(i,"isPrototypeOf")}catch(e){return!1}}function j(e){return"function"===z(e)}function X(e,t){return t=t>=0?t:0,u.from?u.from(e).slice(t):U.call(e,t)}function K(e){return"string"==typeof e&&(e=e.trim?e.trim():e.replace(y,"$1")),e}function G(e,t){var i,n,s;if(e&&j(t))if(s=e,(u.isArray?u.isArray(s):"array"===z(s))||V(e.length))for(n=0,i=e.length;n<i&&!1!==t.call(e,e[n],n,e);n++);else if(q(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,e[n],n,e))break;return e}function Q(e){var t;if(arguments.length>1){if(t=X(arguments),h.assign)return h.assign.apply(h,t);t.shift(),G(t,function(t){G(t,function(t,i){e[i]=t})})}return e}function J(e,t){var i=X(arguments,2);return function(){return e.apply(t,i.concat(X(arguments)))}}function Z(e,t){var i=e.style;G(t,function(e,t){_.test(t)&&V(e)&&(e+="px"),i[t]=e})}function ee(e,t){var i;return V(e.length)?G(e,function(e){ee(e,t)}):e.classList?e.classList.add(t):void((i=K(e.className))?i.indexOf(t)<0&&(e.className=i+" "+t):e.className=t)}function te(e,t){return V(e.length)?G(e,function(e){te(e,t)}):e.classList?e.classList.remove(t):void(e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function ie(e,t,i){if(V(e.length))return G(e,function(e){ie(e,t,i)});i?ee(e,t):te(e,t)}function ne(e){return e.replace(S,"$1-$2").toLowerCase()}function se(e,t){return q(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+ne(t))}function oe(e,t,i){q(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-"+ne(t),i)}function re(e,t){q(e[t])?delete e[t]:e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+ne(t))}function ae(e,t,i){var n=K(t).split(w);if(n.length>1)return G(n,function(t){ae(e,t,i)});e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}function le(e,t,i,n){var s=K(t).split(w),o=i;if(s.length>1)return G(s,function(t){le(e,t,i)});n&&(i=function(){return ae(e,t,i),o.apply(e,arguments)}),e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}function ce(e,t,i){var n;return e.dispatchEvent?(j(Event)&&j(CustomEvent)?n=W(i)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):W(i)?(n=r.createEvent("Event")).initEvent(t,!0,!0):(n=r.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)):e.fireEvent?e.fireEvent("on"+t):void 0}function he(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ue(e){var t,n=e||i.event;return n.target||(n.target=n.srcElement||r),V(n.pageX)||(t=r.documentElement,n.pageX=n.clientX+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),n.pageY=n.clientY+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)),n}function pe(e){var t=r.documentElement,n=e.getBoundingClientRect();return{left:n.left+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),top:n.top+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)}}function de(e,t){return e.getElementsByTagName(t)}function fe(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function me(e){return r.createElement(e)}function ge(e,t){e.appendChild(t)}function be(e){e.parentNode&&e.parentNode.removeChild(e)}function _e(e){var t=e.match(v);return t&&(t[1]!==a.protocol||t[2]!==a.hostname||t[3]!==a.port)}function ve(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function ye(e){var t=[],i=e.rotate,n=e.scaleX,s=e.scaleY;return V(n)&&V(s)&&t.push("scale("+n+","+s+")"),V(i)&&t.push("rotate("+i+"deg)"),t.length?t.join(" "):"none"}function we(e,t){var i,n,s=M(e.degree)%180,o=(s>90?180-s:s)*N/180,r=E(o),a=L(o),l=e.width,c=e.height,h=e.aspectRatio;return t?n=(i=l/(a+r/h))/h:(i=l*a+c*r,n=l*r+c*a),{width:i,height:n}}function xe(e,t){var i,n,s,o=me("canvas"),r=o.getContext("2d"),a=0,l=0,c=t.naturalWidth,h=t.naturalHeight,u=t.rotate,p=t.scaleX,d=t.scaleY,f=V(p)&&V(d)&&(1!==p||1!==d),m=V(u)&&0!==u,g=m||f,b=c*M(p||1),_=h*M(d||1);return f&&(i=b/2,n=_/2),m&&(i=(b=(s=we({width:b,height:_,degree:u})).width)/2,n=(_=s.height)/2),o.width=b,o.height=_,g&&(a=-c/2,l=-h/2,r.save(),r.translate(i,n)),f&&r.scale(p,d),m&&r.rotate(u*N/180),r.drawImage(e,D(a),D(l),D(c),D(h)),g&&r.restore(),o}function Ce(e){var t,i,n,s,o,r,a,l,c,h=new DataView(e),u=h.byteLength;if(255===h.getUint8(0)&&216===h.getUint8(1))for(l=2;l<u;){if(255===h.getUint8(l)&&225===h.getUint8(l+1)){r=l;break}l++}if(r&&(i=r+10,"Exif"===function(e,t,i){var n="",s=t;for(i+=t;s<i;s++)n+=F(e.getUint8(s));return n}(h,r+4,4)&&((s=18761===(o=h.getUint16(i)))||19789===o)&&42===h.getUint16(i+2,s)&&(n=h.getUint32(i+4,s))>=8&&(a=i+n)),a)for(u=h.getUint16(a,s),c=0;c<u;c++)if(l=a+12*c+2,274===h.getUint16(l,s)){l+=8,t=h.getUint16(l,s),T&&h.setUint16(l,1,s);break}return t}function ke(e,t){this.element=e,this.options=Q({},ke.DEFAULTS,Y(t)&&t),this.ready=!1,this.built=!1,this.complete=!1,this.rotated=!1,this.cropped=!1,this.disabled=!1,this.replaced=!1,this.limited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvasData=null,this.cropBoxData=null,this.previews=null,this.init()}ke.prototype={constructor:ke,init:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!se(t,"cropper")){if(oe(t,"cropper",this),"img"===i){if(this.isImg=!0,this.originalUrl=e=t.getAttribute("src"),!e)return;e=t.src}else"canvas"===i&&P&&(e=t.toDataURL());this.load(e)}},load:function(e){var t,i=this,n=i.options,s=i.element;if(e&&(j(n.build)&&le(s,"build",n.build,!0),!1!==ce(s,"build"))){if(i.url=e,i.imageData={},!n.checkOrientation||!c)return i.clone();if(x.test(e))return k.test(e)?i.read(function(e){var t,i=e.replace(C,""),n=atob(i),s=n.length,o=new c(s),r=new Uint8Array(o);for(t=0;t<s;t++)r[t]=n.charCodeAt(t);return o}(e)):i.clone();(t=new XMLHttpRequest).onerror=t.onabort=function(){i.clone()},t.onload=function(){i.read(this.response)},n.checkCrossOrigin&&_e(e)&&s.crossOrigin&&(e=ve(e)),t.open("get",e),t.responseType="arraybuffer",t.send()}},read:function(e){var t,i,n,s=this.options,o=Ce(e),r=this.imageData;if(o>1)switch(this.url=function(e){var t,i=new Uint8Array(e),n=i.length,s="";for(t=0;t<n;t++)s+=F(i[t]);return"data:image/jpeg;base64,"+btoa(s)}(e),o){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}s.rotatable&&(r.rotate=t),s.scalable&&(r.scaleX=i,r.scaleY=n),this.clone()},clone:function(){var e,t,i,n,s,o=this.element,r=this.url;this.options.checkCrossOrigin&&_e(r)&&((e=o.crossOrigin)?t=r:(e="anonymous",t=ve(r))),this.crossOrigin=e,this.crossOriginUrl=t,i=me("img"),e&&(i.crossOrigin=e),i.src=t||r,this.image=i,this._start=n=J(this.start,this),this._stop=s=J(this.stop,this),this.isImg?o.complete?this.start():le(o,"load",n):(le(i,"load",n),le(i,"error",s),ee(i,"cropper-hide"),o.parentNode.insertBefore(i,o.nextSibling))},start:function(e){var t=this,i=t.isImg?t.element:t.image;e&&(ae(i,"load",t._start),ae(i,"error",t._stop)),function(e,t){var i;if(e.naturalWidth&&!T)return t(e.naturalWidth,e.naturalHeight);(i=me("img")).onload=function(){t(this.width,this.height)},i.src=e.src}(i,function(e,i){Q(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.ready=!0,t.build()})},stop:function(){var e=this.image;ae(e,"load",this._start),ae(e,"error",this._stop),be(e),this.image=null},build:function(){var e,t,i,n,s,o,r,a=this,l=a.options,c=a.element,h=a.image;a.ready&&(a.built&&a.unbuild(),(t=me("div")).innerHTML=ke.TEMPLATE,a.container=e=c.parentNode,a.cropper=i=fe(t,"cropper-container")[0],a.canvas=n=fe(i,"cropper-canvas")[0],a.dragBox=s=fe(i,"cropper-drag-box")[0],a.cropBox=o=fe(i,"cropper-crop-box")[0],a.viewBox=fe(i,"cropper-view-box")[0],a.face=r=fe(o,"cropper-face")[0],ge(n,h),ee(c,m),e.insertBefore(i,c.nextSibling),a.isImg||te(h,"cropper-hide"),a.initPreview(),a.bind(),l.aspectRatio=I(0,l.aspectRatio)||NaN,l.viewMode=I(0,A(3,$(l.viewMode)))||0,l.autoCrop?(a.cropped=!0,l.modal&&ee(s,"cropper-modal")):ee(o,m),l.guides||ee(fe(o,"cropper-dashed"),m),l.center||ee(fe(o,"cropper-center"),m),l.background&&ee(i,"cropper-bg"),l.highlight||ee(r,"cropper-invisible"),l.cropBoxMovable&&(ee(r,"cropper-move"),oe(r,"action","all")),l.cropBoxResizable||(ee(fe(o,"cropper-line"),m),ee(fe(o,"cropper-point"),m)),a.setDragMode(l.dragMode),a.render(),a.built=!0,a.setData(l.data),setTimeout(function(){j(l.built)&&le(c,"built",l.built,!0),ce(c,"built"),ce(c,"crop",a.getData()),a.complete=!0},0))},unbuild:function(){this.built&&(this.built=!1,this.complete=!1,this.initialImageData=null,this.initialCanvasData=null,this.initialCropBoxData=null,this.containerData=null,this.canvasData=null,this.cropBoxData=null,this.unbind(),this.resetPreview(),this.previews=null,this.viewBox=null,this.cropBox=null,this.dragBox=null,this.canvas=null,this.container=null,be(this.cropper),this.cropper=null)},render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e,t=this.options,i=this.element,n=this.container,s=this.cropper;ee(s,m),te(i,m),this.containerData=e={width:I(n.offsetWidth,d(t.minContainerWidth)||200),height:I(n.offsetHeight,d(t.minContainerHeight)||100)},Z(s,{width:e.width,height:e.height}),ee(i,m),te(s,m)},initCanvas:function(){var e,t=this.options.viewMode,i=this.containerData,n=this.imageData,s=90===M(n.rotate),o=s?n.naturalHeight:n.naturalWidth,r=s?n.naturalWidth:n.naturalHeight,a=o/r,l=i.width,c=i.height;i.height*a>i.width?3===t?l=i.height*a:c=i.width/a:3===t?c=i.width/a:l=i.height*a,(e={naturalWidth:o,naturalHeight:r,aspectRatio:a,width:l,height:c}).oldLeft=e.left=(i.width-l)/2,e.oldTop=e.top=(i.height-c)/2,this.canvasData=e,this.limited=1===t||2===t,this.limitCanvas(!0,!0),this.initialImageData=Q({},n),this.initialCanvasData=Q({},e)},limitCanvas:function(e,t){var i,n,s,o,r=this.options,a=r.viewMode,l=this.containerData,c=this.canvasData,h=c.aspectRatio,u=this.cropBoxData,p=this.cropped&&u;e&&(i=d(r.minCanvasWidth)||0,n=d(r.minCanvasHeight)||0,a>1?(i=I(i,l.width),n=I(n,l.height),3===a&&(n*h>i?i=n*h:n=i/h)):a>0&&(i?i=I(i,p?u.width:0):n?n=I(n,p?u.height:0):p&&(i=u.width,(n=u.height)*h>i?i=n*h:n=i/h)),i&&n?n*h>i?n=i/h:i=n*h:i?n=i/h:n&&(i=n*h),c.minWidth=i,c.minHeight=n,c.maxWidth=1/0,c.maxHeight=1/0),t&&(a?(s=l.width-c.width,o=l.height-c.height,c.minLeft=A(0,s),c.minTop=A(0,o),c.maxLeft=I(0,s),c.maxTop=I(0,o),p&&this.limited&&(c.minLeft=A(u.left,u.left+u.width-c.width),c.minTop=A(u.top,u.top+u.height-c.height),c.maxLeft=u.left,c.maxTop=u.top,2===a&&(c.width>=l.width&&(c.minLeft=A(0,s),c.maxLeft=I(0,s)),c.height>=l.height&&(c.minTop=A(0,o),c.maxTop=I(0,o))))):(c.minLeft=-c.width,c.minTop=-c.height,c.maxLeft=l.width,c.maxTop=l.height))},renderCanvas:function(e){var t,i,n=this.canvasData,s=this.imageData,o=s.rotate;this.rotated&&(this.rotated=!1,(t=(i=we({width:s.width,height:s.height,degree:o})).width/i.height)!==n.aspectRatio&&(n.left-=(i.width-n.width)/2,n.top-=(i.height-n.height)/2,n.width=i.width,n.height=i.height,n.aspectRatio=t,n.naturalWidth=s.naturalWidth,n.naturalHeight=s.naturalHeight,o%180&&(i=we({width:s.naturalWidth,height:s.naturalHeight,degree:o}),n.naturalWidth=i.width,n.naturalHeight=i.height),this.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=A(I(n.width,n.minWidth),n.maxWidth),n.height=A(I(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.oldLeft=n.left=A(I(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=A(I(n.top,n.minTop),n.maxTop),Z(this.canvas,{width:n.width,height:n.height,left:n.left,top:n.top}),this.renderImage(),this.cropped&&this.limited&&this.limitCropBox(!0,!0),e&&this.output()},renderImage:function(e){var t,i,n,s,o,r=this.canvasData,a=this.imageData;a.rotate&&(t={width:n=(i=we({width:r.width,height:r.height,degree:a.rotate,aspectRatio:a.aspectRatio},!0)).width,height:s=i.height,left:(r.width-n)/2,top:(r.height-s)/2}),Q(a,t||{width:r.width,height:r.height,left:0,top:0}),o=ye(a),Z(this.image,{width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top,WebkitTransform:o,msTransform:o,transform:o}),e&&this.output()},initCropBox:function(){var e=this.options,t=e.aspectRatio,i=d(e.autoCropArea)||.8,n=this.canvasData,s={width:n.width,height:n.height};t&&(n.height*t>n.width?s.height=s.width/t:s.width=s.height*t),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=A(I(s.width,s.minWidth),s.maxWidth),s.height=A(I(s.height,s.minHeight),s.maxHeight),s.width=I(s.minWidth,s.width*i),s.height=I(s.minHeight,s.height*i),s.oldLeft=s.left=n.left+(n.width-s.width)/2,s.oldTop=s.top=n.top+(n.height-s.height)/2,this.initialCropBoxData=Q({},s)},limitCropBox:function(e,t){var i,n,s,o,r=this.options,a=r.aspectRatio,l=this.containerData,c=this.canvasData,h=this.cropBoxData,u=this.limited;e&&(i=d(r.minCropBoxWidth)||0,n=d(r.minCropBoxHeight)||0,i=A(i,l.width),n=A(n,l.height),s=A(l.width,u?c.width:l.width),o=A(l.height,u?c.height:l.height),a&&(i&&n?n*a>i?n=i/a:i=n*a:i?n=i/a:n&&(i=n*a),o*a>s?o=s/a:s=o*a),h.minWidth=A(i,s),h.minHeight=A(n,o),h.maxWidth=s,h.maxHeight=o),t&&(u?(h.minLeft=I(0,c.left),h.minTop=I(0,c.top),h.maxLeft=A(l.width,c.left+c.width)-h.width,h.maxTop=A(l.height,c.top+c.height)-h.height):(h.minLeft=0,h.minTop=0,h.maxLeft=l.width-h.width,h.maxTop=l.height-h.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=A(I(i.width,i.minWidth),i.maxWidth),i.height=A(I(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.oldLeft=i.left=A(I(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=A(I(i.top,i.minTop),i.maxTop),e.movable&&e.cropBoxMovable&&oe(this.face,"action",i.width===t.width&&i.height===t.height?"move":"all"),Z(this.cropBox,{width:i.width,height:i.height,left:i.left,top:i.top}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.complete&&ce(this.element,"crop",this.getData())},initPreview:function(){var e,t=this.options.preview,i=me("img"),n=this.crossOrigin,s=n?this.crossOriginUrl:this.url;n&&(i.crossOrigin=n),i.src=s,ge(this.viewBox,i),this.image2=i,t&&(this.previews=e=r.querySelectorAll(t),G(e,function(e){var t=me("img");oe(e,"preview",{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),n&&(t.crossOrigin=n),t.src=s,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),ge(e,t)}))},resetPreview:function(){G(this.previews,function(e){var t=se(e,"preview");Z(e,{width:t.width,height:t.height}),e.innerHTML=t.html,re(e,"preview")})},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,n=i.width,s=i.height,o=e.width,r=e.height,a=i.left-t.left-e.left,l=i.top-t.top-e.top,c=ye(e),h={WebkitTransform:c,msTransform:c,transform:c};this.cropped&&!this.disabled&&(Z(this.image2,Q({width:o,height:r,marginLeft:-a,marginTop:-l},h)),G(this.previews,function(e){var t=se(e,"preview"),i=t.width,c=t.height,u=i,p=c,d=1;n&&(p=s*(d=i/n)),s&&p>c&&(u=n*(d=c/s),p=c),Z(e,{width:u,height:p}),Z(de(e,"img")[0],Q({width:o*d,height:r*d,marginLeft:-a*d,marginTop:-l*d},h))}))},bind:function(){var e=this.options,t=this.element,n=this.cropper;j(e.cropstart)&&le(t,"cropstart",e.cropstart),j(e.cropmove)&&le(t,"cropmove",e.cropmove),j(e.cropend)&&le(t,"cropend",e.cropend),j(e.crop)&&le(t,"crop",e.crop),j(e.zoom)&&le(t,"zoom",e.zoom),le(n,"mousedown touchstart pointerdown MSPointerDown",this._cropStart=J(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&le(n,"wheel mousewheel DOMMouseScroll",this._wheel=J(this.wheel,this)),e.toggleDragModeOnDblclick&&le(n,"dblclick",this._dblclick=J(this.dblclick,this)),le(r,"mousemove touchmove pointermove MSPointerMove",this._cropMove=J(this.cropMove,this)),le(r,g,this._cropEnd=J(this.cropEnd,this)),e.responsive&&le(i,"resize",this._resize=J(this.resize,this))},unbind:function(){var e=this.options,t=this.element,n=this.cropper;j(e.cropstart)&&ae(t,"cropstart",e.cropstart),j(e.cropmove)&&ae(t,"cropmove",e.cropmove),j(e.cropend)&&ae(t,"cropend",e.cropend),j(e.crop)&&ae(t,"crop",e.crop),j(e.zoom)&&ae(t,"zoom",e.zoom),ae(n,"mousedown touchstart pointerdown MSPointerDown",this._cropStart),e.zoomable&&e.zoomOnWheel&&ae(n,"wheel mousewheel DOMMouseScroll",this._wheel),e.toggleDragModeOnDblclick&&ae(n,"dblclick",this._dblclick),ae(r,"mousemove touchmove pointermove MSPointerMove",this._cropMove),ae(r,g,this._cropEnd),e.responsive&&ae(i,"resize",this._resize)},resize:function(){var e,t,i,n=this.options.restore,s=this.container,o=this.containerData;!this.disabled&&o&&(1===(i=s.offsetWidth/o.width)&&s.offsetHeight===o.height||(n&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n&&(this.setCanvasData(G(e,function(t,n){e[n]=t*i})),this.setCropBoxData(G(t,function(e,n){t[n]=e*i})))))},dblclick:function(){var e,t;this.disabled||this.setDragMode((e=this.dragBox,t="cropper-crop",(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,i=ue(e),n=d(t.options.wheelZoomRatio)||.1,s=1;t.disabled||(he(i),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),i.deltaY?s=i.deltaY>0?1:-1:i.wheelDelta?s=-i.wheelDelta/120:i.detail&&(s=i.detail>0?1:-1),t.zoom(-s*n,i)))},cropStart:function(e){var t,i,n,s=this.options,o=ue(e),r=o.touches;if(!this.disabled){if(r){if((t=r.length)>1){if(!s.zoomable||!s.zoomOnTouch||2!==t)return;i=r[1],this.startX2=i.pageX,this.startY2=i.pageY,n="zoom"}i=r[0]}if(n=n||se(o.target,"action"),b.test(n)){if(!1===ce(this.element,"cropstart",{originalEvent:o,action:n}))return;he(o),this.action=n,this.cropping=!1,this.startX=i?i.pageX:o.pageX,this.startY=i?i.pageY:o.pageY,"crop"===n&&(this.cropping=!0,ee(this.dragBox,"cropper-modal"))}}},cropMove:function(e){var t,i,n=this.options,s=ue(e),o=s.touches,r=this.action;if(!this.disabled){if(o){if((t=o.length)>1){if(!n.zoomable||!n.zoomOnTouch||2!==t)return;i=o[1],this.endX2=i.pageX,this.endY2=i.pageY}i=o[0]}if(r){if(!1===ce(this.element,"cropmove",{originalEvent:s,action:r}))return;he(s),this.endX=i?i.pageX:s.pageX,this.endY=i?i.pageY:s.pageY,this.change(s.shiftKey,"zoom"===r?s:null)}}},cropEnd:function(e){var t=this.options,i=ue(e),n=this.action;this.disabled||n&&(he(i),this.cropping&&(this.cropping=!1,ie(this.dragBox,"cropper-modal",this.cropped&&t.modal)),this.action="",ce(this.element,"cropend",{originalEvent:i,action:n}))},change:function(e,t){var i,n,s,o,r,a,l,c=this.options.aspectRatio,h=this.action,u=this.containerData,p=this.canvasData,d=this.cropBoxData,f=d.width,g=d.height,b=d.left,_=d.top,v=b+f,y=_+g,w=0,x=0,C=u.width,k=u.height,S=!0;switch(!c&&e&&(c=f&&g?f/g:1),this.limited&&(w=d.minLeft,x=d.minTop,C=w+A(u.width,p.left+p.width),k=x+A(u.height,p.top+p.height)),n={x:this.endX-this.startX,y:this.endY-this.startY},c&&(n.X=n.y*c,n.Y=n.x/c),h){case"all":b+=n.x,_+=n.y;break;case"e":if(n.x>=0&&(v>=C||c&&(_<=x||y>=k))){S=!1;break}f+=n.x,c&&(g=f/c,_-=n.Y/2),f<0&&(h="w",f=0);break;case"n":if(n.y<=0&&(_<=x||c&&(b<=w||v>=C))){S=!1;break}g-=n.y,_+=n.y,c&&(f=g*c,b+=n.X/2),g<0&&(h="s",g=0);break;case"w":if(n.x<=0&&(b<=w||c&&(_<=x||y>=k))){S=!1;break}f-=n.x,b+=n.x,c&&(g=f/c,_+=n.Y/2),f<0&&(h="e",f=0);break;case"s":if(n.y>=0&&(y>=k||c&&(b<=w||v>=C))){S=!1;break}g+=n.y,c&&(f=g*c,b-=n.X/2),g<0&&(h="n",g=0);break;case"ne":if(c){if(n.y<=0&&(_<=x||v>=C)){S=!1;break}g-=n.y,_+=n.y,f=g*c}else n.x>=0?v<C?f+=n.x:n.y<=0&&_<=x&&(S=!1):f+=n.x,n.y<=0?_>x&&(g-=n.y,_+=n.y):(g-=n.y,_+=n.y);f<0&&g<0?(h="sw",g=0,f=0):f<0?(h="nw",f=0):g<0&&(h="se",g=0);break;case"nw":if(c){if(n.y<=0&&(_<=x||b<=w)){S=!1;break}g-=n.y,_+=n.y,f=g*c,b+=n.X}else n.x<=0?b>w?(f-=n.x,b+=n.x):n.y<=0&&_<=x&&(S=!1):(f-=n.x,b+=n.x),n.y<=0?_>x&&(g-=n.y,_+=n.y):(g-=n.y,_+=n.y);f<0&&g<0?(h="se",g=0,f=0):f<0?(h="ne",f=0):g<0&&(h="sw",g=0);break;case"sw":if(c){if(n.x<=0&&(b<=w||y>=k)){S=!1;break}f-=n.x,b+=n.x,g=f/c}else n.x<=0?b>w?(f-=n.x,b+=n.x):n.y>=0&&y>=k&&(S=!1):(f-=n.x,b+=n.x),n.y>=0?y<k&&(g+=n.y):g+=n.y;f<0&&g<0?(h="ne",g=0,f=0):f<0?(h="se",f=0):g<0&&(h="nw",g=0);break;case"se":if(c){if(n.x>=0&&(v>=C||y>=k)){S=!1;break}g=(f+=n.x)/c}else n.x>=0?v<C?f+=n.x:n.y>=0&&y>=k&&(S=!1):f+=n.x,n.y>=0?y<k&&(g+=n.y):g+=n.y;f<0&&g<0?(h="nw",g=0,f=0):f<0?(h="sw",f=0):g<0&&(h="ne",g=0);break;case"move":this.move(n.x,n.y),S=!1;break;case"zoom":this.zoom((s=M(this.startX-this.startX2),o=M(this.startY-this.startY2),r=M(this.endX-this.endX2),a=M(this.endY-this.endY2),l=R(s*s+o*o),(R(r*r+a*a)-l)/l),t),this.startX2=this.endX2,this.startY2=this.endY2,S=!1;break;case"crop":if(!n.x||!n.y){S=!1;break}i=pe(this.cropper),b=this.startX-i.left,_=this.startY-i.top,f=d.minWidth,g=d.minHeight,n.x>0?h=n.y>0?"se":"ne":n.x<0&&(b-=f,h=n.y>0?"sw":"nw"),n.y<0&&(_-=g),this.cropped||(te(this.cropBox,m),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}S&&(d.width=f,d.height=g,d.left=b,d.top=_,this.action=h,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},crop:function(){return this.built&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ee(this.dragBox,"cropper-modal"),te(this.cropBox,m)),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.built&&!this.disabled&&(this.imageData=Q({},this.initialImageData),this.canvasData=Q({},this.initialCanvasData),this.cropBoxData=Q({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Q(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(),this.renderCanvas(),te(this.dragBox,"cropper-modal"),ee(this.cropBox,m)),this},replace:function(e,t){return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.built&&(this.image2.src=e,G(this.previews,function(t){de(t,"img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(e))),this},enable:function(){return this.built&&(this.disabled=!1,te(this.cropper,"cropper-disabled")),this},disable:function(){return this.built&&(this.disabled=!0,ee(this.cropper,"cropper-disabled")),this},destroy:function(){var e=this.element,t=this.image;return this.ready?(this.isImg&&this.replaced&&(e.src=this.originalUrl),this.unbuild(),te(e,m)):this.isImg?ae(e,"load",this.start):t&&be(t),re(e,"cropper"),this},move:function(e,t){var i=this.canvasData;return this.moveTo(W(e)?e:i.left+d(e),W(t)?t:i.top+d(t))},moveTo:function(e,t){var i=this.canvasData,n=!1;return W(t)&&(t=e),e=d(e),t=d(t),this.built&&!this.disabled&&this.options.movable&&(V(e)&&(i.left=e,n=!0),V(t)&&(i.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=d(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var i,n,s,o,r,a,l,c,h=this.options,u=this.canvasData,p=u.width,f=u.height,m=u.naturalWidth,g=u.naturalHeight;if((e=d(e))>=0&&this.built&&!this.disabled&&h.zoomable){if(i=m*e,n=g*e,!1===ce(this.element,"zoom",{originalEvent:t,oldRatio:p/m,ratio:i/m}))return this;t?(s=pe(this.cropper),o=t.touches?(r=t.touches,a=r.length,l=0,c=0,a&&(G(r,function(e){l+=e.pageX,c+=e.pageY}),l/=a,c/=a),{pageX:l,pageY:c}):{pageX:t.pageX,pageY:t.pageY},u.left-=(i-p)*((o.pageX-s.left-u.left)/p),u.top-=(n-f)*((o.pageY-s.top-u.top)/f)):(u.left-=(i-p)/2,u.top-=(n-f)/2),u.width=i,u.height=n,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+d(e))},rotateTo:function(e){return V(e=d(e))&&this.built&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.rotated=!0,this.renderCanvas(!0)),this},scale:function(e,t){var i=this.imageData,n=!1;return W(t)&&(t=e),e=d(e),t=d(t),this.built&&!this.disabled&&this.options.scalable&&(V(e)&&(i.scaleX=e,n=!0),V(t)&&(i.scaleY=t,n=!0),n&&this.renderImage(!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,V(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(V(t)?t:1,e)},getData:function(e){var t,i,n=this.options,s=this.imageData,o=this.canvasData,r=this.cropBoxData;return this.built&&this.cropped?(i={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height},t=s.width/s.naturalWidth,G(i,function(n,s){n/=t,i[s]=e?$(n):n})):i={x:0,y:0,width:0,height:0},n.rotatable&&(i.rotate=s.rotate||0),n.scalable&&(i.scaleX=s.scaleX||1,i.scaleY=s.scaleY||1),i},setData:function(e){var t,i,n,s=this.options,o=this.imageData,r=this.canvasData,a={};return j(e)&&(e=e.call(this.element)),this.built&&!this.disabled&&Y(e)&&(s.rotatable&&V(e.rotate)&&e.rotate!==o.rotate&&(o.rotate=e.rotate,this.rotated=t=!0),s.scalable&&(V(e.scaleX)&&e.scaleX!==o.scaleX&&(o.scaleX=e.scaleX,i=!0),V(e.scaleY)&&e.scaleY!==o.scaleY&&(o.scaleY=e.scaleY,i=!0)),t?this.renderCanvas():i&&this.renderImage(),n=o.width/o.naturalWidth,V(e.x)&&(a.left=e.x*n+r.left),V(e.y)&&(a.top=e.y*n+r.top),V(e.width)&&(a.width=e.width*n),V(e.height)&&(a.height=e.height*n),this.setCropBoxData(a)),this},getContainerData:function(){return this.built?this.containerData:{}},getImageData:function(){return this.ready?this.imageData:{}},getCanvasData:function(){var e=this.canvasData,t={};return this.built&&G(["left","top","width","height","naturalWidth","naturalHeight"],function(i){t[i]=e[i]}),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return j(e)&&(e=e.call(this.element)),this.built&&!this.disabled&&Y(e)&&(V(e.left)&&(t.left=e.left),V(e.top)&&(t.top=e.top),V(e.width)?(t.width=e.width,t.height=e.width/i):V(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.built&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,n=this.cropBoxData,s=this.options.aspectRatio;return j(e)&&(e=e.call(this.element)),this.built&&this.cropped&&!this.disabled&&Y(e)&&(V(e.left)&&(n.left=e.left),V(e.top)&&(n.top=e.top),V(e.width)&&(t=!0,n.width=e.width),V(e.height)&&(i=!0,n.height=e.height),s&&(t?n.height=n.width/s:i&&(n.width=n.height*s)),this.renderCropBox()),this},getCroppedCanvas:function(e){var t,i,n,s,o,r,a,l,c,h,u,p=this;if(p.built&&P)return p.cropped?(Y(e)||(e={}),u=p.getData(),t=u.width,i=u.height,l=t/i,Y(e)&&(o=e.width,r=e.height,o?(r=o/l,a=o/t):r&&(o=r*l,a=r/i)),n=D(o||t),s=D(r||i),(c=me("canvas")).width=n,c.height=s,h=c.getContext("2d"),e.fillColor&&(h.fillStyle=e.fillColor,h.fillRect(0,0,n,s)),h.drawImage.apply(h,function(){var e,n,s,o,r,l,c=xe(p.image,p.imageData),h=c.width,d=c.height,f=p.canvasData,m=[c],g=u.x+f.naturalWidth*(M(u.scaleX||1)-1)/2,b=u.y+f.naturalHeight*(M(u.scaleY||1)-1)/2;return g<=-t||g>h?g=e=s=r=0:g<=0?(s=-g,e=r=A(h,t+(g=0))):g<=h&&(s=0,e=r=A(t,h-g)),e<=0||b<=-i||b>d?b=n=o=l=0:b<=0?(o=-b,n=l=A(d,i+(b=0))):b<=d&&(o=0,n=l=A(i,d-b)),m.push(D(g),D(b),D(e),D(n)),a&&(s*=a,o*=a,r*=a,l*=a),r>0&&l>0&&m.push(D(s),D(o),D(r),D(l)),m}.call(p)),c):xe(p.image,p.imageData)},setAspectRatio:function(e){var t=this.options;return this.disabled||W(e)||(t.aspectRatio=I(0,e)||NaN,this.built&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t,i,n=this.options,s=this.dragBox,o=this.face;return this.ready&&!this.disabled&&(t="crop"===e,i=n.movable&&"move"===e,oe(s,"action",e=t||i?e:"none"),ie(s,"cropper-crop",t),ie(s,"cropper-move",i),n.cropBoxMovable||(oe(o,"action",e),ie(o,"cropper-crop",t),ie(o,"cropper-move",i))),this}},ke.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ke.TEMPLATE=(o=(o="div,span,action,data,point,cropper,class,line,dashed,box").split(","),'<0 6="5-container"><0 6="5-wrap-9"><0 6="5-canvas"></0></0><0 6="5-drag-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-center"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(e){return o[e]}));var Se=i.Cropper;return ke.noConflict=function(){return i.Cropper=Se,ke},ke.setDefaults=function(e){Q(ke.DEFAULTS,e)},void 0===(n=function(){return ke}.apply(t,[]))||(e.exports=n),s||(i.Cropper=ke),ke},"object"==typeof e&&"object"==typeof e.exports?e.exports=s.document?o(s,!0):function(e){if(!e.document)throw new Error("Cropper requires a window with a document");return o(e)}:o(s)},function(e,t,i){"use strict";var n=i(0),s=i(61),o=i(9),r=i(604);e.exports=o.extend({url:"",defaults:{company:"",fullName:"",address:"",city:"",state:"",zip:"",email:"",phone:"",country:"",countryName:"",website:"",fullAddress:"",vat:"",taxId:""},initialize:function(){this.on("change",this.mapCustomFields),this.mapCustomFields()},parse:function(e){return e.errors?{}:n.pick(e.data||e,n.keys(this.defaults))},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return s(n.extend(o.prototype.serialize.apply(this,t),{phone:r.beautify(this.get("phone")||"")}))},mapCustomFields:function(){var e=this;this.attributes.fullAddress=n.filter(n.map(["address","city","state","zip","countryName"],function(t){return e.get(t)}),function(e){return!!e}).join(", ")}})},function(e,t,i){var n,s,o;s=[i(101),i(922),i(1071),i(1652),i(1650),i(1651),i(1070),i(659),i(912)],void 0===(o="function"==typeof(n=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),s=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options,o=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(n=(i=e(s.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=s.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,s,o,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var s=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,s))})},stop:function(t,i,n){var s=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,s))})},drag:function(t,i,n){e.each(n.sortables,function(){var s=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(s=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(s=!1),s})),s?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",t),n.dropped=o.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var s=e("body"),o=n.options;s.css("cursor")&&(o._cursor=s.css("cursor")),s.css("cursor",o.cursor)},stop:function(t,i,n){var s=n.options;s._cursor&&e("body").css("cursor",s._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var s=e(i.helper),o=n.options;s.css("opacity")&&(o._opacity=s.css("opacity")),s.css("opacity",o.opacity)},stop:function(t,i,n){var s=n.options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var s=n.options,o=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&"HTML"!==r.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<s.scrollSensitivity?r.scrollTop=o=r.scrollTop+s.scrollSpeed:t.pageY-n.overflowOffset.top<s.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<s.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+s.scrollSpeed:t.pageX-n.overflowOffset.left<s.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(a).scrollTop()<s.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<s.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(a).scrollLeft()<s.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<s.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+s.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var s=n.options;n.snapElements=[],e(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var s,o,r,a,l,c,h,u,p,d,f=n.options,m=f.snapTolerance,g=i.offset.left,b=g+n.helperProportions.width,_=i.offset.top,v=_+n.helperProportions.height;for(p=n.snapElements.length-1;p>=0;p--)c=(l=n.snapElements[p].left-n.margins.left)+n.snapElements[p].width,u=(h=n.snapElements[p].top-n.margins.top)+n.snapElements[p].height,b<l-m||g>c+m||v<h-m||_>u+m||!e.contains(n.snapElements[p].item.ownerDocument,n.snapElements[p].item)?(n.snapElements[p].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(h-v)<=m,o=Math.abs(u-_)<=m,r=Math.abs(l-b)<=m,a=Math.abs(c-g)<=m,s&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),d=s||o||r||a,"outer"!==f.snapMode&&(s=Math.abs(h-_)<=m,o=Math.abs(u-v)<=m,r=Math.abs(l-g)<=m,a=Math.abs(c-b)<=m,s&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[p].snapping&&(s||o||r||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=s||o||r||a||d)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var s,o=n.options,r=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(s=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",s+t)}),this.css("zIndex",s+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var s=e(i.helper),o=n.options;s.css("zIndex")&&(o._zIndex=s.css("zIndex")),s.css("zIndex",o.zIndex)},stop:function(t,i,n){var s=n.options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}}),e.ui.draggable})?n.apply(t,s):n)||(e.exports=o)},,,function(e,t,i){"use strict";(function(e){var t=i(0),n=i(6)(e),s=i(1058),o=["005","057","062","117"];e.exports={parse:function(e,i,s){var o=this;if(void 0===i&&(i=[]),void 0===s&&(s={}),!e)return n.error("App is required for errors parser.");var r=i.map(function(t){return o.parseError(e,o.prepareError(t))});return this.format(t.flatten(r),s)},format:function(e,i){if(void 0===e&&(e=[]),void 0===i&&(i={}),i.associate){var n={};return t.each(e,function(e){n[e.field]=e.message}),n}return e},prepareError:function(e){var t=e.error_code,i=e.error_message,n=e.error_data.validationCode;if(3e4===e.error_code){var s=e.error_message.split(":");t=s[0],i=s[1]}return{code:t,message:i,validationCode:n}},parseError:function(e,i){var n=s.get(i.code),o=s.get("default").message(e,i.code,i.message),r={code:i.code,field:s.get("default").field,message:o};if(!n)return[r];if("100"===n.code){if(!i.validationCode)return[r];var a=t(n.errors).findWhere({validationCode:i.validationCode});return a?[{code:i.code,field:a.field,message:a.message?a.message(e):o}]:[r]}return n.errors.map(function(t){return{code:n.code,field:t.field,message:t.message?t.message(e):o}})},filterOwn:function(e,i,n){return void 0===e&&(e={}),void 0===i&&(i=[]),void 0===n&&(n={global:!1}),n.global&&i.push(s.get("default").field),t.pick(t.clone(e),i)},isPaymentFailureError:function(e){return t.contains(o,e)}}}).call(this,i(3)(e))},,function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(48);e.exports=o.extend({url:"CountryList",model:s.Model.extend({idAttribute:"code",defaults:{code:null,title:null,phoneCode:null},serialize:function(){return n.clone(this.attributes)}}),getQueryParams:{},parse:function(e){return this.detected=e.detected,n.map(e.result||[],function(e){return{code:e.code,title:e.name,phoneCode:e.phoneCode}})},serialize:function(){return this.map(function(e){return e.serialize()})}})},,function(e,t,i){"use strict";e.exports.modal={fullScreenSizeReserve:{default:{width:40,height:20},fileView:{width:180,height:20}}}},function(e,t,i){var n,s,o;s=[i(101)],void 0===(o="function"==typeof(n=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){(function(n){var s,o;!function(n,r){"use strict";s=[i(1674),i(0),i(101)],void 0===(o=function(){return function(e,t,i){var n=this,s=e.View,o=Array.prototype.push,r=Array.prototype.concat,a=Array.prototype.splice,l=String.prototype.trim?t.bind(String.prototype.trim.call,String.prototype.trim):i.trim,c=e.View.extend({_render:function(){var e=this,t=e.__manager__,i=e.beforeRender,n=e.deferred();if(e.hasRendered&&e._removeViews(),t.callback=function(){delete t.isAsync,delete t.callback,e.trigger("beforeRender",e),e._viewRender(t).render().promise().then(function(){n.resolve()})},i){var s=i.call(e,e);if(s&&s.then&&(t.isAsync=!0,s.then(function(){t.callback(),n.resolve()},n.resolve)),!1===s)return n.resolve()}return t.isAsync||t.callback(),n.promise()},_applyTemplate:function(e,n,s){t.isString(e)&&(n.noel?(e=i.parseHTML(e,!0),this.$el.slice(1).remove(),this.$el.replaceWith(e),this.setElement(e,!1)):this.html(this.$el,e)),s.resolveWith(this,[this])},_viewRender:function(e){var i,n,s,o=this;function r(t,n){var r;e.callback=function(t){delete e.isAsync,delete e.callback,o._applyTemplate(t,e,s)},c.cache(i,n),n&&(r=o.renderTemplate.call(o,n,t)),e.isAsync||o._applyTemplate(r,e,s)}return{render:function(){var a=o.serialize,l=o.template;return s=o.deferred(),t.isFunction(a)&&(a=a.call(o)),e.callback=function(t){delete e.isAsync,delete e.callback,r(a,t)},"string"==typeof l&&(i=o.prefix+l),(n=c.cache(i))?(r(a,n),s):("string"==typeof l?n=o.fetchTemplate.call(o,o.prefix+l):"function"==typeof l?n=l:null!=l&&(n=o.fetchTemplate.call(o,l)),e.isAsync||r(a,n),s)}}},constructor:function(i){this.manage=!0,t.extend(this,i),e.View.apply(this,arguments)},async:function(){var e=this.__manager__;return e.isAsync=!0,e.callback},promise:function(){return this.__manager__.renderDeferred.promise()},renderViews:function(e){var i=this,n=i.__manager__,s=i.deferred(),o=(e=e&&t.isArray(e)?t.chain(e):i.getViews(e)).map(function(e){return e.render().__manager__.renderDeferred}).value();return n.renderDeferred=s.promise(),i.when(o).then(function(){s.resolveWith(i,[i])}),i},insertView:function(e,t){return t?this.setView(e,t,!0):this.setView(e,!0)},insertViews:function(e){return t.isArray(e)?this.setViews({"":e}):(t.each(e,function(i,n){e[n]=t.isArray(i)?i:[i]}),this.setViews(e))},getView:function(e){return null==e&&(e=arguments[1]),this.getViews(e).first().value()},getViews:function(e){var i;return"string"==typeof e?(e=this.sections[e]||e,i=this.views[e]||[],t.chain([].concat(i))):(i=t.chain(this.views).map(function(e){return t.isArray(e)?e:[e]},this).flatten(),"object"==typeof e?i.where(e):"function"==typeof e?i.filter(e):i)},removeView:function(e){var t;return(t=this.getViews(e).each(function(e){e.remove()})).value(),t},setView:function(e,t,i){var n,s;if("string"!=typeof e&&(i=t,t=e,e=""),!(n=t.__manager__))throw new Error("The argument associated with selector '"+e+"' is defined and a View.  Set `manage` property to true for Backbone.View instances.");return n.parent=this,s=n.selector=this.sections[e]||e,i?(this.views[s]=r.call([],this.views[e]||[],t),this.__manager__.insert=!0,t):(this.getView(e)!==t&&this.removeView(e),this.views[s]=t)},setViews:function(e){return t.each(e,function(e,i){if(t.isArray(e))return t.each(e,function(e){this.insertView(i,e)},this);this.setView(i,e)},this),this},render:function(){var e=this,i=e.__manager__,s=i.parent,o=s&&s.__manager__,r=e.deferred();function a(){function a(){var s=n.console,o=e.afterRender;o&&o.call(e,e),e.trigger("afterRender",e),i.noel&&e.$el.length>1&&t.isFunction(s.warn)&&!e.suppressWarnings&&(s.warn("`el: false` with multiple top level elements is not supported."),t.isFunction(s.trace)&&s.trace())}return t.each(e.views,function(i,n){t.isArray(i)&&e.htmlBatch(e,i,n)}),s&&!i.insertedViaFragment&&(e.contains(s.el,e.el)||s.partial(s.$el,e.$el,o,i)),e.delegateEvents(),e.hasRendered=!0,i.renderInProgress=!1,delete i.triggeredByRAF,i.queue&&i.queue.length?i.queue.shift()():delete i.queue,o&&(o.renderInProgress||o.queue)?s.once("afterRender",a):a(),r.resolveWith(e,[e])}return i.renderInProgress=!0,e._registerWithRAF(function(){e._render().done(function(){if(!t.keys(e.views).length)return a();var i=t.map(e.views,function(i){var n=t.isArray(i);return n&&i.length?e.when(t.map(i,function(e){return e.__manager__.insertedViaFragment=!0,e.render().__manager__.renderDeferred})):n?i:i.render().__manager__.renderDeferred});e.when(i).done(a)})},r),i.renderDeferred=r,e},remove:function(){return c._removeView(this,!0),this._remove.apply(this,arguments)},_registerWithRAF:function(e,t){var i=this,n=i.__manager__,s=n.parent&&n.parent.__manager__;if(!1!==this.useRAF){if(n.deferreds=n.deferreds||[],n.deferreds.push(t),t.done(function(){for(var e=0;e<n.deferreds.length;e++)n.deferreds[e].resolveWith(i,[i]);n.deferreds=[]}),this._cancelQueuedRAFRender(),s&&s.triggeredByRAF)return r();n.rafID=i.requestAnimationFrame(r)}else n.queue?o.call(n.queue,e):(n.queue=[],e());function r(){n.rafID=null,n.triggeredByRAF=!0,e()}},_cancelQueuedRAFRender:function(){var e=this.__manager__;null!=e.rafID&&this.cancelAnimationFrame(e.rafID)}},{_cache:{},_removeViews:function(e,t){"boolean"==typeof e&&(t=e,e=this),(e=e||this).getViews().each(function(e){(e.hasRendered||t)&&c._removeView(e,t)}).value()},_removeView:function(e,i){var n,s=e.__manager__,o=s.parent&&s.parent.__manager__,r="boolean"==typeof e.keep?e.keep:e.options.keep;if(!r&&o&&!0===o.insert||i){if(c.cleanViews(e),e._removeViews(!0),e.$el.remove(),e._cancelQueuedRAFRender(),!s.parent)return;if(n=s.parent.views[s.selector],t.isArray(n))return t.each(t.clone(n),function(e,t){e&&e.__manager__===s&&a.call(n,t,1)}),void(t.isEmpty(n)&&s.parent.trigger("empty",s.selector));delete s.parent.views[s.selector],s.parent.trigger("empty",s.selector)}},cache:function(e,t){return e in this._cache&&null==t?this._cache[e]:null!=e&&null!=t?this._cache[e]=t:void 0},cleanViews:function(i){t.each(r.call([],i),function(i){i.trigger("cleanup",i),i.unbind(),i.model instanceof e.Model&&i.model.off(null,null,i),i.collection instanceof e.Collection&&i.collection.off(null,null,i),i.stopListening(),t.isFunction(i.cleanup)&&i.cleanup()})},configure:function(i){t.extend(c.prototype,i),i.manage&&(e.View.prototype.manage=!0),!1===i.el&&(e.View.prototype.el=!1),!0===i.suppressWarnings&&(e.View.prototype.suppressWarnings=!0),!1===i.useRAF&&(e.View.prototype.useRAF=!1),i._&&(t=i._)},setupView:function(i,n){n=t.extend({},n),t.each(r.call([],i),function(i){if(!i.__manager__){var s,o,r=c.prototype;t.defaults(i,{views:{},sections:{},__manager__:{},_removeViews:c._removeViews,_removeView:c._removeView},c.prototype),i.options=n,t.extend(i,n),i._remove=e.View.prototype.remove,i.render=c.prototype.render,i.remove!==r.remove&&(i._remove=i.remove,i.remove=r.remove),s=n.views||i.views,t.keys(s).length&&(o=s,i.views={},t.each(o,function(e,t){"function"==typeof e&&(o[t]=e.call(i,i))}),i.setViews(o))}})}});c.VERSION="0.10.0",e.Layout=c,e.View.prototype.constructor=function(e){var t;("el"in(e=e||{})?!1===e.el:!1===this.el)&&(t=!0),(e.manage||this.manage)&&c.setupView(this,e),this.__manager__&&(this.__manager__.noel=t,this.__manager__.suppressWarnings=e.suppressWarnings),s.apply(this,arguments)},e.View=e.View.prototype.constructor,e.View.extend=s.extend,e.View.prototype=s.prototype;var h={prefix:"",useRAF:!0,deferred:function(){return i.Deferred()},fetchTemplate:function(e){return t.template(i(e).html())},renderTemplate:function(e,t){return l(e.call(this,t))},serialize:function(){return this.model?t.clone(this.model.attributes):{}},partial:function(e,t,i,n){var s;n.selector&&(i.noel?(s=e.filter(n.selector),e=s.length?s:e.find(n.selector)):e=e.find(n.selector)),i.insert?this.insert(e,t):this.html(e,t)},html:function(e,t){e.empty().append(t)},htmlBatch:function(e,n,s){var o=e.__manager__,r={selector:s},a=t.reduce(n,function(t,n){var s="boolean"==typeof n.keep?n.keep:n.options.keep,o=s&&i.contains(e.el,n.el);return n.el&&!o&&t.push(n.el),t},[]);return this.partial(e.$el,i(a),o,r)},insert:function(e,t){e.append(t)},when:function(e){return i.when.apply(null,e)},contains:function(e,t){return i.contains(e,t)},requestAnimationFrame:function(){for(var e=0,i=["ms","moz","webkit","o"],s=n.requestAnimationFrame,o=0;o<i.length&&!n.requestAnimationFrame;++o)s=n[i[o]+"RequestAnimationFrame"];return s||(s=function(t){var i=(new Date).getTime(),s=Math.max(0,16-(i-e)),o=n.setTimeout(function(){t(i+s)},s);return e=i+s,o}),t.bind(s,n)}(),cancelAnimationFrame:function(){for(var e=["ms","moz","webkit","o"],i=n.cancelAnimationFrame,s=0;s<e.length&&!n.cancelAnimationFrame;++s)i=n[e[s]+"CancelAnimationFrame"]||n[e[s]+"CancelRequestAnimationFrame"];return i||(i=function(e){clearTimeout(e)}),t.bind(i,n)}()};return t.extend(c.prototype,h),c}.apply(n,arguments)}.apply(t,s))||(e.exports=o)}("object"==typeof n?n:this)}).call(this,i(106))},,,,,function(e,t,i){"use strict";var n=i(735),s=i(923),o=i(1665),r=i(805),a=i(1664),l=i(1663),c={};function h(e){return e.getAttribute("data-ps-id")}t.add=function(e){var t=l();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),c[t]=new function(e){var t,i,l=this;function c(){s.add(e,"ps--focus")}function h(){s.remove(e,"ps--focus")}l.settings=n.clone(o),l.containerWidth=null,l.containerHeight=null,l.contentWidth=null,l.contentHeight=null,l.isRtl="rtl"===r.css(e,"direction"),l.isNegativeScroll=(i=e.scrollLeft,e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=i,t),l.negativeScrollAdjustment=l.isNegativeScroll?e.scrollWidth-e.clientWidth:0,l.event=new a,l.ownerDocument=e.ownerDocument||document,l.scrollbarXRail=r.appendTo(r.e("div","ps__scrollbar-x-rail"),e),l.scrollbarX=r.appendTo(r.e("div","ps__scrollbar-x"),l.scrollbarXRail),l.scrollbarX.setAttribute("tabindex",0),l.event.bind(l.scrollbarX,"focus",c),l.event.bind(l.scrollbarX,"blur",h),l.scrollbarXActive=null,l.scrollbarXWidth=null,l.scrollbarXLeft=null,l.scrollbarXBottom=n.toInt(r.css(l.scrollbarXRail,"bottom")),l.isScrollbarXUsingBottom=l.scrollbarXBottom==l.scrollbarXBottom,l.scrollbarXTop=l.isScrollbarXUsingBottom?null:n.toInt(r.css(l.scrollbarXRail,"top")),l.railBorderXWidth=n.toInt(r.css(l.scrollbarXRail,"borderLeftWidth"))+n.toInt(r.css(l.scrollbarXRail,"borderRightWidth")),r.css(l.scrollbarXRail,"display","block"),l.railXMarginWidth=n.toInt(r.css(l.scrollbarXRail,"marginLeft"))+n.toInt(r.css(l.scrollbarXRail,"marginRight")),r.css(l.scrollbarXRail,"display",""),l.railXWidth=null,l.railXRatio=null,l.scrollbarYRail=r.appendTo(r.e("div","ps__scrollbar-y-rail"),e),l.scrollbarY=r.appendTo(r.e("div","ps__scrollbar-y"),l.scrollbarYRail),l.scrollbarY.setAttribute("tabindex",0),l.event.bind(l.scrollbarY,"focus",c),l.event.bind(l.scrollbarY,"blur",h),l.scrollbarYActive=null,l.scrollbarYHeight=null,l.scrollbarYTop=null,l.scrollbarYRight=n.toInt(r.css(l.scrollbarYRail,"right")),l.isScrollbarYUsingRight=l.scrollbarYRight==l.scrollbarYRight,l.scrollbarYLeft=l.isScrollbarYUsingRight?null:n.toInt(r.css(l.scrollbarYRail,"left")),l.scrollbarYOuterWidth=l.isRtl?n.outerWidth(l.scrollbarY):null,l.railBorderYWidth=n.toInt(r.css(l.scrollbarYRail,"borderTopWidth"))+n.toInt(r.css(l.scrollbarYRail,"borderBottomWidth")),r.css(l.scrollbarYRail,"display","block"),l.railYMarginHeight=n.toInt(r.css(l.scrollbarYRail,"marginTop"))+n.toInt(r.css(l.scrollbarYRail,"marginBottom")),r.css(l.scrollbarYRail,"display",""),l.railYHeight=null,l.railYRatio=null}(e),c[t]},t.remove=function(e){delete c[h(e)],function(e){e.removeAttribute("data-ps-id")}(e)},t.get=function(e){return c[h(e)]}},,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t='<div class="subtabs-menu"><div class="subtabs-menu__items">',i=e.scheme;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<div class="subtabs-menu__item _tab" data-key="'+(n=i[s+=1]).key+'"><a class="subtabs-menu__link subtabs-menu__link_'+n.modifier,(n.active||n.pseudoActive)&&(t+=" subtabs-menu__link_active"),t+='"',n.active||(t+=' href="'+n.url+'"'),t+='><span class="subtabs-menu__label">'+this.tr(n.label)+"</span></a></div>";return t+="</div></div>"}},,,,function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(471),r=i(1610),a=i(14),l=i(62);e.exports=o.extend({el:!1,className:"",model:new s.Model({online:!0}),events:{click:"onClick"},initialize:function(){this.listenTo(l,"API:events",n.bind(function(e){e.events.lc&&this.model.set({online:!!e.events.lc})},this)),this.listenTo(this.model,"change:online",this.render)},serialize:function(){return{className:this.className,online:this.model.get("online")}},onClick:function(){this.open()},open:function(e){this.prepare(),this.makeWindow()},prepare:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=document.location.protocol+r.defaults.link;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},makeWindow:function(){!window.lc||window.lc.closed?window.lc=window.open(this.getChatUrl(),"_blank",this.getWindowProps()):window.lc.focus()},mutateLang:function(e){return"sp"===e?"es":e},getGroup:function(e){return n.findWhere(r[this.app.user.get("id")>0?"logged":"guest"],{key:e}).value||r.defaults.group},getParams:function(){return this.app.user.get("id")?[{name:"Login",value:this.app.user.get("username")},{name:"Name",value:this.app.user.get("name")},{name:"Email",value:this.app.user.get("email")}]:[]},getWindowProps:function(){return n.map(r.windowProps,function(e,t,i){return t+"="+(n.isFunction(e)?e(i):e)}).join(",")},getChatUrl:function(e){var t=n.extend({},e,{params:this.getParams(),license:r.defaults.accountId,group:this.getGroup(this.app.lang),lang:this.mutateLang(this.app.lang),username:this.app.user.get("id")?"&name="+(this.app.user.get("name")||this.app.user.get("username")):""});return"https://secure.livechatinc.com/licence/"+t.license+"/open_chat.cgi?lang="+t.lang+"&groups="+t.group+"&uuid=u"+(Math.random()+t.username)+"#"+a.encodeURIComponent(window.location.href)}})},function(e,t,i){"use strict";(function(t){var n=i(1)(i(131)),s=i(0),o=i(471),r=i(1641),a=i(22).serializeForm,l=i(63),c=i(488),h=i(132).signupLegacyParams,u=i(40),p=i(615),d=i(100).userErrors,f=i(485),m=o.extend({el:!1,events:{submit:"onSubmit","keypress input":"onInputKeyPress","input input":"onInputInput","focus input":"onInputFocus","focus select":"onInputFocus","change select":"onInputInput"},validationDelay:{},validationQuery:{},liveValidation:!0,displayValidationErrorMessages:!0,uniqueFields:["username","email"],initialize:function(){this.checkUnique=new r,this.listenTo(this.model,"invalid",this.handleModelInvalid),this.listenTo(this.checkUnique,"invalid",this.handleCheckUniqueInvalid)},serialize:function(){var e={countries:this.countries?this.countries.toJSON():{},links:{signUp:this.app.makeUrl("signup",{protocol:"https:",backURL:!0})},errors:this.errors,fieldData:this.model.serialize(),captcha:{show:this.isCaptchaNeeded(),siteKey:u.recaptcha.publicKey}};return this.model.validation.username&&s.extend(e,{usernameMaxLength:s.find(this.model.validation.username,function(e){return s.has(e,"maxLength")}).maxLength}),e},clientAfterRender:function(){this.fillLegacyParams(),this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length&&p.injectScript(this.$(".g-recaptcha")[0])},fillLegacyParams:function(){var e=this;h.toRead.forEach(function(t){e.model.set(t,l.get(t),{silent:!0})})},purgeLegacyParams:function(){h.toRemove.forEach(function(e){l.set(e,"",{path:"/",expires:new Date})})},onInputInput:function(e){var t=this;if(this.liveValidation){var i=e.currentTarget.name,n=e.currentTarget.value;this.resetField(i),clearTimeout(this.validationDelay[i]),this.validationDelay[i]=s.delay(function(){delete t.validationDelay[i],t.validateField(i,n)},1e3)}},onInputFocus:function(e){this.resetField(e.currentTarget.name)},onInputKeyPress:function(e){(e.which||e.keyCode)===f.enter&&this.onSubmit(e)},onSubmit:function(e){e.preventDefault(),this.clearValidationQuery(),this.resetErrors(),this.submit()},submit:function(){var e=a(this.$el);e.signup_type="download"===this.app.chain.name?"signup_download":"signup_direct",!this.$(".g-recaptcha-response").length||e["g-recaptcha-response"]?this.auth(e):this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."})},auth:function(e){var t=this;this.model.save(e,{success:function(e,i){void 0!==i.userid?(t.app.observer.broadcast("Track:UE:SignUp:Success",{userId:i.userid}),t.app.observer.broadcast("Track:UE:SignUp:SuccessComplete"),t.purgeLegacyParams(),t.onAuthCallback()):p.reset(t.$(".g-recaptcha-response"))}})},validateField:function(e,t){if(t){var i=this.model.preValidate(e,t);i.length?this.showFieldError(e,i):(this.resetField(e),-1!==this.uniqueFields.indexOf(e)?this.validateUnique(e,t):this.showFieldCorrect(e),this.model.set(e,t,{silent:!0}))}},validateUnique:function(e,t){var i=this;this.progressField(e);var n="u"+Math.random();this.validationQuery[e]=n,this.checkUnique.save({name:e,value:t},{success:function(t,s){i.validationQuery[e]!==n||s.errors||i.showFieldCorrect(e)}})},handleModelInvalid:function(e,i){var o=this;this.errors=i,t.browser&&(this.model.set("g-recaptcha-response",""),s.each(i,function(e,t){var i,r=s.isArray(e)?s.first(e):e;if(s.isString(r)){var a=r.split(":");i=a[0],r=a[1]}s.contains((0,n.default)(d),+i)&&p.injectScript(o.$(".g-recaptcha")[0]),i&&!r&&(r=i),o.showFieldError(t,r)}))},handleCheckUniqueInvalid:function(e,i){var n=this;t.browser&&s.each(i,function(t){n.showFieldError(e.get("name"),t.error_message)})},showFieldCorrect:function(e){this.fieldCorrect(this.$('[name="'+e+'"]').parent())},showFieldError:function(e,t){this.fieldIncorrect(this.$('[name="'+e+'"]').parent(),{errorMessage:this.displayValidationErrorMessages&&t})},progressField:function(e){this.fieldProgress(this.$('[name="'+e+'"]').parent(),{keepEnabled:!0})},resetErrors:function(){var e=this;s.each(this.$("input, select"),function(t){return e.fieldReset(e.$(t).parent())}),this.fieldReset(this.$(".g-recaptcha-response").parent())},resetField:function(e){this.fieldReset(this.$('[name="'+e+'"]').parent())},clearValidationQuery:function(){s.each(this.validationDelay,function(e){clearTimeout(e)})},isCaptchaNeeded:function(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("registerNewUser")},onAuthCallback:s.noop});s.extend(m.prototype,c),e.exports=m}).call(this,i(5))},,,,,,,,function(e,t,i){"use strict";e.exports={index:{effect:"blinds",element:"._series-box-item",blindsBarDelay:175,animationShow:500,autorun:!1,navigation:!1},howdesign:{effect:"fade",animationSlide:2e4,animationShow:1,autorun:!1},about:{effect:"move",activeSlideClass:"about-page__gallery-item_active",prevSlideClass:"about-page__gallery-item_prev",nextSlideClass:"about-page__gallery-item_next",adjacentSlides:!0,arrowNavigation:!0,animationSlide:2e4,animationShow:100,autorun:!1},favorite:{effect:"fade",animationSlide:1e4,animationShow:500},recentlyViewed:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:6},filesBox:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0},ourApps:{effect:"fade",autorun:!1,animationShow:200,slideOnTouchMove:!0},marketBlock:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:1,offset:14},rightFolders:{effect:"slide",autorun:!1,animationShow:200},marketFolders:{effect:"slide",autorun:!1,animationShow:200,slideOnlyForward:!0,slideOnTouchMove:!0},userProductsHome:{effect:"fade",autorun:!1,animationShow:300}}},function(e,t,i){"use strict";(function(e){var t=i(6)(e),n=i(0),s=i(22).capitalize,o=i(16).$,r=function(){function e(e,t){this.element=e,this.$items=[],this.$navItems=[],this.itemsCount=0,this.currentIndex=null,this.preparations={},this.timer=null,this.options=n.extend({animationSlide:4500,animationShow:2e3,holder:"._slider-holder",element:"._slider-item",navElement:"._slider-navigation",navArrowElement:"._slider-arrow",effect:"fade",blindsBars:7,blindsBarDelay:50,autorun:!0,navigation:!0,prevSlideClass:"",nextSlideClass:"",activeSlideClass:"",activeNavigationClass:"active",adjacentSlides:!1,arrowNavigation:!1,slideOnlyForward:!1,slideOnTouchMove:!1,visibleSlides:1,offset:0},t),this.element.data("GallerySlider",this),this.init()}var i=e.prototype;return i.init=function(){this.initElements(),this.prepareEffect(),this.options.navigation&&this.prepareNavigation(),this.options.autorun&&this.start()},i.initElements=function(){this.$items=this.element.find(this.options.element),this.itemsCount=this.$items.length,0!==this.itemsCount?this.currentIndex=this.$items.filter(":visible:eq(0)").index():t.debug("There are no elements for display")},i.prepareEffect=function(){var e=s(this.options.effect);n.isFunction(this["_prepare"+e])&&this["_prepare"+e]()},i.prepareNavigation=function(){var e=this;this.$navItems=this.element.find(this.options.navElement),this.$navItems.off("click.gallerySlider").on("click.gallerySlider",function(t){t.stopPropagation(),e.slide(o(t.currentTarget).index()),e.options.autorun&&e.start()}),this.options.arrowNavigation&&(this.$navArrowItems=this.element.find(this.options.navArrowElement),this.$navArrowItems.off("click.gallerySlider").on("click.gallerySlider",function(t){t.stopPropagation();var i=1*o(t.currentTarget).attr("data-direction"),n=e.$navItems.filter("."+e.options.activeNavigationClass).index();0===n&&i<0?e.slide(e.$navItems.length-1):n===e.$navItems.length-1&&i>0?e.slide(0):e.slide(n+i),e.options.autorun&&e.start()})),0===this.$navItems.filter("."+this.options.activeNavigationClass).length&&this.$navItems.eq(0).addClass(this.options.activeNavigationClass)},i.start=function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=n.delay(function(){e.next(),e.start()},this.options.animationSlide)},i.next=function(){this.slide(this.currentIndex===this.itemsCount-1?0:this.currentIndex+1)},i.slide=function(e){if(e!==this.currentIndex&&this.$items[e]){var t=s(this.options.effect);this[n.isFunction(this["_exec"+t])?"_exec"+t:"_execSlide"](this.$items.eq(this.currentIndex),this.$items.eq(e),this.options.slideOnlyForward||this.currentIndex<e?"next":"prev",e),this.currentIndex=e,this.$items.removeClass(this.options.activeSlideClass),this.$items.eq(e).addClass(this.options.activeSlideClass),this.options.adjacentSlides&&(this.$items.removeClass(this.options.prevSlideClass+" "+this.options.nextSlideClass),e+1===this.$items.length?(this.$items.eq(e-1).addClass(this.options.prevSlideClass),this.$items.eq(0).addClass(this.options.nextSlideClass)):0===e?(this.$items.eq(this.$items.length-1).addClass(this.options.prevSlideClass),this.$items.eq(e+1).addClass(this.options.nextSlideClass)):(this.$items.eq(e-1).addClass(this.options.prevSlideClass),this.$items.eq(e+1).addClass(this.options.nextSlideClass))),this.options.navigation&&this.$navItems.removeClass(this.options.activeNavigationClass).eq(e).addClass(this.options.activeNavigationClass)}},i.getDelay=function(){return Math.max(this.preparations.barsDelay,this.options.animationShow)},i.css3=function(e,t){var i={},n=["webkit","moz","ms","o"];for(var s in t)if({}.hasOwnProperty.call(t,s)){for(var o=0;o<n.length;o++)i["-"+n[o]+"-prop"]=t[s];i[s]=t[s]}return e.css(i)},i._prepareBlinds=function(){this.preparations.barClass="dpg-bar",this.preparations.bar=o("<i />",{class:this.preparations.barClass}),this.preparations.barsDelay=this.options.blindsBarDelay*this.options.blindsBars+this.options.animationShow,this.$items.each(function(e,t){var i=o(t),n=i.find("img");i.data({image:n.attr("src")})})},i._prepareFade=function(){this.$items.removeClass("hidden").hide().eq(this.currentIndex).show()},i._prepareSlide=function(){var e=this;this.$items.removeClass("hidden").hide().eq(this.currentIndex).show(),"slide"===this.options.effect&&this.options.slideOnTouchMove&&this.element.on("touchstart.gallerySlider",function(t){t.stopPropagation();var i=t.originalEvent.touches[0].pageX;o(t.currentTarget).on("touchmove.gallerySlider",function(t){t.stopPropagation();var n=t.originalEvent.touches[0].pageX;i>n+10?e.slide(e.currentIndex?e.currentIndex-1:e.$items.length-1):i<n-10&&e.slide(e.currentIndex<e.$items.length-1?e.currentIndex+1:0),o(t.currentTarget).off("touchmove.gallerySlider")})})},i._prepareMove=function(){var e=this;if("move"===this.options.effect){var t=this.$items.eq(0).outerWidth()*this.options.visibleSlides;this.element.find(this.options.holder).off("ps-scroll-x.gallerySlider").on("ps-scroll-x.gallerySlider",n.throttle(function(){if(!0!==e.selfScroll){var i=Math.floor(e.element.find(e.options.holder).scrollLeft()/t);e.currentIndex=i,e.$navItems.removeClass(e.options.activeNavigationClass),e.$navItems.eq(i).addClass(e.options.activeNavigationClass)}},10))}},i._execSlide=function(e,t,i){var n=e.width();this.options.slideOnlyForward?e.hide():e.stop(!0).animate({left:"next"===i?-n:n},this.options.animationShow,function(){o(this).hide().css("left",0)}),t.stop(!0).css("left","next"===i?n:-n).show().animate({left:0},this.options.animationShow)},i._execBlinds=function(e,t){var i=this,s=e.width(),o=e.height(),r=Math[s>=o?"round":"ceil"](s/this.options.blindsBars),a=e.data("image");e.css("z-index","1001").hide().find("a").hide(),t.css("z-index","1000").show().find("a").show();for(var l=0;l<=this.options.blindsBars-1;l++){var c=r*l,h=this.preparations.bar.clone();h.css({left:c+"px",width:r+"px",height:o+"px",background:"url("+a+")","background-position":"-"+c+"px 0"}).appendTo(e.parent()),this.css3(h,{"transition-duration":this.options.animationShow+"ms","transition-delay":this.options.blindsBarDelay*l+"ms"})}n.delay(function(){return i.css3(i.element.find("."+i.preparations.barClass),{transform:"scaleX(0)"})},50),n.delay(function(){return i.element.find("."+i.preparations.barClass).remove()},this.preparations.barsDelay+50)},i._execFade=function(e,t){var i=this;e.stop(!0).fadeOut(this.options.animationShow,function(){t.stop(!0).fadeIn(i.options.animationShow)})},i._execMove=function(e,t,i,n){var s=this,o=this.options.visibleSlides*n,r=this.$items.eq(o).outerWidth()*o+(n>0?this.options.offset:0);this.selfScroll=!0,this.element.find(this.options.holder).stop().animate({scrollLeft:r},this.options.animationShow,function(){s.selfScroll=!1})},e}();e.exports=function(e,t){return new r(e,t)}}).call(this,i(3)(e))},function(e,t,i){e.exports=i(1633)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(735),s=i(923),o=i(805),r=i(665),a=i(750);function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}e.exports=function(e){var t,i=r.get(e);i.containerWidth=e.clientWidth,i.containerHeight=e.clientHeight,i.contentWidth=e.scrollWidth,i.contentHeight=e.scrollHeight,e.contains(i.scrollbarXRail)||((t=o.queryChildren(e,".ps__scrollbar-x-rail")).length>0&&t.forEach(function(e){o.remove(e)}),o.appendTo(i.scrollbarXRail,e)),e.contains(i.scrollbarYRail)||((t=o.queryChildren(e,".ps__scrollbar-y-rail")).length>0&&t.forEach(function(e){o.remove(e)}),o.appendTo(i.scrollbarYRail,e)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,n.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n.toInt((i.negativeScrollAdjustment+e.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,n.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n.toInt(e.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,o.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,o.css(t.scrollbarYRail,n),o.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,i),i.scrollbarXActive?s.add(e,"ps--active-x"):(s.remove(e,"ps--active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,a(e,"left",0)),i.scrollbarYActive?s.add(e,"ps--active-y"):(s.remove(e,"ps--active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,a(e,"top",0))}},function(e,t,i){"use strict";var n=i(923),s=i(805),o=t.toInt=function(e){return parseInt(e,10)||0},r=t.clone=function(e){if(e){if(Array.isArray(e))return e.map(r);if("object"==typeof e){var t={};for(var i in e)t[i]=r(e[i]);return t}return e}return null};function a(e){return function(t,i){e(t,"ps--in-scrolling"),void 0!==i?e(t,"ps--"+i):(e(t,"ps--x"),e(t,"ps--y"))}}t.extend=function(e,t){var i=r(e);for(var n in t)i[n]=r(t[n]);return i},t.isEditable=function(e){return s.matches(e,"input,[contenteditable]")||s.matches(e,"select,[contenteditable]")||s.matches(e,"textarea,[contenteditable]")||s.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var s=t[i];0===s.indexOf("ps-")&&n.remove(e,s)}},t.outerWidth=function(e){return o(s.css(e,"width"))+o(s.css(e,"paddingLeft"))+o(s.css(e,"paddingRight"))+o(s.css(e,"borderLeftWidth"))+o(s.css(e,"borderRightWidth"))},t.startScrolling=a(n.add),t.stopScrolling=a(n.remove),t.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},,,,,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(48),o=i(9),r={credits:i(160),subscription:i(144),imagepack:i(152),ondemand:i(143),membership:i(140)};e.exports=s.extend({url:"Offers",getQueryParams:{},comparator:function(e){return e.get("period")},parse:function(e,t){return void 0===t&&(t={}),!e||n.isEmpty(e.result)?[]:t.secureCorporateFilter?n.filter(e.result,function(e){return e.split_count>0}):e.result},model:function(e,t){var i=r[e.type];return!i&&e.ondemand_offer_id?i=r.ondemand:"bundle"===e.type&&(i=r.membership),i?new i(e,t):new o(e,t)},serializeLikeOffers:function(){return this.models.map(function(e){return e.serializeLikeOffer()})},findOfferByTypeAndOfferId:function(e,t){return this.find(function(i){return i.get("type")===e&&i.makeOfferID()===parseInt(t,10)})}})},function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(9),r=i(127),a=i(1588).detect,l=i(2);n.extend(s.Validation.validators,{expirationField:function(e,t,i,n){var s="expiryMonth"===t?e:n.get("expiryMonth"),o="20"+("expiryYear"===t?e:n.get("expiryYear"));return new Date(o,s,0)<i?r.InvalidExpirationDate:null}}),e.exports=o.extend({url:"Card",isHttps:!0,defaults:{id:null,number:null,pan:null,bin:null,expiryMonth:1,expiryYear:+l().format("YY"),cvv:null,billingName:null,isLinked:!1,captcha:""},validation:{number:[{required:!0,msg:!0},{minLength:5,msg:r.InvalidCardNumber},{maxLength:22,msg:r.InvalidCardNumber}],pan:[{required:!0,msg:!0},{pattern:"digits",msg:r.InvalidCardNumber},{minLength:5,msg:r.InvalidCardNumber},{maxLength:22,msg:r.InvalidCardNumber}],expiryMonth:{required:!0,expirationField:new Date},expiryYear:{required:!0,expirationField:new Date},cvv:function(e){return!e||!/^[0-9]{3,4}$/.test(e)&&r.InvalidCvv}},masks:{cvv:"***"},initialize:function(e,t){var i=this;this.url=t&&t.url||this.url,this.on("change:number",function(){i.attributes.bin=i.parseBin(i.get("pan"))})},parse:function(e){void 0===e&&(e={});var t=e.data&&e.data.card?n.clone(e.data.card):n.clone(e);return t.number&&(t.bin=this.parseBin(t.number),t.number=this.getNumberLabel(t.number)),n.pick(t,n.keys(this.defaults))},parseBin:function(e){return void 0===e&&(e=this.get("number")),e?e.slice(0,6):null},destroy:function(e){var t=e?n.clone(e):{},i=this,s=t.success,o=t.wait,r=function(){i.stopListening(),i.trigger("destroy",i,i.collection,t)};t.success=function(e){!o||e.errors&&e.errors.length||r(),s&&s.call(t.context,i,e,t),i.isNew()||i.trigger("sync",i,e,t)};var a=!1;if(this.isNew())n.defer(t.success);else{var l=t.error;t.error=function(e){l&&l.call(t.context,this,e,t),this.trigger("error",this,e,t)},a=this.sync("delete",this,t)}return o||r(),a},serializeToView:function(){return{id:this.get("id"),number:this.getNumberLabel(this.get("number")),cvv:this.getCvvLabel(this.get("cvv")),expire:this.getExpireLabel(this.get("expiryMonth"),this.get("expiryYear")),type:this.getType()}},prepareNumberForSet:function(e){return void 0===e&&(e=this.get("pan")),(e||"").replace(/ /g,"").trim()},getExpirationYears:function(e){void 0===e&&(e=20);for(var t=[parseInt(l().format("YY"),10)],i=0;i<e;i++)t.push(t[i]+1);return t},getNumberLabel:function(e,t){if(void 0===e&&(e=this.get("pan")),void 0===t&&(t=!0),!e)return"";var i,n=String(e).trim().replace(/ /g,"");return t&&(n=(i=n).replace(/./g,function(e,t){return t<4||t>(i.length<=16?11:i.length-5)?e:"*"}).trim()),function(e){return e.replace(/./g,function(e,t){return e+((t+1)%4==0?" ":"")}).trim()}(n)},getCvvLabel:function(e){void 0===e&&(e=this.get("cvv"));var t=String(e);return t.length?t.replace(/./g,"*"):this.masks.cvv},getExpireLabel:function(e,t){void 0===e&&(e=this.get("expiryMonth")),void 0===t&&(t=this.get("expiryYear"));var i=e||this.getCurrentMonth(),n=t||this.getCurrentYear();return(i<10?"0"+i:i)+" / 20"+n},getCurrentMonth:function(){return(new Date).getMonth()},getCurrentYear:function(){return+l().format("YY")},getType:function(e){return void 0===e&&(e=this.get("number")),a(e)}})},function(e,t,i){"use strict";var n=i(0),s=i(2),o=i(99),r=i(650),a=i(129).statisticsDays,l=i(22),c=13502;e.exports=o.extend({url:function(){return this.get("id")?"Invoice":"LastPaidInvoice"},defaults:{from:{},to:{},items:[],id:null,title:"",orderNumber:null,date:"",price:null,currencyPrice:null,currencyCode:null,currencyId:null,vat:null,paid:null},relations:{from:r,to:r},getQueryParams:function(){return n.pick(this.attributes,"id")},parse:function(e){if(!e){var t={error_code:c};return this.validationError=t,this.trigger("invalid",this,[t],{validationError:[t]}),{}}return e.errors&&e.errors.length?(this.validationError=e.errors,this.trigger("invalid",this,e.errors,{validationError:e.errors}),{}):n.extend({},e,{orderNumber:e.order_number,splitCount:e.split_count,paid:+e.payment_date||null,price:parseFloat(e.price),currencyCode:""+e.currency_code,currencyPrice:parseFloat(e.currency_price),productType:e.product_type})},getVatAmount:function(){return parseFloat(this.get("vat")*this.get("price"))},formatPrice:function(e){return this.get("currencyCode")?this.app.currencies.findWhere({code:this.get("currencyCode")}).format(e):null},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=o.prototype.serialize.apply(this,t);try{n.date=s.unix(n.date).format(a)}catch(e){}try{n.paid=n.paid?s.unix(n.paid).format(a):""}catch(e){n.paid=""}return n.status&&(n.status=l.capitalize(n.status)),n}})},function(e,t,i){"use strict";var n=i(9),s=i(22);e.exports=n.extend({defaults:{filesType:"total",files:53714430,customers:4890333,contributors:58682},url:"MarketStats",getQueryParams:function(){return{type:this.get("filesType")}},parse:function(e){return{filesType:e.itemType,files:parseInt(e.count)||this.defaults.files,customers:parseInt(e.customers)||this.defaults.customers,contributors:parseInt(e.contributorsCount)||this.defaults.contributors}},serialize:function(){return{files:s.numberFormat(this.get("files")),customers:s.numberFormat(this.get("customers")),contributors:s.numberFormat(this.get("contributors"))}}})},function(e,t,i){"use strict";var n=i(665),s=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,i){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===t&&i<=0&&(e.scrollTop=i=0,e.dispatchEvent(s("ps-y-reach-start"))),"left"===t&&i<=0&&(e.scrollLeft=i=0,e.dispatchEvent(s("ps-x-reach-start")));var o=n.get(e);"top"===t&&i>=o.contentHeight-o.containerHeight&&((i=o.contentHeight-o.containerHeight)-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(s("ps-y-reach-end"))),"left"===t&&i>=o.contentWidth-o.containerWidth&&((i=o.contentWidth-o.containerWidth)-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(s("ps-x-reach-end"))),void 0===o.lastTop&&(o.lastTop=e.scrollTop),void 0===o.lastLeft&&(o.lastLeft=e.scrollLeft),"top"===t&&i<o.lastTop&&e.dispatchEvent(s("ps-scroll-up")),"top"===t&&i>o.lastTop&&e.dispatchEvent(s("ps-scroll-down")),"left"===t&&i<o.lastLeft&&e.dispatchEvent(s("ps-scroll-left")),"left"===t&&i>o.lastLeft&&e.dispatchEvent(s("ps-scroll-right")),"top"===t&&i!==o.lastTop&&(e.scrollTop=o.lastTop=i,e.dispatchEvent(s("ps-scroll-y"))),"left"===t&&i!==o.lastLeft&&(e.scrollLeft=o.lastLeft=i,e.dispatchEvent(s("ps-scroll-x")))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t="";if(e.state.pagesCount>e.state.pagerLimit){t+='<a data-dir="prev"',e.schema.prev&&(t+=' href="'+e.schema.prev+'"'),t+='title="'+this.tr("Previous")+'" data-page="'+(e.state.page-1)+'"class="pager__page pager__page-previous',e.schema.prev||(t+=" pager__page_inactive"),t+='" data-not-spa="">'+this.tr("Previous")+"</a>";var i=e.schema.buttons.prev;if(i)for(var n=-1,s=i.length-1;n<s;)t+='<a data-page="'+(r=i[n+=1]).page+'" ',r.active||(t+=' href="'+r.href+'"'),t+='class="pager__page',r.active&&(t+=" pager__page_active"),t+='" data-not-spa="">'+r.page+"</a>";t+='<div class="field-box input-box pager__input-box"><span contenteditable="true" class="pager__input',e.schema.activeButton||(t+=" pager__input_active"),t+='"',e.placeholder&&(t+=' placeholder="'+e.placeholder+'"'),t+=">",e.schema.activeButton||(t+=""+e.state.page),t+="</span></div>";var o=e.schema.buttons.next;if(o)for(var r,a=-1,l=o.length-1;a<l;)t+='<a data-page="'+(r=o[a+=1]).page+'" ',r.active||(t+=' href="'+r.href+'"'),t+='class="pager__page',r.active&&(t+=" pager__page_active"),t+='" data-not-spa="">'+r.page+"</a>";t+='<a data-dir="next"',e.schema.next&&(t+=' href="'+e.schema.next+'"'),t+='title="'+this.tr("Next")+'" data-page="'+(e.state.page+1)+'"class="pager__page pager__page-next',e.schema.next||(t+=" pager__page_inactive"),t+='" data-not-spa="">'+this.tr("Next")+"</a>"}return t}},,,,,,,,function(e,t,i){"use strict";var n=i(1),s=n(i(131)),o=n(i(23)),r=i(0),a=i(2),l=i(471),c=i(473),h=i(747),u=i(488),p=i(654),d=i(615),f=i(472),m=i(100).captchaErrors,g=i(1058),b=i(127),_=i(40),v=i(1587),y=i(1586),w=i(1585),x=r.range(1,13),C=l.extend({name:"MerchantCardManager",el:!1,template:v,useSaved:!1,useSavedState:!1,classNames:"",expireFields:["expiryMonth","expiryYear"],events:{"focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn",'focusin [name="expiryMonth"]':"onExpiryFocusIn",'focusin [name="expiryYear"]':"onExpiryFocusIn","mouseenter ._lock":"onLockMouseEnter","mouseleave ._lock":"onLockMouseLeave","mouseenter ._card-helper":"onCardHelperMouseEnter","mouseleave ._card-helper":"onCardHelperMouseLeave","input ._cardPan":"onCardPanInput","change ._expiryMonth":"onSelectChange","change ._expiryYear":"onSelectChange","input ._cvv":"onRegularFieldChange"},initialize:function(e){this.setCardModel(e)},serialize:function(){return{useSaved:this.useSaved,attributes:this.model.serialize(),expiration:{months:x,years:this.model.getExpirationYears()},classNames:this.classNames,captcha:{siteKey:_.recaptcha.publicKey}}},clientAfterRender:function(){this.enableTooltips(),this.focusOn()},getActiveCard:function(){return this.model},getCaptchaValue:function(){var e=this.$(".g-recaptcha-response");return e.length?e.val():""},enableTooltips:function(){this.setNotExistView("cardLock",c,{params:f.MerchantFormLock,content:new l({el:!1,template:y})}),this.setNotExistView("cardHelper",c,{params:f.MerchantManagerCard,content:new l({el:!1,template:w,app:this.app})})},focusOn:function(){this.$("._cardPan").focus()},setCardModel:function(e){this.model=e.model||new h({expiryMonth:r.first(x),expiryYear:+a().format("YY")},{app:this.app}),this.listenTo(this.model,{invalid:this.onModelInvalid,error:this.onModelError,change:this.onModelChangeCallback})},onModelInvalid:function(e,t){var i=this;r.each(t,function(e,t){return i.markError(t,e)})},onModelError:function(e,t){var i=this,n=p.parse(this.app,t.errors,{associate:!0});n=p.filterOwn(n,r.keys(e.defaults),{global:!0}),r.each(n,function(e,s){var r=t.errors[(0,o.default)(n).indexOf(s)].error_code;i.markError(s,e,r)})},markError:function(e,t,i){(0,s.default)(m).includes(i)?this.showCaptcha():r.contains(this.expireFields,e)?this.markExpiryFieldsError(t):e!==g.get("default").field&&e?this.fieldIncorrect(this.$("[name="+e+"]").parent(),{errorMessage:t}):this.fieldIncorrect(this.$("._errorHolder"),{errorMessage:t})},markExpiryFieldsError:function(e){void 0===e&&(e=this.tr(b.InvalidExpirationDate)),this.fieldIncorrect(this.$('[name="expiryMonth"]').parent(),{errorMessage:e}),this.fieldIncorrect(this.$('[name="expiryYear"]').parent())},validate:function(){return!(!this.useSaved||!this.useSavedState)||(this.model.get("number")&&this.model.set({number:this.model.prepareNumberForSet()}),this.$(".g-recaptcha-response").length&&!this.$(".g-recaptcha-response").val()?(this.fieldIncorrect(this.$("._captcha").parent(),{errorMessage:"Please check the ReCaptcha check box."}),!1):this.model.isValid(!0))},resetErrors:function(){var e=this;this.fieldReset(this.$("._errorHolder")),r.each(this.$("input, select, ._captcha"),function(t){return e.fieldReset(e.$(t).parent())})},showCaptcha:function(){d.injectScript(this.$("._captcha")[0])},resetCaptcha:function(){d.reset(this.$(".g-recaptcha-response"))},resetCaptchaError:function(){this.fieldReset(this.$("._captcha").parent())},onFieldFocusIn:function(e){this.fieldReset(this.$("._errorHolder")),this.fieldReset(this.$(e.currentTarget).parent())},onExpiryFocusIn:function(){this.fieldReset(this.$('[name="expiryMonth"]').parent()),this.fieldReset(this.$('[name="expiryYear"]').parent())},onLockMouseEnter:function(e){this.getView("cardLock").show(e)},onLockMouseLeave:function(e){this.getView("cardLock").hide(e)},onCardHelperMouseEnter:function(e){this.getView("cardHelper").show(e)},onCardHelperMouseLeave:function(e){this.getView("cardHelper").hide(e)},onCardPanInput:function(e){var t=this.model.prepareNumberForSet(e.currentTarget.value);this.model.set({pan:t,number:this.model.getNumberLabel(t)}),Backbone.$(e.currentTarget).val(this.model.getNumberLabel(t,!1))},onRegularFieldChange:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},onSelectChange:function(e){this.model.set(e.currentTarget.name,parseInt(e.currentTarget.value,10))},onModelChangeCallback:function(){}});r.extend(C.prototype,u),e.exports=C},function(e,t,i){"use strict";var n=i(159),s=i(48);e.exports=s.extend({url:"RebillInfo",model:n,getQueryParams:{},parse:function(e){return e.plans||[]}})},function(e,t){e.exports=function(e){var t='<form method="POST" action="'+this.app.makeUrl("signup",{protocol:"https:",backURL:!0})+'" id="SignupUser" name="SignupUser" autocomplete="off"><label class="signup-user-page__field field-box input-box input-box-xxxl _email-field"><input class="input input-xxxl" type="text" name="email" placeholder="'+this.tr("E-mail")+' *" value="';return e.fieldData.email&&(t+=""+e.fieldData.email),t+='" /></label><label class="signup-user-page__field signup-user-page__password-field field-box input-box input-box-xxxl"><input class="signup-user-page__password-input input input-xxxl _password" type="password" name="password" placeholder="'+this.tr("Password")+' *"  autocomplete="off" /></label><div class="signup-user-page__captcha g-recaptcha _captcha',e.captcha.show&&(t+=" signup-user-page__captcha_visible"),t+='" data-sitekey="'+e.captcha.siteKey+'"></div></form>'}},function(e,t,i){"use strict";(function(t){var n=i(1)(i(698)),s=i(0),o=i(40).social,r=i(107),a=i(22),l=i(16),c=i(474),h=i(803),u=t.browser?i(104):null,p=function(){function e(e){var t=this;this.app=e.app,this.lang=r.DEFAULT_LANGUAGE,this.model=new h([],{defaults:{code:null,accessToken:null,email:null,__utmz:null,signup_type:null,dp_unbounce_url:null}}),this.model.defaults=this.model.options.defaults,this.model.getRespErrors=function(e){return e.errors},this.model.set({__utmz:u.get("__utmz"),unbounce_url:u.get("unbounce_url"),signup_type:"download"===e.app.chain.name?"signup_download":"signup_direct"},{silent:!0}),l.listenTo(this.model,"sync",function(e,i){i&&!i.errors&&i.sessionid&&(i.userid&&i.isNew&&(t.app.observer.broadcast("Track:UE:SignUp:Success",{userId:i.userid}),t.app.observer.broadcast("Track:UE:SignUp:SuccessComplete")),"function"==typeof t.successCallback?t.successCallback.call(t,t.model.url,i):window.location.reload())}),l.listenTo(this.model,"invalid",function(t,i){new c({title:"Login Error: "+i[0].error_code,message:i[0].error_message.replace("%s",e.app.makeUrl("contact_us"))}).show()})}var t=e.prototype;return t.setLang=function(e){this.lang=e||this.lang},t.setSuccessCallback=function(e){this.successCallback=e},t.setAccessCondition=function(e){this.accessCondition=e},t.injectFacebookScript=function(){var e=this;return new n.default(function(t){return"undefined"!=typeof FB?(e.listenToFacebookButton(),t()):(a.loadScript({id:"facebook-jssdk",async:!0,src:"//connect.facebook.net/"+o.facebook.getLocale(e.lang)+"/sdk.js"}),window.fbAsyncInit=function(){return FB.init({appId:o.facebook.appId,version:o.facebook.version,cookie:!0,logging:!1,status:!0}),e.listenToFacebookButton(),t()},null)})},t.listenToFacebookButton=function(){var e=this,t=document.getElementsByClassName("_social-facebook");"undefined"!=typeof FB&&t.length>0&&s.each(t,function(t){"string"!=typeof t.getAttribute("data-fb-init")&&t.addEventListener("click",e.executeFacebook.bind(e),!1),t.setAttribute("data-fb-init","")})},t.executeFacebook=function(){this.hasAccess()&&("undefined"==typeof FB?this.injectFacebookScript().then(this.executeFacebookLogin):this.executeFacebookLogin())},t.executeFacebookLogin=function(){var e=this;FB.login(function(t){t.authResponse&&t.authResponse.accessToken&&e.isFacebookEmailAllowed().then(function(i){var n=s.clone(t.authResponse);n.url="facebookLogin",i?e.proceedWithAuthorisation(n):e.socialFirstGetEmail(n)})},{scope:"email,publish_actions,public_profile,user_friends,user_hometown"})},t.socialFirstGetEmail=function(e){this.app.observer.fire("SignUp:SocialEmailShow",{data:e,callback:this.proceedWithAuthorisation.bind(this)})},t.isFacebookEmailAllowed=function(){return new n.default(function(e){try{FB.api(o.facebook.version+"//me/permissions",function(t){return t&&!t.error&&t.data&&t.data.forEach(function(t){return"email"===t.permission&&"granted"===t.status?e(!0):null}),e(!1)})}catch(t){return e(!1)}return null})},t.injectGoogleScript=function(){var e=this;return new n.default(function(t){return window.___gcfg={lang:o.google.getLocale(e.lang)},"undefined"!=typeof gapi?(e.listenToGoogleButton(),t()):(a.loadScript({async:!0,src:"https://apis.google.com/js/platform.js?onload=googleAsyncInit"}),window.googleAsyncInit=function(){return gapi.load("auth2",function(){window.gauth2=gapi.auth2.init({client_id:o.google.clientId,scope:"profile email"})}),e.listenToGoogleButton(),t()},null)})},t.listenToGoogleButton=function(){var e=this,t=document.getElementsByClassName("_social-google");"undefined"!=typeof gapi&&gapi.signin2&&t.length>0&&s.each(t,function(t){-1===t.id.search("google-login-")&&(t.id="google-login-"+Math.random(),t.addEventListener("click",function(){e.hasAccess()&&gauth2.grantOfflineAccess({redirect_uri:"postmessage"}).then(e.googleOnSuccess.bind(e))},!1))})},t.googleOnSuccess=function(e){this.proceedWithAuthorisation({url:"googleLogin",code:e.code})},t.proceedWithAuthorisation=function(e){this.model.url=e.url,this.model.set(e,{silent:!0}),this.model.fetch(),this.app.observer.fire("SignUp:SocialEmailHide")},t.socialLogout=function(e){this.model.url=e+"Logout",this.model.fetch()},t.hasAccess=function(){return!("function"==typeof this.accessCondition&&!this.accessCondition())},e}();e.exports=p}).call(this,i(5))},function(e,t,i){"use strict";e.exports=function(e){e.$button.insertAfter(e.$target),e.$target.val()||e.$button.hide(),e.$button.on({"mousedown.passwordSwitcher":function(t){t.preventDefault(),t.stopPropagation(),e.$target.attr("type","password"===e.$target.attr("type")?"text":"password"),e.$button.text(e.text["password"===e.$target.attr("type")?"show":"hide"])}}),e.$target.on({"input.passwordSwitcher":function(){e.$button.toggle(!!e.$target.val())}})}},function(e,t,i){"use strict";var n=i(0);e.exports={handleErrors:function(e){if(e){var t=this.getResponseErrors(e);n.size(t)&&(this.validationError=t,this.trigger("invalid",this,t,{validationError:t}))}},getResponseErrors:function(e){var t=this,i={};return e&&e.errors&&this.errorsMap?(n.each(e.errors,function(e){var n=t.errorsMap[e.error_code]||t.errorsMap.byDefault;i[n]||(i[n]=[]),i[n].push(e.error_code+":"+e.error_message)}),i):null}}},function(e,t,i){"use strict";var n=i(0),s=i(9),o=i(802),r=s.extend({getQueryParams:function(){return n.pick(this.attributes,n.keys(this.defaults))},parse:function(e){return this.handleErrors(e),{}}});n.extend(r.prototype,o),e.exports=r},function(e,t,i){"use strict";var n=i(803),s=i(132);e.exports=n.extend({url:"Signup",isHttps:!0,defaults:s.SignupUser.defaults,errorsMap:s.SignupUser.errorsMap,validation:s.SignupUser.validation})},function(e,t,i){"use strict";var n={};n.e=function(e,t){var i=document.createElement(e);return i.className=t,i},n.appendTo=function(e,t){return t.appendChild(e),e},n.css=function(e,t,i){return"object"==typeof t?function(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}(e,t):void 0===i?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}(e,t,i)},n.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},n.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},n.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return n.matches(e,t)})},e.exports=n},,,,function(e,t,i){"use strict";(function(t){var n=i(1)(i(131)),s=i(0),o=i(16),r=i(471),a=i(1463),l=i(1462),c=i(488),h=i(63),u=i(22).serializeForm,p=i(477),d=i(479),f=i(615),m=i(40),g=i(100).userErrors,b=r.extend({el:!1,events:{submit:"onSubmit",click:"onClick","focusin input":"onInputEvent","keypress input":"onInputEvent","focusout input":"onInputEvent","click .login-box__forgot-pwd":"onRecoveryClick","click ._enterprise-request":"onEnterpriseRequestClick"},mustRedirect:!1,initialize:function(){this.model=new a({enterprise:this.enterprise},{app:this.app}),this.app.requestBody&&this.app.requestBody.username&&this.app.requestBody.password&&(this.model=new a({enterprise:this.enterprise},{app:this.app}),this.model.save(this.app.requestBody)),this.listenTo(this.model,"invalid",this.showError),this.listenTo(this.model,"sync",function(e,i){this.mustRedirect=!!i.userid&&!t.browser})},serialize:function(){return{links:{login:this.app.makeUrl("login",{protocol:"https:",backURL:!0}),enterpriseLogin:this.app.makeUrl("enterprise/login",{protocol:"https:",backURL:!0}),enterpriseRequest:this.app.makeUrl("enterprise",{hash:"send-request"})},captcha:{show:this.isCaptchaNeeded(),siteKey:m.recaptcha.publicKey},errors:this.errors,fieldData:this.model.toJSON()}},clientAfterRender:function(){this.$submit=this.$el.find("._submit"),p(this.$el,o.$),d(this.$submit),this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length&&f.injectScript(this.$(".g-recaptcha")[0])},onSubmit:function(e){var t=this.$('input[name="username"]');e.preventDefault(),t.val(t.val().trim());var i=u(this.$("form"));!this.$(".g-recaptcha-response").length||i["g-recaptcha-response"]?this.auth(i):this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."})},onClick:function(e){e.stopPropagation()},onInputEvent:function(e){switch(e.type){case"keypress":13===(e.which||e.keyCode)&&this.onSubmit(e);break;case"focusout":e.currentTarget.value.length&&this.fieldCorrect(this.$(e.currentTarget).parent());break;case"focusin":this.fieldReset(this.$(e.currentTarget).parent())}},onRecoveryClick:function(e){e.preventDefault(),e.stopPropagation(),new l({enterprise:this.enterprise},{app:this.app}).show()},onEnterpriseRequestClick:function(){this.onEnterpriseRequestCallback()},auth:function(e){var t=this;this.$submit.trigger("loading"),this.model.save(e,{success:function(e,i){void 0!==i.userid?(h.set("10_es_login",Number(t.model.get("enterprise"))),t.onAuthCallback(i.userid),t.app.observer.broadcast("Track:UE:Login:Success")):f.reset(t.$(".g-recaptcha-response"))},error:function(){t.app.router.redirect(t.app.makeUrl("login",{backURL:!0}))}}),this.app.observer.broadcast("Track:UE:Login:FormSubmit",{route:this.app.router.routeName,valid:this.model.isValid()})},showError:function(e,i){var o=this;this.errors=i,t.browser&&(this.$submit.trigger("loaded"),s.each(this.$("input"),function(e){o.fieldReset(o.$(e).parent())}),this.fieldReset(this.$(".g-recaptcha-response").parent()),this.model.set("g-recaptcha-response",""),s.each(i,function(e,t){var i=(s.isArray(e)?s.first(e):e).split(":"),r=+i[0],a=i[1];s.contains((0,n.default)(g),r)&&f.injectScript(o.$(".g-recaptcha")[0]),r&&!a&&(a=r),o.fieldIncorrect(o.$("input[name="+t+"]").parent(),{errorMessage:a})}))},isCaptchaNeeded:function(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("loginAsUser")},onAuthCallback:s.noop,onEnterpriseRequestCallback:s.noop});s.extend(b.prototype,c),e.exports=b}).call(this,i(5))},function(e,t,i){"use strict";var n=i(126);e.exports=function(e,t,i){var s=!1,o=i.pinner||t("._pinner"),r=(i.pinnerTrigger||t("._pinner-trigger")).offset().top,a=function(e){if(void 0===i.mobile||i.mobile||!n.mobileMode()){var a=t(window).scrollTop();!s&&a>=r?(s=!0,o.height(o.height()).addClass(i.className),i.onPinned&&i.onPinned()):s&&a<r&&(s=!1,o.removeAttr("style").removeClass(i.className)),s&&!o.hasClass(i.className)?o.height(o.height()).addClass(i.className):!s&&o.hasClass(i.className)&&o.removeAttr("style").removeClass(i.className)}else s&&(s=!1,o.removeAttr("style").removeClass(i.className))};t(window).on({"scroll.pinner":a,"resize.pinner":a,"touchmove.pinner":a}),a()}},,function(e,t,i){"use strict";var n=i(0),s=i(48),o=i(747);e.exports=s.extend({url:"CreditCards",model:o,canCreateCard:!0,allCards:!1,initialize:function(e,t){this.allCards=!!t.allCards},getQueryParams:function(){return{allCards:this.allCards}},parse:function(e){var t=this,i=[];return e&&e.data&&(this.canCreateCard=e.data.canCreateCard,i=e.data.cards.map(function(e){return n.extend({},e,{number:o.prototype.getNumberLabel.call(t,e.number)})})),i},serializeToView:function(){return this.map(function(e){return e.serializeToView()})}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t='<div class="search-bar-wrapper"><div class="search-bar"><form class="search-bar__inner _search-form" action="'+e.searchLink+'"><div class="search-bar__params _params"><div class="search-bar__input-container search-bar-input"><div class="search-bar-input__input-box input-box-l"><input name="query" class="input search-bar-input__input-query input-l _input" type="text" value="'+unescape(e.query)+'" placeholder="'+e.placeholder+'" autocomplete="off" required /><a class="search-bar-input__button-reset button-reset _reset';return e.query.length||(t+=" search-bar-input__button-reset_hidden"),t+='"></a></div></div><div class="search-bar__search-images _search-images"></div><div class="search-bar__type-container search-bar-type _search-types"></div><div class="_search-hints"></div></div><div class="search-bar__control"><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-medium search-bar__desktop _submit"></button><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-custom search-bar__custom _submit"></button><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-large search-bar__large _submit"></button><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-mobile search-bar__mobile _submit"></button></div></form></div></div>'}},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(747),o=i(99);e.exports=o.extend({url:"Billing",defaults:{card:null,product:null,reBill:!1,firstName:"",lastName:"",phone:null,phoneCode:null,address:"",city:"",zip:null},validation:{firstName:{required:!0,msg:!0},lastName:{required:!0,msg:!0},phone:{required:!0,msg:!0},address:{required:!0,msg:!0},city:{required:!0,msg:!0},zip:{required:!0,minLength:0,maxLength:15,msg:!0}},relations:{card:s},getQueryParams:function(){return this.toJSON()},parse:function(e){return void 0===e&&(e={}),n.pick(e.data,n.keys(this.defaults))}})},function(e,t,i){"use strict";var n=i(0),s=i(475),o=i(604),r=i(687),a=i(1561);e.exports=s.extend({name:"PaymentFailure",template:a,events:n.extend({},s.prototype.events,{"click ._proceed":"onProceedClick"}),initialize:function(){var e=this;this.setView("._live-chat",new r({app:this.app,className:"link-blue",template:function(){return"<span>"+e.app.translator.tr("Live Chat")+"</span>"}}))},serialize:function(){return{credentials:this.app.user.get("firstName")?this.tr("Dear %s!",this.app.user.get("firstName")):this.tr("Dear user!"),supportPhone:o.getContactUsPhone(this.app)}},onProceedClick:function(){this.app.observer.broadcast("Track:UE:Billing:PaymentDecline",{action:"proceed"}),this.app.router.redirect(this.app.makeUrl("subscribe/billing",{query:{billing:"segpayeu",product:this.app.queryParams.product,id:this.app.queryParams.id}}))},onHideCallback:function(){this.app.observer.broadcast("Track:UE:Billing:PaymentDecline",{action:"exit"})}})},function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(0),o=i(797),r=i(747),a=i(40),l=s.range(1,13);e.exports=o.extend({name:"MerchantMultiCardManager",savedCards:[],useSaved:!0,useSavedState:!0,classNames:"",events:{"focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn",'focusin [name="expiryMonth"]':"onExpiryFocusIn",'focusin [name="expiryYear"]':"onExpiryFocusIn","mouseenter ._lock":"onLockMouseEnter","mouseleave ._lock":"onLockMouseLeave","mouseenter ._card-helper":"onCardHelperMouseEnter","mouseleave ._card-helper":"onCardHelperMouseLeave","input ._cardPan":"onCardPanInput","change ._expiryMonth":"onSelectChange","change ._expiryYear":"onSelectChange","input ._cvv":"onRegularFieldChange","change ._selected-card":"onSelectedCardChange","change ._use-saved-cards":"onUseSavedStateChange"},initialize:function(e){this.setCardModel(e),this.setInitPosition()},serialize:function(){return{attributes:(0,n.default)({},this.model.attributes),expiration:{months:l,years:this.model.getExpirationYears()},useSaved:this.useSaved,useSavedState:this.useSavedState,savedCards:{list:this.savedCards.serializeToView(),active:this.model.serializeToView()},classNames:this.classNames,captcha:{siteKey:a.recaptcha.publicKey}}},setInitPosition:function(){var e;e=this.model&&this.savedCards.get(this.model.get("id"))?this.savedCards.get(this.model.get("id")):this.savedCards.first(),this.setSavedModel(e)},setSavedModel:function(e){this.model.set((0,n.default)({},e.attributes)),this.render()},resetModel:function(){this.model.set(r.prototype.defaults)},onSelectedCardChange:function(e){var t=this.savedCards.get(e.currentTarget.value);this.setSavedModel(t),this.onCardSwitchCallback(t)},onUseSavedStateChange:function(e){this.useSavedState=e.currentTarget.checked,this.useSavedState?this.setSavedModel(this.savedCards.first()):this.resetModel(),this.render(),this.onUseSavedCards()},onCardSwitchCallback:function(){},onUseSavedCards:function(){}})},function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(471),o=i(11),r=i(1591);e.exports=s.extend({name:"BaseProduct",el:!1,serializeParams:{},originalEvents:{"mouseenter ._help":"showHelpTooltip","mouseleave ._help":"hideHelpTooltip","mouseenter ._info":"showInfoTooltip","mouseleave ._info":"hideInfoTooltip"},additionalEvents:{},countries:[],rebillInfo:void 0,userGroupInfo:void 0,showRebillDiscount:!0,initialize:function(){this.rebillInfo&&(0,n.default)(this,r)},events:function(){return(0,n.default)({},this.originalEvents,this.additionalEvents)},prepareRender:function(){this.rebillInfo&&this.initRebillProduct()},serialize:function(){var e=this.app.user.serialize(),t=(0,n.default)({},this.product);return(0,n.default)({},{user:e,product:t,showRebillDiscount:this.showRebillDiscount,needToShowHelpTooltip:this.needToShowHelpTooltip(),labels:{base:this.getBaseLabel(this.product),left:this.getLeftLabel(this.product),expires:this.getExpiresLabel(this.product),splitCount:this.getSplitCountLabel(this.product),renew:this.getRenewLabel(this.product),daysLeft:this.getDaysLeft(this.product),license:this.getLicenseLabel(this.product),licenseType:this.getLicenseTypeLabel(this.product)},content:this.getProductContent()},this.getAdditionalSerializeParams())},getAdditionalSerializeParams:function(){return this.serializeParams},getProductContent:function(){var e={type:this.product.type,title:this.getBaseLabel(this.product),info:[{key:"left",value:this.getLeftLabel(this.product)}],action:this.tr("Buy More")};return"subscription"===this.product.type&&e.info.push({key:"renew",value:this.getRenewLabel(this.product)}),"membership"!==this.product.type&&"subscription"!==this.product.type&&e.info.push({key:"expires",value:this.getExpiresLabel(this.product)}),"membership"===this.product.type?e.action=this.tr("Buy Downloads"):this.product.split_count>0&&e.info.push({key:"splitCount",value:this.getSplitCountLabel(this.product)}),e},getBaseLabel:function(e){return this.tr(e.baseLabel)},getLeftLabel:function(e){var t=o.productLeftLabels.find(function(t){return t.type===e.type}).label;return this.tr(t,e.left)},getSplitCountLabel:function(e){var t=o.productSplitCountLabels.find(function(t){return t.type===e.type});return t?this.tr(t.label):""},initRebillProduct:function(){},getExpiresLabel:function(){},getRenewLabel:function(){},getDaysLeft:function(){},getLicenseLabel:function(){},getLicenseTypeLabel:function(){},needToShowHelpTooltip:function(){},showHelpTooltip:function(){},hideHelpTooltip:function(){},showInfoTooltip:function(){},hideInfoTooltip:function(){}})},,function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){var t,i=0,n=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{(n=e._data(s,"events"))&&n.remove&&e(s).triggerHandler("remove")}catch(e){}t(i)}),e.widget=function(t,i,n){var s,o,r,a={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},s=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(r=new i).options=e.widget.extend({},r.options),e.each(n,function(t,n){e.isFunction(n)?a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function s(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}():a[t]=n}),o.prototype=e.widget.extend(r,{widgetEventPrefix:s&&r.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,o=n.call(arguments,1),r=0,a=o.length;r<a;r++)for(i in o[r])s=o[r][i],o[r].hasOwnProperty(i)&&void 0!==s&&(e.isPlainObject(s)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):t[i]=s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,a=n.call(arguments,1),l=this;return r?this.length||"instance"!==o?this.each(function(){var i,n=e.data(this,s);return"instance"===o?(l=n,!1):n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,s);t?(t.option(o||{}),t._init&&t._init()):e.data(this,s,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(s=r[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,s;for(i in t)s=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&s&&s.length&&(n=e(s.get()),this._removeClass(s,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function s(s,o){var r,a;for(a=0;a<s.length;a++)r=n.classesElementLookup[s[a]]||e(),r=t.add?e(e.unique(r.get().concat(t.element.get()))):e(r.not(t.element).get()),n.classesElementLookup[s[a]]=r,i.push(s[a]),o&&t.classes[s[a]]&&i.push(t.classes[s[a]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&s(t.keys.match(/\S+/g)||[],!0),t.extra&&s(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,s){-1!==e.inArray(t.target,s)&&(i.classesElementLookup[n]=e(s.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var s="string"==typeof e||null===e,o={extra:s?t:i,keys:s?e:t,element:s?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?s.on(c,h,a):i.on(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){var r;"string"==typeof s&&(s={effect:s});var a=s?!0===s||"number"==typeof s?i:s.effect||i:t;"number"==typeof(s=s||{})&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.widget})?n.apply(t,s):n)||(e.exports=o)},,,,,function(e,t,i){"use strict";var n=i(0),s=i(48);e.exports=s.extend({url:"SearchHints",initialize:function(e,t){t&&t.url&&(this.url=t.url)},parse:function(e,t){var i=this.getQueryParams?n.result(this,"getQueryParams").requestId:void 0;return t.requestId===i&&e.hints||[]},isBulkAllowed:function(){return!1}})},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(61),o=i(471),r=i(62),a=i(126);e.exports=o.extend({el:!1,type:"search",customWidth:!1,customCssClass:"",animationSpeed:{show:100,hide:100},delay:{show:200,hide:250},requestId:0,valuesSchema:{search:"value",seller:"phrase"},events:{"mousedown ._hint":"onHintAction","mousemove ._hint":"onHintAction"},globals:{"resize window":"onWindowResize","scroll window":"onWindowScroll"},initialize:function(){this.listenTo(this.collection,"reset",this.onCollectionReset),this.listenTo(r,{"Modal:HideAll":this.hide,"Responsive:CloseHints":this.hide})},serialize:function(){var e=this,t=(this.collection.getQueryParams?n.result(this.collection,"getQueryParams").query:"").replace(/\s+/g," "),i=t.length-(" "===t.charAt(t.length-1)?1:0),o=n.map(this.collection.toJSON(),function(t){return t.cutValue=t[e.valuesSchema[e.type]].substr(i),t});return{type:this.type,items:o,query:s(t)}},clientAfterRender:function(){this.place(),this.collection.length&&!this.opened&&(this.$el.appendTo(Backbone.$(".wrapper")).hide(),this.$el.fadeIn(this.animationSpeed.show)),this.$el.addClass(this.customCssClass),this.opened=!0},place:function(){if(this.anchor){var e=this.calculateStyles(this.anchor);if(e.width&&this.el.firstChild){var t=this.el;t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px")}}},load:function(e){e.length?(this.requestId++,this.collection.getQueryParams={query:e,lang:"en",requestId:this.requestId},this.collection.fetch({reset:!0,requestId:this.requestId})):this.reset()},onCollectionReset:function(){this.opened=!1;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this[this.collection.length?"show":"hide"](t)},onWindowResize:n.throttle(function(){this.place()},10),onWindowScroll:n.throttle(function(){t.browser&&a.mobileMode()&&this.hide()},10),show:function(e){var t=e[1];t.requestId&&t.requestId!==this.requestId||this.render()},hide:function(){var e=this;this.$el.fadeOut(this.animationSpeed.hide,function(){e.$el.remove()})},reset:function(){this.requestId=0,this.collection.reset([])},calculateStyles:function(e){return{top:e.getBoundingClientRect().top+Backbone.$(e).outerHeight()+(Backbone.$(window).scrollTop()-parseInt(window.getComputedStyle(e).borderBottomWidth,10)),left:e.getBoundingClientRect().left,width:this.customWidth?this.customWidth:e.clientWidth}},moveSelection:function(e){var t;if(this.collection.length){switch(e){case 1:t=this.getNextSelectedIndex();break;case-1:t=this.getPreviousSelectedIndex()}this.setSelected(t)}},setAnchor:function(e){this.anchor=e},setSelected:function(e){var t=this.getSelectedItem();t&&t.set({selected:!1});var i=this.collection.at(e);i&&i.set({selected:!0}),this.setSelectionClasses(e),this.onHintSelectCallback(this.getSelectedItemValue())},setSelectionClasses:function(e){this.$(".hint_active").removeClass("hint_active"),this.$("._hint").eq(e).addClass("hint_active")},onHintAction:function(e){var t=this.collection.indexOf(this.getItemByValue(Backbone.$(e.currentTarget).data("value")));this.setSelected(t),"mousedown"===e.type&&this.onHintMouseDownCallback(this.getSelectedItemValue())},getSelectedItemValue:function(){var e=this.getSelectedItem();return e?e.get(this.valuesSchema[this.type]):""},getItemByValue:function(e){var t={};return t[this.valuesSchema[this.type]]=e,this.collection.findWhere(t)},getNextSelectedIndex:function(){var e=this.getSelectedItemIndex();return(e=++e||0)>=this.collection.length&&(e=0),e},getPreviousSelectedIndex:function(){var e=this.getSelectedItemIndex();return(e=--e)<0&&(e=this.collection.length-1),e},getSelectedItem:function(){return this.collection.findWhere({selected:!0})},getSelectedItemIndex:function(){return this.collection.indexOf(this.getSelectedItem())},onHintSelectCallback:n.noop,onHintMouseDownCallback:n.noop})}).call(this,i(5))},function(e,t,i){"use strict";var n=i(0),s=i(812);e.exports=s.extend({url:"CreditCardsWithVat",vat:null,parse:function(e){if(e.errors)return{};var t=[];return e.data&&(n.isUndefined(e.data.vat)||(this.vat=e.data.vat,this.app.user.get("vatHelper").set({vat:this.vat})),e.data.cards&&(t=e.data.cards.slice())),t}})},function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(471),o=i(512),r=i(474),a=i(473),l=i(472),c=i(1565),h=i(1564);e.exports=o.extend({name:"VatForm",el:!1,template:c,editMode:!1,canClose:!1,events:(0,n.default)({},o.prototype.events,{"click ._link":"onLinkClick","click ._close":"onCloseClick","mouseenter ._help":"onHelpMouseEnter","mouseleave ._help":"onHelpMouseLeave"}),globals:{click:"onBodyClick"},initialize:function(){this.model=this.app.user.get("vatHelper"),this.model.set({number:this.app.user.get("vatNumber")}),this.listenTo(this.model,{invalid:this.handleModelInvalid,sync:this.handleModelSynch}),this.listenTo(this.app.user,"change:vatNumber",this.render)},serialize:function(){return{editMode:this.editMode,canClose:this.canClose,model:this.model.serialize(),linkLabel:this.defineLinkLabel()}},clientAfterRender:function(){this.enableTooltip()},submit:function(){var e=this;return this.app.user.isLoggedIn()?this.model.save().then(function(){return e.model.calculateByNumber()}):this.model.calculateByNumber()},toggleField:function(e){void 0===e&&(e=!this.editMode),this.editMode=!!e,this.render()},handleModelSynch:function(e,t){t.errors?new r({app:this.app,title:this.tr("VAT Number"),message:t.errors[0].error_message}).show():(this.app.user.set({vatNumber:this.model.get("number")}),this.toggleField(!1),this.onSuccessVatRedeem())},enableTooltip:function(){this.setNotExistView("helpTip",a,{params:l.VatNumberHelp,content:new s({el:!1,template:h})})},defineLinkLabel:function(){var e=this.app.user.get("vatNumber");return e?this.tr("VAT Number")+": "+e:this.tr('VAT Registration <span class="%s">(optional)</span>',"vat-form__link-opt")},onLinkClick:function(){this.toggleField(!0)},onCloseClick:function(e){e.stopPropagation(),this.toggleField(!1)},onBodyClick:function(e){!this.$el[0].contains(e.target)&&this.editMode&&this.toggleField(!1)},onHelpMouseEnter:function(e){this.getView("helpTip").show(e)},onHelpMouseLeave:function(){this.getView("helpTip").hide()},onSuccessVatRedeem:function(){}})},function(e,t,i){"use strict";(function(t){var n=i(16),s=i(471),o=i(688),r=i(1640),a=i(1637),l=i(1067),c=i(804),h=i(477),u=i(479),p=i(801),d=i(800),f=i(799),m=i(1619),g=i(1618);e.exports=s.extend({el:!1,mode:"default",isFullPage:!1,mustRedirect:!1,advantagesAnimation:!0,invalidClassName:"",events:{"click ._submit":"onSubmit","click ._sign-up-email":"onSignUpEmailClick","click ._back":"onBackClick"},initialize:function(e){this.model=new c({refUser:e.app.userSettings.get("refUser")},{app:this.app}),this.isFullPage&&(this.renderSignupForm(),this.app.requestBody&&this.app.requestBody.email&&this.app.requestBody.password&&this.model.save(this.app.requestBody)),this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncComplete,change:this.onModelChange})},serialize:function(){return{mode:this.mode,title:this.title||this.tr("Welcome!"),subTitle:this.subTitle,isFullPage:this.isFullPage,extendedCondition:this.app.features.isFeatureOnValue("Show Sign Up Condition")}},prepareRender:function(){this.isFullPage||this.renderSignupForm()},clientAfterRender:function(){this.isFullPage?(this.initForm(),this.initSocial()):"email"===this.mode?this.initForm():"social-email"!==this.mode&&this.initSocial()},initForm:function(){this.$submit=this.$("._submit"),this.$("._email-field").focus(),h(this.$el,n.$),u(this.$submit),p({$button:n.$('<i class="password-switcher">'+this.tr("Show")+"</i>"),$target:this.$("._password"),text:{show:this.tr("Show"),hide:this.tr("Hide")}})},initSocial:function(){var e=new d({app:this.app});e.setLang(this.app.lang),e.injectFacebookScript(),e.injectGoogleScript(),this.isFullPage&&e.setSuccessCallback(this.onUserLoggedInCallback),e.setAccessCondition(this.checkSocialAccess.bind(this))},checkSocialAccess:function(){var e=this.model.validate();return e&&this.getView("._condition").showErrors(this.model,e),this.model.get("membership_agreement")},renderSignupForm:function(){var e={"._advantages":new a({useLightStyle:!this.isFullPage,app:this.app,runAnimation:this.advantagesAnimation})};this.isFullPage||"email"===this.mode?e["._form"]=new o({app:this.app,template:this.isFullPage?f:m,model:this.model,liveValidation:!1,onAuthCallback:this.onAuthCallback}):"social-email"===this.mode?e["._form"]=new r({app:this.app,onSuccessCallback:this.onSuccessCallback}):e["._social"]=new s({el:!1,app:this.app,template:g}),"social-email"!==this.mode&&(e["._condition"]=new l({app:this.app,signUpModel:this.model,onErrorCallback:this.onError.bind(this)})),this.setViews(e)},onModelRequest:function(){t.browser&&this.$submit.trigger("loading")},onModelSyncComplete:function(e,i){t.browser&&this.$submit.trigger("loaded"),this.mustRedirect=this.isFullPage&&!!i.userid&&!t.browser},onModelChange:function(){this.$el.removeClass(this.invalidClassName)},onSubmit:function(e){e.preventDefault(),this.getView("._form").submit()},onSignUpEmailClick:function(){this.mode="email",this.advantagesAnimation=!1,this.render()},onBackClick:function(){this.mode="default",this.advantagesAnimation=!1,this.render()},onError:function(){this.$el.addClass(this.invalidClassName)},onAuthCallback:function(){},onUserLoggedInCallback:function(){},onSuccessCallback:function(){}})}).call(this,i(5))},function(e,t,i){var n,s,o;s=[i(101),i(1072),i(659),i(912)],void 0===(o="function"==typeof(n=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(s&&!o&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){"use strict";t.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(512),o=i(797),r=i(909),a=i(1584),l=i(747),c=i(654),h=i(1583);e.exports=s.extend({name:"MerchantForm",template:h,classNames:"",savedCards:[],useSaved:!1,initialize:function(e){var t=this;this.formId=e.formId||this.cid,this.model=e.model||new l({},{app:this.app}),this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncSuccess,invalid:this.onModelInvalid,error:this.onModelError}),this.setViews({"._merchant-card-manager":new(this.useSaved?r:o)({app:this.app,model:this.model,savedCards:this.savedCards,onModelChangeCallback:function(){return t.onCardChangeCallback.apply(t,arguments)}})})},serialize:function(){return{formId:this.formId,classNames:this.classNames}},prepareSubmit:function(){var e=this.getView("._merchant-card-manager");e&&(this.model.set({captcha:e.getCaptchaValue()}),e.resetErrors())},validate:function(){return this.getView("._merchant-card-manager").validate()},submit:function(e){var t=this;void 0===e&&(e=!0);var i=function(){t.onStartFormSubmit(),t.model.save({},{success:t.onSaveSuccess.bind(t)})};e?this.confirmSubmit().done(function(){return i()}):i()},confirmSubmit:function(){var e=new Backbone.$.Deferred;return this.setNotExistView("ConfirmationModal",a).show().then(function(){return e.resolve()}),e},markError:function(e,t){this.getView("._merchant-card-manager").markError(e,t)},onSaveSuccess:function(e,t){e.validationError||t.errors||this.onSuccessFormSubmit(e,t)},onModelRequest:function(){this.getView("._merchant-card-manager").resetCaptchaError()},onModelSyncSuccess:function(e,t){this.onFinishFormSubmit(),t.errors&&this.getView("._merchant-card-manager").resetCaptcha()},onModelInvalid:function(e,t){this.checkForExternalErrors(e,t)},onModelError:function(e,t){var i=c.parse(this.app,t.errors,{associate:!0});this.checkForExternalErrors(e,i)},checkForExternalErrors:function(e,t){var i=n.omit(t,n.keys(e.defaults));n.isEmpty(i)||this.onModelExternalError(i)},onCardChangeCallback:function(){},onModelExternalError:function(){},onStartFormSubmit:function(){},onFinishFormSubmit:function(){},onSuccessFormSubmit:function(){}})},function(e,t,i){"use strict";var n=i(9);e.exports=n.extend({url:"Rebill",isHttps:!0,defaults:{cardId:null,productId:null,productType:null,rebillState:null},validation:{cardId:{required:!1,pattern:"number"},productId:{required:!0,pattern:"number"},productType:{required:!0},rebillState:{required:!0,boolean:!0}}})},function(e,t,i){"use strict";var n=i(471),s=i(1590);e.exports=n.extend({name:"Card",el:!1,template:s,mode:"view",size:"medium",initialize:function(){this.listenTo(this.model,"change",this.render)},serialize:function(){return{labels:this.model.serializeToView(),classes:this.createCardClasses(),numberLength:this.model.prepareNumberForSet(this.model.get("number")).length}},createCardClasses:function(){var e=this.model.getType(),t="card-box_size-"+this.size[0].toLowerCase();return"edit"===this.mode&&(t+=" card-box_edit"),""!==e&&(t+=" card-box_type-"+e.replace(/_/g,"-")),t}})},,,,function(e,t,i){"use strict";var n=i(1),s=n(i(10)),o=n(i(494)),r=i(474),a=i(127),l=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=i.tr("Promotion Code"),i.message=t.message||"",i.footer=[{label:a.OkBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return i.def.resolve((0,o.default)(i))}}],i}return(0,s.default)(t,e),t}(r);e.exports=l},function(e,t,i){"use strict";var n=i(0),s=i(9);e.exports=s.extend({url:"Promocode",defaults:{code:""},validation:{code:{required:!0,msg:!0,maxLength:18}},getQueryParams:function(){return this.toJSON()},parse:function(e){return e.errors&&n.size(e.errors)&&(this.validationError=e.errors,this.trigger("invalid",this,this.prepareError(e.errors))),{}},prepareError:function(e){return n.map(e,function(e){return{code:e.error_message}})}})},function(e,t,i){"use strict";var n=i(64);e.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=n(t),this.reject=n(i)}(e)}},function(e,t,i){"use strict";(function(e){var t=i(0),n=i(9),s=i(6)(e);e.exports.sendRequest=function(e){return e.url?(this.model=new n,this.model.url=e.url,e=t.extend({method:"update",getQueryParams:{},success:t.noop},e),this.model.sync(e.method,this.model,e)):(s.error("Request url is missed"),!1)}}).call(this,i(3)(e))},function(e,t,i){"use strict";(function(e){t.initDragNDrop=function(){return e.browser?{darg:i(651),drop:i(1069)}:{}},t.initSortable=function(){return e.browser?{sortable:i(1649)}:{}}}).call(this,i(5))},,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t='<footer class="footer-enterprise"><div class="footer-enterprise__container"><div class="footer-enterprise__columns"><div class="footer-enterprise__column"><div class="footer-enterprise__part-title">'+this.tr("Site Language")+'</div><span class="footer-enterprise__link footer-enterprise__langs arrow-selector _langs"><i class="footer-enterprise__langs-icon icon icon-flag-'+e.activeLang+'"></i>'+e.activeLangName+'<i class="footer-enterprise__langs-arrow arrow arrow-gray-dark arrow-bottom"></i></span><a href="'+this.app.makeUrl("bbb")+'" class="footer-enterprise__link-bbb cmp-bbb-enterprise" rel="nofollow" target="_blank" title="'+this.tr("Depositphotos Inc. BBB Business Review")+'"></a>';return e.showTruste&&(t+='<a href="'+e.trusteUrl+'" class="footer-enterprise__link-truste cmp-truste-enterprise" rel="nofollow" target="_blank" title="'+this.tr("TRUSTe online privacy certification")+'"></a>'),t+='</div><div class="footer-enterprise__column"><div class="footer-enterprise__part-title">'+this.tr("Contact & Support")+'</div><ul class="footer__list"><li><a class="footer-enterprise__phone footer__phone_link" href="tel:'+e.phoneNumber+'"><i class="footer-enterprise__icon-phone icon icon-phone-small"></i>'+e.phoneNumber+'</a></li><li><span class="footer-enterprise__link footer-enterprise__link-livechat _livechat"></span></li><li><a class="footer-enterprise__link cmp-contact-us" href="'+this.app.makeUrl("contact_us")+'"><i class="cmp-contact-us__icon"></i>'+this.tr("Contact Us")+'</a></li><li><a class="footer-enterprise__link footer-enterprise__link_last cmp-feedback _feedback"><i class="cmp-feedback__icon"></i>'+this.tr("Give Feedback")+'</a></li></ul></div></div><i class="footer-enterprise__logo"></i><i class="footer-enterprise__sep"></i><div class="footer-enterprise__copy"><p class="footer-enterprise__copy-text">'+this.tr("&copy; 2009-%s. Depositphotos, Inc. USA. All Rights Reserved.",(new Date).getFullYear())+"</p></div></div></footer>"}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(127);e.exports=s.extend({el:!1,template:i(1487),initialize:function(){this.errorMessages=[],this.listenTo(this.model,"invalid",this.setErrorMessages)},setErrorMessages:function(e,t){this.errorMessages=[],n.isArray(t)?this.errorMessages=t:t&&("ErrorMinWidth"!==t.width&&"ErrorMinHeight"!==t.height||this.errorMessages.push(this.tr(o.ErrorMinResolution,this.model.limits.minResolution)),"ErrorMaxWidth"!==t.width&&"ErrorMaxHeight"!==t.height||this.errorMessages.push(this.tr(o.ErrorMaxResolution,this.model.limits.maxResolution)),n.each(n.omit(t,["width","height"]),function(e,t){this.errorMessages.push(this.tr(o[e],this.model.limits[t]))},this)),this.render()},serialize:function(){return{errorMessages:this.errorMessages}}})},function(e,t,i){"use strict";var n=i(471);e.exports=n.extend({name:"ShoppingCartIndicator",el:!1,template:i(1497),initialize:function(){this.model=this.app.store.get("CartIndicator"),this.listenTo(this.model,"change:count",this.render)},serialize:function(){return{count:this.model.get("count"),cartLink:this.app.makeUrl("cart")}}})},function(e,t,i){"use strict";var n=i(471),s=i(530),o=i(1503);e.exports=n.extend({el:!1,template:o,events:{"click ._link":"onLinkClick"},serialize:function(){var e=s.applyLangSeoParams({key:"it",query:{checkpopup:1}},this.app),t=Math.ceil(e.filter(function(e){return e.active}).length/2);return{activeLang:this.app.lang,locales:[e.slice(0,t),e.slice(t)]}},onLinkClick:function(e){e.preventDefault(),this.app.observer.broadcast("Track:UE:Language:Change"),this.app.router.redirect(e.currentTarget.href)}})},function(e,t){e.exports=function(e){var t='<div class="mobile-menu-box"><ul class="mobile-menu mobile-menu_icons hidden _mobile-menu-top">';return e.showEarnedMoney&&(t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.requestEarnings+'"><i class="mobile-menu__icon icon icon-earned-money icon-earned-money-white"></i><span class="mobile-menu__text">'+this.tr("Earned Money")+": $"+e.user.balance+"</span></a></li>"),e.isEnterprise||(t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.subscribe+'"><i class="mobile-menu__icon icon icon-dollar icon-dollar-white"></i><span class="mobile-menu__text">'+this.tr("Our Plans &amp; Prices")+"</span></a></li>"),t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.stockPhotography+'"><i class="mobile-menu__icon icon icon-photo icon-photo-white"></i><span class="mobile-menu__text">'+this.tr("Photos")+'</span></a></li><li><a class="mobile-menu__link" href="'+e.menuLinks.stockVectors+'"><i class="mobile-menu__icon icon icon-vector icon-vector-white"></i><span class="mobile-menu__text">'+this.tr("Vectors")+'</span></a></li><li><a class="mobile-menu__link" href="'+e.menuLinks.editorialPhotography+'"><i class="mobile-menu__icon icon icon-editorial icon-editorial-white"></i><span class="mobile-menu__text">'+this.tr("Editorial")+'</span></a></li><li><a class="mobile-menu__link" href="'+e.menuLinks.stockVideos+'"><i class="mobile-menu__icon icon icon-video icon-video-white"></i><span class="mobile-menu__text">'+this.tr("Videos")+"</span></a></li></ul>",e.user.id?(t+='<ul class="mobile-menu mobile-menu_right hidden _mobile-menu-user">',e.user.accountSwitcher&&(t+='<li><a class="mobile-menu__link _user-switch-account" ><span class="mobile-menu__text">',e.user.enterprise?t+=""+this.tr("Switch to Regular Site"):t+=""+this.tr("Switch to Enterprise"),t+="</span></a></li> "),"approved"===e.user.examinationStatus&&(t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.sellerPrice+'"><span class="mobile-menu__text">'+this.tr("Contribute Program")+"</span></a></li>"),e.isEnterprise||(t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.subscribe+'"><span class="mobile-menu__text">'+this.tr("Plans & Prices")+"</span></a></li>"),t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.purchased+'"><span class="mobile-menu__text">'+this.tr("Downloaded Files")+'</span></a></li><li><a class="mobile-menu__link" href="'+e.menuLinks.invoices+'"><span class="mobile-menu__text">'+this.tr("Invoices")+'</span></a></li><li><a class="mobile-menu__link" href="'+e.menuLinks.profile+'"><span class="mobile-menu__text">'+this.tr("My Profile")+'</span></a></li><li><a class="mobile-menu__link _user-logout" href="'+e.menuLinks.logout+'"><span class="mobile-menu__text">'+this.tr("Sign Out")+" "+e.user.username+"</span></a></li></ul>"):(t+='<ul class="mobile-menu mobile-menu_right hidden _mobile-menu-user"><li><a class="mobile-menu__link" href="'+e.menuLinks.login+'"><span class="mobile-menu__text">'+this.tr("Sign In")+"</span></a></li>",e.headerWithoutSignUpButton||(t+='<li><a class="mobile-menu__link" href="'+e.menuLinks.signup+'"><span class="mobile-menu__text">'+this.tr("Register an Account")+"</span></a></li>"),t+="</ul>"),t+="</div>"}},,,,,,function(e,t,i){"use strict";var n=i(2),s=i(471),o=i(473),r=i(472),a=i(129),l=i(1574);e.exports=o.extend({name:"ProductRebillDiscountTooltip",params:r.RebillProductDiscount,prepareContent:function(){var e=this;this.content=new s({template:l,serialize:function(){return{product:e.model.serialize(),expiresDate:n.unix(e.model.get("expires")).format(a.statisticsDays)}}})}})},function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(471),r=i(584),a=i(147),l=i(22),c=i(477),h=i(479),u=i(488),p=i(654),d=o.extend({name:"BillingAddressEditor",el:!1,template:i(1577),countries:[],togglingMethod:"slide",togglingInProgress:!1,opened:!1,events:{"change [data-capitalize]":"onCapitalizeEvent","keyup [data-capitalize]":"onCapitalizeEvent","input [data-capitalize]":"onCapitalizeEvent","paste [data-capitalize]":"onCapitalizeEvent","click ._close-btn":"onCloseClick","focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn","submit ._form":"onSubmit"},initialize:function(){this.listenTo(this.app.user,"invalid",this.showErrors),this.setViews({"._phone":new r({app:this.app,phone:this.app.user.get("phone")})})},serialize:function(){var e=(this.userGroupInfo?this.userGroupInfo:this.app.user).toProfileJSON(),t=this.countries.length&&this.countries.findWhere({code:e.country}).serialize();return{countries:n.isFunction(this.countries.serialize)?this.countries.serialize():[],userCountry:(t||{}).title,userInfo:n.extend({fullName:e.firstName||e.lastName?e.firstName+"&nbsp;"+e.lastName:e.fullName},e)}},clientAfterRender:function(){c(this.$el,s.$),h(this.$('[type="submit"]'))},toggle:function(e){var t=this,i=new s.$.Deferred,n=null!=e?e:!this.opened;if(n&&this.render().promise().done(function(){var e=function(){t.togglingInProgress=!1,t.opened=!0,i.resolve(),t.onOpenCallback()};"slide"===t.togglingMethod?(t.togglingInProgress=!0,t.$("._form").css({marginTop:"-500px"}).animate({marginTop:0},800,function(){return e()})):e()}),!n){var o=function(){t.togglingInProgress=!1,t.opened=!1,i.resolve(),t.onCloseCallback()};"slide"===this.togglingMethod?(this.togglingInProgress=!0,this.$("._form").stop().animate({marginTop:"-500px"},800,function(){return o()})):(this.$el.remove(),o())}return i},showErrors:function(e,t){var i=this;n.each(this.$("label:not(.field-box_correct) input"),function(e){return i.fieldReset(i.$(e).parent())}),n.each(p.filterOwn(t,n.keys(e.defaults)),function(e,t){return i.fieldIncorrect(i.$("[name="+t+"]").parent(),{errorMessage:e})})},handleErrors:function(e,t){var i={};n.each(t.errors,function(e){var t=a[e.error_code]||a.byDefault;void 0===i[t]&&(i[t]=[]),i[t].push(e.error_message)}),this.showErrors(e,i)},onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=l.serializeForm(this.$el.find("._form"));t=l.escapeList(t),this.$('[type="submit"]').trigger("loading"),this.app.user.save(t,{parse:!1,success:this.onFormSaveSuccess.bind(this)})},onFormSaveSuccess:function(e,t){this.$('[type="submit"]').trigger("loaded"),t.errors?(this.handleErrors(e,t),this.onSaveErrorCallback()):this.onSaveSuccessCallback()},onFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},onCloseClick:function(){this.toggle(!1)},onOpenCallback:n.noop,onCloseCallback:n.noop,onSaveSuccessCallback:n.noop,onSaveErrorCallback:n.noop});n.extend(d.prototype,u),e.exports=d},function(e,t,i){"use strict";var n=i(16),s=i(1056);e.exports={showAddressEditor:function(){var e=this,t=new n.$.Deferred;return this.setNotExistView("._billing-address-editor",s,{app:this.app,togglingMethod:"simple",countries:this.countries,userGroupInfo:this.userGroupInfo,onCloseCallback:function(){return e.$("._inner").toggle(!0)},onSaveSuccessCallback:this.onBillingAddressEditorSave.bind(this)}),this.toggleBillingAddressEditor(!0).then(function(){return t.resolve()}),t},toggleBillingAddressEditor:function(e){return this.$("._inner").toggle(!e),this.getView("._billing-address-editor").toggle(e)}}},function(e,t,i){"use strict";var n=i(0),s=[{code:"default",field:"global",message:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.translator.tr("Error: %s (%s).",i)+" "+e.translator.tr('Please contact our <a href="%s" class="%s">support service</a> or your card issuer.',[e.makeUrl("contact_us"),"link-blue"])}},{code:"014",errors:[{field:"pan"}]},{code:"041",errors:[{field:"global",message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},{code:"043",errors:[{field:"global",message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},{code:"051",errors:[{field:"global",message:function(e){return e.translator.tr("The card has insufficient funds. Please use a different card or contact your card issuer.")}}]},{code:"054",errors:[{field:"global",message:function(e){return e.translator.tr("The card is expired. Please use a different card or contact your card issuer.")}}]},{code:"057",errors:[{field:"global",message:function(e){return e.translator.tr("It is possible that your online payment option is disabled. Please check with your card issuer to solve the problem.")}}]},{code:"061",errors:[{field:"global",message:function(e){return e.translator.tr("Exceeds withdrawal amount limit")}}]},{code:"063",errors:[{field:"global",message:function(e){return e.translator.tr("Security violation")}}]},{code:"065",errors:[{field:"global",message:function(e){return e.translator.tr("Activity count limit for card exceeded. Please contact your card issuer.")}}]},{code:"093",errors:[{field:"global"}]},{code:"100",errors:[{validationCode:"01",field:"pan",message:function(e){return e.translator.tr("Invalid Credit Card Number")}},{validationCode:"02",field:"cvv",message:function(e){return e.translator.tr("Invalid Security Code")}},{validationCode:"03",field:"expiryMonth",message:function(e){return e.translator.tr("Please check the Expiration Date")}},{validationCode:"04",field:"expiryYear",message:function(e){return e.translator.tr("Please check the Expiration Date")}}]},{code:"105",errors:[{field:"address",message:function(e){return e.translator.tr("Please check Street Address")}}]},{code:"106",errors:[{field:"zip",message:function(e){return e.translator.tr("Invalid Zip/Postal Code")}}]},{code:"114",errors:[{field:"zip",message:function(e){return e.translator.tr("Please check Zip/Postal Code")}},{field:"address",message:function(e){return e.translator.tr("Please check Street Address")}},{field:"expiryMonth",message:function(e){return e.translator.tr("Please check the Expiration Date")}}]},{code:"115",errors:[{field:"pan",message:function(e){return e.translator.tr("Invalid Credit Card Number")}}]},{code:"117",errors:[{field:"pan"}]},{code:"118",errors:[{field:"global",message:function(e){return e.translator.tr("Currency Type Not Accepted")}}]},{code:"129",errors:[{field:"expiryMonth"}]},{code:"140",errors:[{field:"expiryMonth"}]},{code:"141",errors:[{field:"expiryMonth"}]},{code:"991",errors:[{field:"global",message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},{code:"992",errors:[{field:"global",message:function(e){return e.translator.tr('Your IP blocked. Please contact our <a href="%s" class="%s">support service</a> \n\t\t\t\t\tto resolve this problem.',[e.makeUrl("contact_us"),"link-blue"])}}]},{code:"63002",errors:[{field:"pan"}]},{code:"0N7",errors:[{field:"cvv",message:function(e){return e.translator.tr("Invalid Security Code")}}]},{code:"100111",errors:[{field:"global"}]}];e.exports.get=function(e){return n(s).findWhere({code:e})}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1020),r=i(747),a=i(1018),l=i(654),c=i(477),h=i(479),u=i(1057),p=i(1576),d=s.extend({name:"CardEditor",el:!1,template:p,opened:!1,countries:[],userGroupInfo:void 0,savedCards:[],events:{"click ._close":"onCloseClick","click ._submit":"onSubmitClick"},initialize:function(){this.model||(this.model=new r({},{app:this.app})),this.virtual=new r(this.model.serialize(),{app:this.app})},prepareRender:function(){var e=this.getMerchantForm();this.setViews({"._card":new o({app:this.app,model:this.virtual,mode:"edit",size:"large"}),"._form":[new s({tagName:"i",className:"card-editor__sep"}),e]})},getMerchantForm:function(){return new a({app:this.app,classNames:"merchant-form_compact",model:new r({id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")},{app:this.app}),useSaved:this.savedCards.length,savedCards:this.savedCards,formId:this.cid,onStartFormSubmit:this.onStartMerchantSubmit.bind(this),onFinishFormSubmit:this.onFinishMerchantSubmit.bind(this),onSuccessFormSubmit:this.onSuccessMerchantSubmit.bind(this),onModelChangeCallback:this.onMerchantModelChangeCallback.bind(this),onModelExternalError:this.onMerchantExternalError.bind(this)})},serialize:function(){return{formId:this.cid}},clientAfterRender:function(){c(this.$el,Backbone.$),h(this.$("._submit"))},onCloseClick:function(){this.close()},onSubmitClick:function(e){e.preventDefault(),this.submitMerchantForm()},open:function(){var e=this;return this.def=new Backbone.$.Deferred,this.isOpened()?this.$el.stop().show().animate({marginTop:0},600,function(){return e.def.resolve()}):this.render().promise().done(function(){e.$el.show().animate({marginTop:0},600,function(){e.def.resolve(),e.onFinishOpeningAnimation()})}),this.opened=!0,this.def},close:function(){var e=this;this.def=new Backbone.$.Deferred;var t=function(){e.$el.stop().animate({marginTop:"-"+e.$el.outerHeight()},600,function(){e.opened=!1,e.def.resolve(),e.onClose(),e.remove()})};return this.getView("._billing-address-editor")?this.getView("._billing-address-editor").toggle(!1).done(function(){return t()}):t(),this.def},markMerchantFormError:function(e){this.findView("MerchantForm").markError(null,e)},isOpened:function(){return this.opened},submitMerchantForm:function(){this.findView("MerchantForm").$el.trigger("submit")},onFinishOpeningAnimation:function(){var e=this.$el.offset().top-(document.documentElement.clientHeight-this.$el.height())/2;Backbone.$("html, body").animate({scrollTop:e+"px"},600)},onStartMerchantSubmit:function(){this.$("._submit").trigger("loading")},onFinishMerchantSubmit:function(){this.$("._submit").trigger("loaded")},onSuccessMerchantSubmit:function(e,t){var i=this;this.close().then(function(){return i.onCardEditSuccess(e,t)})},onMerchantModelChangeCallback:function(e){this.virtual.set({pan:e.get("pan"),number:e.get("number")&&e.get("number").length?e.get("number"):this.model.get("number"),expiryMonth:e.get("expiryMonth"),expiryYear:e.get("expiryYear"),cvv:e.get("cvv")&&e.get("cvv").length?e.get("cvv"):this.model.defaults.cvv})},onMerchantExternalError:function(e){var t=this;void 0===e&&(e={}),n.isEmpty(e)||n.size(l.filterOwn(e,n.keys(this.app.user)))&&this.showAddressEditor().then(function(){return t.getView("._billing-address-editor").showErrors(t.app.user,e)})},onBillingAddressEditorSave:function(){this.getView("._billing-address-editor").toggle(!1)},onCardEditSuccess:n.noop,onClose:n.noop});n.extend(d.prototype,u),e.exports=d},function(e,t,i){"use strict";var n=i(471);e.exports=n.extend({name:"EarnedMoney",el:!1,template:i(1594),balance:0,serialize:function(){return{balance:this.balance.toFixed(2)}}})},function(e){e.exports=[{mobile_begin_with:["3","4","6"],phone_number_lengths:[6],country_code:"AD",country_name:"Andorra",phoneCode:"376"},{mobile_begin_with:["5"],phone_number_lengths:[9],country_code:"AE",country_name:"United Arab Emirates",phoneCode:"971"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"AF",country_name:"Afghanistan",phoneCode:"93"},{mobile_begin_with:["2687"],phone_number_lengths:[10],country_code:"AG",country_name:"Antigua and Barbuda",phoneCode:"1268"},{mobile_begin_with:["2645","2647"],phone_number_lengths:[10],country_code:"AI",country_name:"Anguilla",phoneCode:"1264"},{mobile_begin_with:["6"],phone_number_lengths:[9],country_code:"AL",country_name:"Albania",phoneCode:"355"},{mobile_begin_with:["4","5","7","9"],phone_number_lengths:[8],country_code:"AM",country_name:"Armenia",phoneCode:"374"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"AO",country_name:"Angola",phoneCode:"244"},{mobile_begin_with:[],phone_number_lengths:[6,7,8,9],country_code:"AR",country_name:"Argentina",phoneCode:"54"},{mobile_begin_with:["684733","684258"],phone_number_lengths:[10],country_code:"AS",country_name:"American Samoa",phoneCode:"1684"},{mobile_begin_with:["6"],phone_number_lengths:[10,11,12,13,14],country_code:"AT",country_name:"Austria",phoneCode:"43"},{mobile_begin_with:["4"],phone_number_lengths:[9],country_code:"AU",country_name:"Australia",phoneCode:"61"},{mobile_begin_with:["5","6","7","9"],phone_number_lengths:[7],country_code:"AW",country_name:"Aruba",phoneCode:"297"},{mobile_begin_with:["18"],phone_number_lengths:[6,7,8],country_code:"AX",country_name:"Aland Islands",phoneCode:"358"},{mobile_begin_with:["4","5","6","7"],phone_number_lengths:[9],country_code:"AZ",country_name:"Azerbaijan",phoneCode:"994"},{mobile_begin_with:["6"],phone_number_lengths:[8],country_code:"BA",country_name:"Bosnia and Herzegovina",phoneCode:"387"},{mobile_begin_with:[246],phone_number_lengths:[10],country_code:"BB",country_name:"Barbados",phoneCode:"1246"},{mobile_begin_with:["1"],phone_number_lengths:[8,9,10],country_code:"BD",country_name:"Bangladesh",phoneCode:"880"},{mobile_begin_with:["4"],phone_number_lengths:[9],country_code:"BE",country_name:"Belgium",phoneCode:"32"},{mobile_begin_with:["6","7"],phone_number_lengths:[8],country_code:"BF",country_name:"Burkina Faso",phoneCode:"226"},{mobile_begin_with:["87","88","89","98","99","43"],phone_number_lengths:[8,9],country_code:"BG",country_name:"Bulgaria",phoneCode:"359"},{mobile_begin_with:["3"],phone_number_lengths:[8],country_code:"BH",country_name:"Bahrain",phoneCode:"973"},{mobile_begin_with:["7","29"],phone_number_lengths:[8],country_code:"BI",country_name:"Burundi",phoneCode:"257"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"BJ",country_name:"Benin",phoneCode:"229"},{mobile_begin_with:["4413","4415","4417"],phone_number_lengths:[10],country_code:"BM",country_name:"Bermuda",phoneCode:"1441"},{mobile_begin_with:["7","8"],phone_number_lengths:[7],country_code:"BN",country_name:"Brunei Darussalam",phoneCode:"673"},{mobile_begin_with:["7"],phone_number_lengths:[8],country_code:"BO",country_name:"Bolivia",phoneCode:"591"},{mobile_begin_with:["119","129","139","149","159","169","179","189","199","219","229","249","279","289","31","32","34","38","41","43","44","45","47","48","51","53","54","55","61","62","65","67","68","69","71","73","75","77","79","81","82","83","84","85","86","91","92","95","96","98"],phone_number_lengths:[10,11],country_code:"BR",country_name:"Brazil",phoneCode:"55"},{mobile_begin_with:["242"],phone_number_lengths:[10],country_code:"BS",country_name:"Bahamas",phoneCode:"1242"},{mobile_begin_with:["17"],phone_number_lengths:[8],country_code:"BT",country_name:"Bhutan",phoneCode:"975"},{mobile_begin_with:["71","72","73","74","75","76"],phone_number_lengths:[8],country_code:"BW",country_name:"Botswana",phoneCode:"267"},{mobile_begin_with:["25","29","33","44"],phone_number_lengths:[9],country_code:"BY",country_name:"Belarus",phoneCode:"375"},{mobile_begin_with:["6"],phone_number_lengths:[7],country_code:"BZ",country_name:"Belize",phoneCode:"501"},{mobile_begin_with:["204","226","236","249","250","289","306","343","365","403","416","418","431","437","438","450","506","514","519","579","581","587","600","604","613","639","647","705","709","778","780","807","819","867","873","902","905"],phone_number_lengths:[10],country_code:"CA",country_name:"Canada",phoneCode:"1"},{mobile_begin_with:["8","9"],phone_number_lengths:[9],country_code:"CD",country_name:"Congo",phoneCode:"243"},{mobile_begin_with:["7"],phone_number_lengths:[8],country_code:"CF",country_name:"Central African Republic",phoneCode:"236"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"CH",country_name:"Switzerland",phoneCode:"41"},{mobile_begin_with:["0","4","5","6"],phone_number_lengths:[8],country_code:"CI",country_name:"Cote D'Ivoire",phoneCode:"225"},{mobile_begin_with:["5","7"],phone_number_lengths:[5],country_code:"CK",country_name:"Cook Islands",phoneCode:"682"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"CL",country_name:"Chile",phoneCode:"56"},{mobile_begin_with:["7","9"],phone_number_lengths:[8],country_code:"CM",country_name:"Cameroon",phoneCode:"237"},{mobile_begin_with:["13","14","15","17","18"],phone_number_lengths:[11],country_code:"CN",country_name:"China",phoneCode:"86"},{mobile_begin_with:["3"],phone_number_lengths:[10],country_code:"CO",country_name:"Colombia",phoneCode:"57"},{mobile_begin_with:["5","6","7","8"],phone_number_lengths:[8],country_code:"CR",country_name:"Costa Rica",phoneCode:"506"},{mobile_begin_with:["5"],phone_number_lengths:[8],country_code:"CU",country_name:"Cuba",phoneCode:"53"},{mobile_begin_with:["5","9"],phone_number_lengths:[7],country_code:"CV",country_name:"Cape Verde",phoneCode:"238"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"CY",country_name:"Cyprus",phoneCode:"357"},{mobile_begin_with:["6","7"],phone_number_lengths:[9],country_code:"CZ",country_name:"Czech Republic",phoneCode:"420"},{mobile_begin_with:["15","16","17"],phone_number_lengths:[10,11],country_code:"DE",country_name:"Germany",phoneCode:"49"},{mobile_begin_with:["77"],phone_number_lengths:[8],country_code:"DJ",country_name:"Djibouti",phoneCode:"253"},{mobile_begin_with:["2","30","31","40","41","42","50","51","52","53","60","61","71","81","91","92","93"],phone_number_lengths:[8],country_code:"DK",country_name:"Denmark",phoneCode:"45"},{mobile_begin_with:["767"],phone_number_lengths:[10],country_code:"DM",country_name:"Dominica",phoneCode:"1767"},{mobile_begin_with:["809","829","849"],phone_number_lengths:[10],country_code:"DO",country_name:"Dominican Republic",phoneCode:"1"},{mobile_begin_with:["5","6","7"],phone_number_lengths:[9],country_code:"DZ",country_name:"Algeria",phoneCode:"213"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"EC",country_name:"Ecuador",phoneCode:"593"},{mobile_begin_with:["5"],phone_number_lengths:[8],country_code:"EE",country_name:"Estonia",phoneCode:"372"},{mobile_begin_with:["1"],phone_number_lengths:[10],country_code:"EG",country_name:"Egypt",phoneCode:"20"},{mobile_begin_with:["1","7","8"],phone_number_lengths:[7],country_code:"ER",country_name:"Eritrea",phoneCode:"291"},{mobile_begin_with:["6","7"],phone_number_lengths:[9],country_code:"ES",country_name:"Spain",phoneCode:"34"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"ET",country_name:"Ethiopia",phoneCode:"251"},{mobile_begin_with:["4","5"],phone_number_lengths:[9],country_code:"FI",country_name:"Finland",phoneCode:"358"},{mobile_begin_with:["7","9"],phone_number_lengths:[7],country_code:"FJ",country_name:"Fiji",phoneCode:"679"},{mobile_begin_with:["5","6"],phone_number_lengths:[5],country_code:"FK",country_name:"Falkland Islands (Malvinas)",phoneCode:"500"},{mobile_begin_with:[],phone_number_lengths:[7],country_code:"FM",country_name:"Micronesia",phoneCode:"691"},{mobile_begin_with:[],phone_number_lengths:[6],country_code:"FO",country_name:"Faroe Islands",phoneCode:"298"},{mobile_begin_with:["6","7"],phone_number_lengths:[9],country_code:"FR",country_name:"France",phoneCode:"33"},{mobile_begin_with:["05","06","07"],phone_number_lengths:[8],country_code:"GA",country_name:"Gabon",phoneCode:"241"},{mobile_begin_with:["7"],phone_number_lengths:[10],country_code:"GB",country_name:"United Kingdom",phoneCode:"44"},{mobile_begin_with:["473"],phone_number_lengths:[10],country_code:"GD",country_name:"Grenada",phoneCode:"1473"},{mobile_begin_with:["5","7"],phone_number_lengths:[9],country_code:"GE",country_name:"Georgia",phoneCode:"995"},{mobile_begin_with:["694"],phone_number_lengths:[9],country_code:"GF",country_name:"French Guiana",phoneCode:"594"},{mobile_begin_with:["2","5"],phone_number_lengths:[9],country_code:"GH",country_name:"Ghana",phoneCode:"233"},{mobile_begin_with:["5"],phone_number_lengths:[8],country_code:"GI",country_name:"Gibraltar",phoneCode:"350"},{mobile_begin_with:["4","5"],phone_number_lengths:[6],country_code:"GL",country_name:"Greenland",phoneCode:"299"},{mobile_begin_with:["7","9"],phone_number_lengths:[7],country_code:"GM",country_name:"Gambia",phoneCode:"220"},{mobile_begin_with:["6"],phone_number_lengths:[8],country_code:"GN",country_name:"Guinea",phoneCode:"224"},{mobile_begin_with:["690"],phone_number_lengths:[9],country_code:"GP",country_name:"Guadeloupe",phoneCode:"590"},{mobile_begin_with:["222","551"],phone_number_lengths:[9],country_code:"GQ",country_name:"Equatorial Guinea",phoneCode:"240"},{mobile_begin_with:["6"],phone_number_lengths:[10],country_code:"GR",country_name:"Greece",phoneCode:"30"},{mobile_begin_with:["3","4","5"],phone_number_lengths:[8],country_code:"GT",country_name:"Guatemala",phoneCode:"502"},{mobile_begin_with:["671"],phone_number_lengths:[10],country_code:"GU",country_name:"Guam",phoneCode:"1671"},{mobile_begin_with:["5","6","7"],phone_number_lengths:[7],country_code:"GW",country_name:"Guinea-Bissau",phoneCode:"245"},{mobile_begin_with:["6"],phone_number_lengths:[7],country_code:"GY",country_name:"Guyana",phoneCode:"592"},{mobile_begin_with:["5","6","9"],phone_number_lengths:[8],country_code:"HK",country_name:"Hong Kong",phoneCode:"852"},{mobile_begin_with:["3","7","8","9"],phone_number_lengths:[8],country_code:"HN",country_name:"Honduras",phoneCode:"504"},{mobile_begin_with:["9"],phone_number_lengths:[8,9],country_code:"HR",country_name:"Croatia",phoneCode:"385"},{mobile_begin_with:["3","4"],phone_number_lengths:[8],country_code:"HT",country_name:"Haiti",phoneCode:"509"},{mobile_begin_with:["20","30","31","70"],phone_number_lengths:[9],country_code:"HU",country_name:"Hungary",phoneCode:"36"},{mobile_begin_with:["8"],phone_number_lengths:[9,10,11],country_code:"ID",country_name:"Indonesia",phoneCode:"62"},{mobile_begin_with:["82","83","84","85","86","87","88","89"],phone_number_lengths:[9],country_code:"IE",country_name:"Ireland",phoneCode:"353"},{mobile_begin_with:["5"],phone_number_lengths:[9],country_code:"IL",country_name:"Israel",phoneCode:"972"},{mobile_begin_with:["7","8","9"],phone_number_lengths:[10],country_code:"IN",country_name:"India",phoneCode:"91"},{mobile_begin_with:["7"],phone_number_lengths:[10],country_code:"IQ",country_name:"Iraq",phoneCode:"964"},{mobile_begin_with:["9"],phone_number_lengths:[10],country_code:"IR",country_name:"Iran",phoneCode:"98"},{mobile_begin_with:["6","7","8"],phone_number_lengths:[7],country_code:"IS",country_name:"Iceland",phoneCode:"354"},{mobile_begin_with:["3"],phone_number_lengths:[10],country_code:"IT",country_name:"Italy",phoneCode:"39"},{mobile_begin_with:["876"],phone_number_lengths:[10],country_code:"JM",country_name:"Jamaica",phoneCode:"1876"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"JO",country_name:"Jordan",phoneCode:"962"},{mobile_begin_with:["70","80","90"],phone_number_lengths:[10],country_code:"JP",country_name:"Japan",phoneCode:"81"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"KE",country_name:"Kenya",phoneCode:"254"},{mobile_begin_with:["5","7"],phone_number_lengths:[9],country_code:"KG",country_name:"Kyrgyzstan",phoneCode:"996"},{mobile_begin_with:["1","6","7","8","9"],phone_number_lengths:[8,9],country_code:"KH",country_name:"Cambodia",phoneCode:"855"},{mobile_begin_with:["9","30"],phone_number_lengths:[5],country_code:"KI",country_name:"Kiribati",phoneCode:"686"},{mobile_begin_with:["3","76"],phone_number_lengths:[7],country_code:"KM",country_name:"Comoros",phoneCode:"269"},{mobile_begin_with:["869"],phone_number_lengths:[10],country_code:"KN",country_name:"Saint Kitts and Nevis",phoneCode:"1869"},{mobile_begin_with:["1"],phone_number_lengths:[9,10],country_code:"KR",country_name:"Korea, Republic of",phoneCode:"82"},{mobile_begin_with:["5","6","9"],phone_number_lengths:[8],country_code:"KW",country_name:"Kuwait",phoneCode:"965"},{mobile_begin_with:["345"],phone_number_lengths:[10],country_code:"KY",country_name:"Cayman Islands",phoneCode:"1345"},{mobile_begin_with:["70","77"],phone_number_lengths:[10],country_code:"KZ",country_name:"Kazakhstan",phoneCode:"7"},{mobile_begin_with:["20"],phone_number_lengths:[10],country_code:"LA",country_name:"Lao People's Democratic Republic",phoneCode:"856"},{mobile_begin_with:["3","7"],phone_number_lengths:[7,8],country_code:"LB",country_name:"Lebanon",phoneCode:"961"},{mobile_begin_with:["758"],phone_number_lengths:[10],country_code:"LC",country_name:"Saint Lucia",phoneCode:"1758"},{mobile_begin_with:["7"],phone_number_lengths:[7],country_code:"LI",country_name:"Liechtenstein",phoneCode:"423"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"LK",country_name:"Sri Lanka",phoneCode:"94"},{mobile_begin_with:["4","5","6","7"],phone_number_lengths:[7,8],country_code:"LR",country_name:"Liberia",phoneCode:"231"},{mobile_begin_with:["5","6"],phone_number_lengths:[8],country_code:"LS",country_name:"Lesotho",phoneCode:"266"},{mobile_begin_with:["6"],phone_number_lengths:[8],country_code:"LT",country_name:"Lithuania",phoneCode:"370"},{mobile_begin_with:["6"],phone_number_lengths:[9],country_code:"LU",country_name:"Luxembourg",phoneCode:"352"},{mobile_begin_with:["2"],phone_number_lengths:[8],country_code:"LV",country_name:"Latvia",phoneCode:"371"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"LY",country_name:"Libyan Arab Jamahiriya",phoneCode:"218"},{mobile_begin_with:["6"],phone_number_lengths:[9],country_code:"MA",country_name:"Morocco",phoneCode:"212"},{mobile_begin_with:["4","6"],phone_number_lengths:[8,9],country_code:"MC",country_name:"Monaco",phoneCode:"377"},{mobile_begin_with:["6","7"],phone_number_lengths:[8],country_code:"MD",country_name:"Moldova",phoneCode:"373"},{mobile_begin_with:["6"],phone_number_lengths:[8],country_code:"ME",country_name:"Montenegro",phoneCode:"382"},{mobile_begin_with:["3"],phone_number_lengths:[9],country_code:"MG",country_name:"Madagascar",phoneCode:"261"},{mobile_begin_with:[],phone_number_lengths:[7],country_code:"MH",country_name:"Marshall Islands",phoneCode:"692"},{mobile_begin_with:["7"],phone_number_lengths:[8],country_code:"MK",country_name:"Macedonia",phoneCode:"389"},{mobile_begin_with:["6","7"],phone_number_lengths:[8],country_code:"ML",country_name:"Mali",phoneCode:"223"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"MM",country_name:"Myanmar",phoneCode:"95"},{mobile_begin_with:["5","8","9"],phone_number_lengths:[8],country_code:"MN",country_name:"Mongolia",phoneCode:"976"},{mobile_begin_with:["6"],phone_number_lengths:[8],country_code:"MO",country_name:"Macau",phoneCode:"853"},{mobile_begin_with:["670"],phone_number_lengths:[10],country_code:"MP",country_name:"Northern Mariana Islands",phoneCode:"1670"},{mobile_begin_with:["696"],phone_number_lengths:[9],country_code:"MQ",country_name:"Martinique",phoneCode:"596"},{mobile_begin_with:[],phone_number_lengths:[8],country_code:"MR",country_name:"Mauritania",phoneCode:"222"},{mobile_begin_with:["664"],phone_number_lengths:[10],country_code:"MS",country_name:"Montserrat",phoneCode:"1664"},{mobile_begin_with:["79","99"],phone_number_lengths:[8],country_code:"MT",country_name:"Malta",phoneCode:"356"},{mobile_begin_with:[],phone_number_lengths:[7],country_code:"MU",country_name:"Mauritius",phoneCode:"230"},{mobile_begin_with:["7","9"],phone_number_lengths:[7],country_code:"MV",country_name:"Maldives",phoneCode:"960"},{mobile_begin_with:["77","88","99"],phone_number_lengths:[9],country_code:"MW",country_name:"Malawi",phoneCode:"265"},{mobile_begin_with:[""],phone_number_lengths:[10,11],country_code:"MX",country_name:"Mexico",phoneCode:"52"},{mobile_begin_with:["1"],phone_number_lengths:[9,10],country_code:"MY",country_name:"Malaysia",phoneCode:"60"},{mobile_begin_with:["8"],phone_number_lengths:[9],country_code:"MZ",country_name:"Mozambique",phoneCode:"258"},{mobile_begin_with:["60","81","82","85"],phone_number_lengths:[9],country_code:"NA",country_name:"Namibia",phoneCode:"264"},{mobile_begin_with:[],phone_number_lengths:[6],country_code:"NC",country_name:"New Caledonia",phoneCode:"687"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"NE",country_name:"Niger",phoneCode:"227"},{mobile_begin_with:["5","8"],phone_number_lengths:[5],country_code:"NF",country_name:"Norfolk Island",phoneCode:"672"},{mobile_begin_with:["70","80","81"],phone_number_lengths:[10],country_code:"NG",country_name:"Nigeria",phoneCode:"234"},{mobile_begin_with:["8"],phone_number_lengths:[8],country_code:"NI",country_name:"Nicaragua",phoneCode:"505"},{mobile_begin_with:["6"],phone_number_lengths:[9],country_code:"NL",country_name:"Netherlands",phoneCode:"31"},{mobile_begin_with:["4","9"],phone_number_lengths:[8],country_code:"NO",country_name:"Norway",phoneCode:"47"},{mobile_begin_with:["97","98"],phone_number_lengths:[10],country_code:"NP",country_name:"Nepal",phoneCode:"977"},{mobile_begin_with:["555"],phone_number_lengths:[7],country_code:"NR",country_name:"Nauru",phoneCode:"674"},{mobile_begin_with:[],phone_number_lengths:[4],country_code:"NU",country_name:"Niue",phoneCode:"683"},{mobile_begin_with:["2"],phone_number_lengths:[8,9,10],country_code:"NZ",country_name:"New Zealand",phoneCode:"64"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"OM",country_name:"Oman",phoneCode:"968"},{mobile_begin_with:["5","6"],phone_number_lengths:[8],country_code:"PA",country_name:"Panama",phoneCode:"507"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"PE",country_name:"Peru",phoneCode:"51"},{mobile_begin_with:[],phone_number_lengths:[6],country_code:"PF",country_name:"French Polynesia",phoneCode:"689"},{mobile_begin_with:["7"],phone_number_lengths:[8],country_code:"PG",country_name:"Papua New Guinea",phoneCode:"675"},{mobile_begin_with:["9"],phone_number_lengths:[10],country_code:"PH",country_name:"Philippines",phoneCode:"63"},{mobile_begin_with:["3"],phone_number_lengths:[10],country_code:"PK",country_name:"Pakistan",phoneCode:"92"},{mobile_begin_with:["5","6","7","8"],phone_number_lengths:[9],country_code:"PL",country_name:"Poland",phoneCode:"48"},{mobile_begin_with:["55"],phone_number_lengths:[6],country_code:"PM",country_name:"Saint Pierre and Miquelon",phoneCode:"508"},{mobile_begin_with:["787","939"],phone_number_lengths:[10],country_code:"PR",country_name:"Puerto Rico",phoneCode:"1"},{mobile_begin_with:["5"],phone_number_lengths:[9],country_code:"PS",country_name:"Palestinian Territory",phoneCode:"970"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"PT",country_name:"Portugal",phoneCode:"351"},{mobile_begin_with:[],phone_number_lengths:[7],country_code:"PW",country_name:"Palau",phoneCode:"680"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"PY",country_name:"Paraguay",phoneCode:"595"},{mobile_begin_with:["33","55","66","77"],phone_number_lengths:[8],country_code:"QA",country_name:"Qatar",phoneCode:"974"},{mobile_begin_with:["692","693"],phone_number_lengths:[9],country_code:"RE",country_name:"Reunion",phoneCode:"262"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"RO",country_name:"Romania",phoneCode:"40"},{mobile_begin_with:["6"],phone_number_lengths:[8,9],country_code:"RS",country_name:"Serbia",phoneCode:"381"},{mobile_begin_with:["9","4"],phone_number_lengths:[10],country_code:"RU",country_name:"Russian Federation",phoneCode:"7"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"RW",country_name:"Rwanda",phoneCode:"250"},{mobile_begin_with:["5"],phone_number_lengths:[9],country_code:"SA",country_name:"Saudi Arabia",phoneCode:"966"},{mobile_begin_with:["7","8"],phone_number_lengths:[7],country_code:"SB",country_name:"Solomon Islands",phoneCode:"677"},{mobile_begin_with:["2"],phone_number_lengths:[7],country_code:"SC",country_name:"Seychelles",phoneCode:"248"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"SD",country_name:"Sudan",phoneCode:"249"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"SE",country_name:"Sweden",phoneCode:"46"},{mobile_begin_with:["8","9"],phone_number_lengths:[8],country_code:"SG",country_name:"Singapore",phoneCode:"65"},{mobile_begin_with:[],phone_number_lengths:[4],country_code:"SH",country_name:"Saint Helena",phoneCode:"290"},{mobile_begin_with:["3","4","5","6","7"],phone_number_lengths:[8],country_code:"SI",country_name:"Slovenia",phoneCode:"386"},{mobile_begin_with:[],phone_number_lengths:[8],country_code:"SJ",country_name:"Svalbard and Jan Mayen",phoneCode:"47"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"SK",country_name:"Slovakia",phoneCode:"421"},{mobile_begin_with:["21","25","30","33","34","40","44","50","55","76","77","78","79","88"],phone_number_lengths:[8],country_code:"SL",country_name:"Sierra Leone",phoneCode:"232"},{mobile_begin_with:["3","6"],phone_number_lengths:[10],country_code:"SM",country_name:"San Marino",phoneCode:"378"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"SN",country_name:"Senegal",phoneCode:"221"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"SO",country_name:"Somalia",phoneCode:"252"},{mobile_begin_with:["6","7","8"],phone_number_lengths:[7],country_code:"SR",country_name:"Suriname",phoneCode:"597"},{mobile_begin_with:["98","99"],phone_number_lengths:[7],country_code:"ST",country_name:"Sao Tome and Principe",phoneCode:"239"},{mobile_begin_with:["7"],phone_number_lengths:[8],country_code:"SV",country_name:"El Salvador",phoneCode:"503"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"SY",country_name:"Syrian Arab Republic",phoneCode:"963"},{mobile_begin_with:["6492","6493","6494"],phone_number_lengths:[10],country_code:"TC",country_name:"Turks and Caicos Islands",phoneCode:"1649"},{mobile_begin_with:["6","7","9"],phone_number_lengths:[8],country_code:"TD",country_name:"Chad",phoneCode:"235"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"TG",country_name:"Togo",phoneCode:"228"},{mobile_begin_with:["8","9"],phone_number_lengths:[9],country_code:"TH",country_name:"Thailand",phoneCode:"66"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"TJ",country_name:"Tajikistan",phoneCode:"992"},{mobile_begin_with:[],phone_number_lengths:[4],country_code:"TK",country_name:"Tokelau",phoneCode:"690"},{mobile_begin_with:["7"],phone_number_lengths:[8],country_code:"TL",country_name:"Timor-Leste",phoneCode:"670"},{mobile_begin_with:["6"],phone_number_lengths:[8],country_code:"TM",country_name:"Turkmenistan",phoneCode:"993"},{mobile_begin_with:["2","9"],phone_number_lengths:[8],country_code:"TN",country_name:"Tunisia",phoneCode:"216"},{mobile_begin_with:[],phone_number_lengths:[5],country_code:"TO",country_name:"Tonga",phoneCode:"676"},{mobile_begin_with:["5"],phone_number_lengths:[10],country_code:"TR",country_name:"Turkey",phoneCode:"90"},{mobile_begin_with:["868"],phone_number_lengths:[10],country_code:"TT",country_name:"Trinidad and Tobago",phoneCode:"1868"},{mobile_begin_with:[],phone_number_lengths:[5],country_code:"TV",country_name:"Tuvalu",phoneCode:"688"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"TW",country_name:"Taiwan",phoneCode:"886"},{mobile_begin_with:["7","6"],phone_number_lengths:[9],country_code:"TZ",country_name:"Tanzania",phoneCode:"255"},{mobile_begin_with:["39","50","63","66","67","68","9","73","44"],phone_number_lengths:[9],country_code:"UA",country_name:"Ukraine",phoneCode:"380"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"UG",country_name:"Uganda",phoneCode:"256"},{mobile_begin_with:["201","202","203","205","206","207","208","209","210","212","213","214","215","216","217","218","219","224","225","227","228","229","231","234","239","240","248","251","252","253","254","256","260","262","267","269","270","272","274","276","278","281","283","301","302","303","304","305","307","308","309","310","312","313","314","315","316","317","318","319","320","321","323","325","327","330","331","334","336","337","339","341","346","347","351","352","360","361","364","369","380","385","386","401","402","404","405","406","407","408","409","410","412","413","414","415","417","419","423","424","425","430","432","434","435","440","442","443","445","447","458","464","469","470","475","478","479","480","484","501","502","503","504","505","507","508","509","510","512","513","515","516","517","518","520","530","531","534","539","540","541","551","557","559","561","562","563","564","567","570","571","573","574","575","580","582","585","586","601","602","603","605","606","607","608","609","610","612","614","615","616","617","618","619","620","623","626","627","628","630","631","636","641","646","650","651","657","659","660","661","662","667","669","678","679","681","682","689","701","702","703","704","706","707","708","712","713","714","715","716","717","718","719","720","724","725","727","730","731","732","734","737","740","747","752","754","757","760","762","763","764","765","769","770","772","773","774","775","779","781","785","786","801","802","803","804","805","806","808","810","812","813","814","815","816","817","818","828","830","831","832","835","843","845","847","848","850","856","857","858","859","860","862","863","864","865","870","872","878","901","903","904","906","907","908","909","910","912","913","914","915","916","917","918","919","920","925","927","928","929","931","935","936","937","938","940","941","947","949","951","952","954","956","957","959","970","971","972","973","975","978","979","980","984","985","989"],phone_number_lengths:[10],country_code:"US",country_name:"United States",phoneCode:"1"},{mobile_begin_with:["9"],phone_number_lengths:[8],country_code:"UY",country_name:"Uruguay",phoneCode:"598"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"UZ",country_name:"Uzbekistan",phoneCode:"998"},{mobile_begin_with:["784"],phone_number_lengths:[10],country_code:"VC",country_name:"Saint Vincent and the Grenadines",phoneCode:"1784"},{mobile_begin_with:["4"],phone_number_lengths:[10],country_code:"VE",country_name:"Venezuela",phoneCode:"58"},{mobile_begin_with:["284"],phone_number_lengths:[10],country_code:"VG",country_name:"Virgin Islands, British",phoneCode:"1284"},{mobile_begin_with:["340"],phone_number_lengths:[10],country_code:"VI",country_name:"Virgin Islands, U.S.",phoneCode:"1340"},{mobile_begin_with:["9","1"],phone_number_lengths:[9,10],country_code:"VN",country_name:"Vietnam",phoneCode:"84"},{mobile_begin_with:["5","7"],phone_number_lengths:[7],country_code:"VU",country_name:"Vanuatu",phoneCode:"678"},{mobile_begin_with:[],phone_number_lengths:[6],country_code:"WF",country_name:"Wallis and Futuna",phoneCode:"681"},{mobile_begin_with:["7"],phone_number_lengths:[7],country_code:"WS",country_name:"Samoa",phoneCode:"685"},{mobile_begin_with:["7"],phone_number_lengths:[9],country_code:"YE",country_name:"Yemen",phoneCode:"967"},{mobile_begin_with:["639"],phone_number_lengths:[9],country_code:"YT",country_name:"Mayotte",phoneCode:"262"},{mobile_begin_with:["6","7","8"],phone_number_lengths:[9],country_code:"ZA",country_name:"South Africa",phoneCode:"27"},{mobile_begin_with:["9"],phone_number_lengths:[9],country_code:"ZM",country_name:"Zambia",phoneCode:"260"},{mobile_begin_with:["71","73","77"],phone_number_lengths:[9],country_code:"ZW",country_name:"Zimbabwe",phoneCode:"263"}]},function(e,t,i){"use strict";e.exports=[{number:"7-495-505-6355",additionalNumbers:["8-800-100-8508"],country:["RU","BY","KZ"],lang:["ru"]},{number:"38-099-062-45-70",additionalNumbers:["38-096-400-68-24","0-800-501046"],country:["UA"],lang:["ua"]},{number:"49-305-683-70-05-40",additionalNumbers:["0-800-189-9300"],country:["DE","AT"],lang:["de"]},{number:"33-975-1818-26",additionalNumbers:["0-800-918894"],country:["FR"],lang:["fr"]},{number:"34-91-143-6796",additionalNumbers:["900-808611"],country:["ES","CO","PE","VE","EC","GT","AR","CL","DO","NI","UY","CU","BO","HN","PY","SV","CR","PA"],lang:["sp"]},{number:"39-024-032-6326",additionalNumbers:["800-788-029"],country:["IT"],lang:["it"]},{number:"351-30-880-1869",country:["PT"],lang:["pt"]},{number:"55-614-042-1191",country:["BR"],lang:["br"]},{number:"48-12-395-3187",additionalNumbers:["0-0-800-141-0025"],country:["PL"],lang:["pl"]},{number:"90-850-390-2134",country:["TR"],lang:["tr"]},{number:"1-954-990-0075",additionalNumbers:["1-800-980-8759"],country:["JP","US"],lang:["jp","en"]},{number:"86-400-120-9372",additionalNumbers:["QQ 2779194051"],country:["CN"],lang:["zh","cn"]},{number:"44-870-820-0052",additionalNumbers:["0-808-101-2263"],country:["SE","CZ","NL","GB"],lang:["se","cz","nl","en"]},{number:"357-96-157071",country:["GR","CY"],lang:["gr"]},{number:"52-554-770-7750",country:["MX"],lang:["mx"]},{number:"000-800-919-0271",country:["IN"],lang:["in"]}]},function(e,t,i){var n=i(32),s=i(24),o=i(1026);e.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var i=o.f(e);return(0,i.resolve)(t),i.promise}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n,s,o,r=i(65),a=i(1626),l=i(156),c=i(51),h=i(17),u=h.process,p=h.setImmediate,d=h.clearImmediate,f=h.MessageChannel,m=h.Dispatch,g=0,b={},_=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},v=function(e){_.call(e.data)};p&&d||(p=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return b[++g]=function(){a("function"==typeof e?e:Function(e),t)},n(g),g},d=function(e){delete b[e]},"process"==i(49)(u)?n=function(e){u.nextTick(r(_,e,1))}:m&&m.now?n=function(e){m.now(r(_,e,1))}:f?(o=(s=new f).port2,s.port1.onmessage=v,n=r(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(e){h.postMessage(e+"","*")},h.addEventListener("message",v,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(r(_,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,i){var n=i(32),s=i(64),o=i(31)("species");e.exports=function(e,t){var i,r=n(e).constructor;return void 0===r||void 0==(i=n(r)[o])?t:s(i)}},function(e,t,i){"use strict";(function(t){var n=i(471),s=i(1635),o=i(1634);e.exports=n.extend({name:"SignupCondition",el:!1,template:o,defaultCondition:{news:0,membership_agreement:0},events:{"change ._checkbox":"onCheckboxChange"},initialize:function(){this.model=new s([],{app:this.app}),this.listenTo(this.model,"sync",this.activateCheckbox),this.listenTo(this.signUpModel,"invalid",this.showErrors)},prepareRender:function(){this.isExtended()&&this.setDefaultCondition()},serialize:function(){return{schema:this.getSchema(),isExtended:this.isExtended(),conditionText:this.conditionText}},isExtended:function(){return this.app.features.isFeatureOnValue("Show Sign Up Condition")},getSchema:function(){return[{name:"membership_agreement",checked:this.defaultCondition.membership_agreement,text:this.tr('I agree to the <a class="%s" href="%s" target="_blank">Membership Agreement</a>.',["link-blue",this.app.makeUrl("member-agreement")])},{name:"news",checked:this.defaultCondition.news,text:this.tr("Id like to receive newsletters and special offers.")}]},setDefaultCondition:function(){for(var e in this.defaultCondition)({}).hasOwnProperty.call(this.defaultCondition,e)&&(this.model.save({field:e,value:this.defaultCondition[e]}),this.signUpModel.set(e,!!this.defaultCondition[e]))},onCheckboxChange:function(e){var t=e.currentTarget.getAttribute("name");this.$(e.currentTarget).prop("disabled",!0),this.model.save({field:t,value:e.currentTarget.checked?1:0}),this.signUpModel.set(t,e.currentTarget.checked),this.clearError()},activateCheckbox:function(e){var t=this.$("._checkbox").filter('[name="'+e.get("field")+'"]');t.length>0&&t.prop("disabled",!1)},showErrors:function(e,i){if(t.browser)for(var n in i)({}).hasOwnProperty.call(i,n)&&{}.hasOwnProperty.call(this.defaultCondition,n)&&this.showError(Array.isArray(i[n])?i[n][0]:i[n])},showError:function(e){this.$("._error").text(e),this.onErrorCallback()},clearError:function(){this.$("._error").text("")},onErrorCallback:function(){}})}).call(this,i(5))},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1027),r=i(1645);e.exports=s.extend({name:"SuccessPurchaseInfo",el:!1,template:r,invoice:null,serialize:function(){var e=this.app.currencies.findWhere({code:this.invoice.get("currencyCode")})||this.app.currencies.getActive();return n.extend(this.invoice.serialize(),{pdfLink:this.app.makeUrl("invoices/pdf",{query:{id:this.invoice.get("orderNumber")}}),marketPrice:e.serialize(this.invoice.get("currencyPrice"),2," ",void 0,!1),productName:this.defineProductName(this.invoice.serialize()),showPdfLink:this.needToShowPdfLink(this.invoice.serialize())})},clientAfterRender:function(){o.sendRequest({url:"InvoiceShown"})},defineProductName:function(e){var t=e.productType,i=t;return"credits"===t?i=this.tr("Pay-As-You-Go Credits"):"subscription"===t?i=this.tr("Subscription Plan"):"bonus"===t?i=this.tr("Image Pack"):"bundle_membership"===t?i=this.tr("%s Downloads",e.count):"ondemand"===t?i=this.tr("ondemand_"+e.info.name_orig+"_"+e.subproduct):"membership"===t?i=this.tr("Membership"):"item_transaction"===t?i=this.tr("File Invoice"):"refill"!==t&&"enterprise"!==t||(i=this.tr("Balance Refill")),i},needToShowPdfLink:function(e){return"enterprise"!==e.productType&&"item_transaction"!==e.productType}})},function(e,t,i){var n,s,o;s=[i(101),i(651),i(922),i(659),i(912)],void 0===(o="function"==typeof(n=function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,n){var s=n||e.ui.ddmanager.current,o=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===s.options.scope&&n.accept.call(n.element[0],s.currentItem||s.element)&&t(s,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,i))return o=!0,!1}),!o&&!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(s)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,s){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=r+t.helperProportions.height,c=i.offset.left,h=i.offset.top,u=c+i.proportions().width,p=h+i.proportions().height;switch(n){case"fit":return c<=o&&a<=u&&h<=r&&l<=p;case"intersect":return c<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&h<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<p;case"pointer":return e(s.pageY,h,i.proportions().height)&&e(s.pageX,c,i.proportions().width);case"touch":return(r>=h&&r<=p||l>=h&&l<=p||r<h&&l>p)&&(o>=c&&o<=u||a>=c&&a<=u||o<c&&a>u);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,s,o=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(i,n){var s=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,n)&&(s=this._drop.call(this,n)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,n){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,n),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,r,a=t(i,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o})).length&&((s=e(r[0]).droppable("instance")).greedyChild="isover"===l)),s&&"isover"===l&&(s.isover=!1,s.isout=!0,s._out.call(s,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),s&&"isout"===l&&(s.isout=!1,s.isover=!0,s._over.call(s,n)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)}})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){"use strict";var n=i(0),s="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.exports={getAnimationDefaults:function(){return{onShow:!1,onHide:!1,showMethod:"fadeIn",hideMethod:"fadeOut",showSpeed:.6,hideSpeed:.1}},setParams:function(e,t){this.animation=n.extend({},this.getAnimationDefaults(),this.animation,t||{})},animatedShow:function(e,t,i){var n=this;this.setParams.apply(this,arguments),e||(e=this.$el),this.animation.onShow?(e.css({"animation-duration":this.animation.showSpeed+"s"}),e.addClass(this.animation.showMethod+" animated").one(s,function(){i&&i.apply(n)})):i&&i.apply(this)},animatedHide:function(e,t,i){var n=this;this.setParams.apply(this,arguments),e||(e=this.$el),this.animation.onHide?(e.css({"animation-duration":this.animation.hideSpeed+"s"}),e.addClass(this.animation.hideMethod+" animated").one(s,function(){i&&i.apply(n)})):i&&i.apply(this)},removeAnimatedClassNames:function(e){e||(e=this.$el),e.removeClass(this.animation.showMethod+" "+this.animation.hideMethod+" animated")}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t='<div class="field-box select-box select-box-m"><i class="arrow arrow-black arrow-bottom"></i><select class="select select-m">',i=e.options;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<option value="'+(n=i[s+=1]).value+'"',e.selected===n.value&&(t+=" selected"),t+=">"+n.title+"</option>";return t+="</select></div>"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t='<div class="login-box-wrapper"><form class="login-box" action="'+e.links.login+'" method="POST"><label class="login-box__input field-box input-box input-box-xl input-box_icon"><i class="input-box-icon icon-login-small"></i><input class="input input-xl _field-login" type="text" name="username" placeholder="'+this.tr("Login")+" / "+this.tr("E-mail")+'" /></label><label class="login-box__input field-box input-box input-box-xl input-box_icon"><i class="input-box-icon icon-password-small"></i><input class="input input-xl" type="password" name="password" placeholder="'+this.tr("Password")+'"  autocomplete="off" /></label><div class="login-box__captcha g-recaptcha _captcha';return e.captcha.show&&(t+=" login-box__captcha_visible"),t+='" data-sitekey="'+e.captcha.siteKey+'" data-size="compact"></div><div class="login-box__action"><button class="login-box__submit button button-l button-green _submit" type="submit">'+this.tr("Sign In")+'</button><a class="login-box__forgot-pwd link-blue">'+this.tr("Forgot Password?")+'</a></div><span class="login-box__signup">'+this.tr('Not Registered? <a class="%s" href="%s">Create Account!</a>',["link-blue",this.app.makeUrl("signup",{protocol:"https:",backURL:!0})])+'</span><div class="login-box__social"><div class="login-box__btn-social button-social-small button-social-facebook _social-facebook" title="'+this.tr("Facebook")+'"></div><div class="login-box__btn-social button-social-small button-social-google _social-google" title="'+this.tr("Google+")+'"></div></div></form></div>'}},function(e,t){e.exports=function(e){var t='<div class="user-menu"><a class="user-menu__header" href="'+e.menuLinks.profile+'"><span class="user-menu__avatar avatar-box avatar-box_grey avatar-box-l">';return e.avatarExists&&(t+='<img class="avatar avatar-l" src="'+e.avatars.big+'">'),t+='<i class="avatar-box__letter" data-user-placeholder="'+e.username[0]+'"></i></span><span class="user-menu__title">'+e.username+'</span></a><menu class="user-menu__content">',e.accountSwitcher&&(t+='<li class="user-menu__item user-menu__item_separated"><a class="user-menu__link _user-switch-account"><i class="user-menu__icon icon icon-user-menu-switch"></i>'+this.tr("Switch to Regular Site")+"</a></li>"),t+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.enterpriseDownloads+'"><i class="user-menu__icon icon icon-user-menu-downloads"></i>'+this.tr("Downloaded Files")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.favorites+'"><i class="user-menu__icon icon icon-user-menu-favorites"></i>'+this.tr("Favorites")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.profile+'"><i class="user-menu__icon icon icon-user-menu-profile"></i>'+this.tr("My Profile")+'</a></li></menu><a class="user-menu__logout _user-logout" href="'+e.menuLinks.logout+'">'+this.tr("Log Out")+"</a></div>"}},function(e,t){e.exports=function(e){var t='<div class="user-menu"><a class="user-menu__header" href="'+e.menuLinks.profile+'"><span class="user-menu__avatar avatar-box avatar-box_grey avatar-box-l">';return e.avatarExists&&(t+='<img class="avatar avatar-l" src="'+e.avatars.big+'">'),t+='<i class="avatar-box__letter" data-user-placeholder="'+e.username[0]+'"></i></span><span class="user-menu__title">'+e.username+'</span></a><menu class="user-menu__content">',e.accountSwitcher&&(t+='<li class="user-menu__item user-menu__item_separated"><a class="user-menu__link _user-switch-account"><i class="user-menu__icon icon icon-user-menu-switch"></i>'+this.tr("Switch to Enterprise")+"</a></li>"),e.isSeller&&(t+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.sellerPrice+'"><i class="user-menu__icon icon icon-user-menu-invoices"></i>'+this.tr("Contribute Program")+"</a></li>"),t+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.subscribe+'"><i class="user-menu__icon icon icon-user-menu-plans"></i>'+this.tr("Plans & Prices")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.purchased+'"><i class="user-menu__icon icon icon-user-menu-downloads"></i>'+this.tr("Downloaded Files")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.invoices+'"><i class="user-menu__icon icon icon-user-menu-invoices"></i>'+this.tr("Invoices")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.favorites+'"><i class="user-menu__icon icon icon-user-menu-favorites"></i>'+this.tr("Favorites")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.profile+'"><i class="user-menu__icon icon icon-user-menu-profile"></i>'+this.tr("My Profile")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.referral+'"><i class="user-menu__icon icon icon-user-menu-referral"></i>'+this.tr("Referral Program")+'</a></li></menu><a class="user-menu__logout _user-logout" href="'+e.menuLinks.logout+'">'+this.tr("Log Out")+"</a></div>"}},function(e,t){e.exports=function(e){var t='<div class="not-auth-box"><span class="header__cart-box _shopping-cart-indicator"></span>';return(e.showSignUpButton||e.showSignInButton)&&(t+='<noindex><ul class="header__list">',e.reverseButtons||e.showSignUpButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl '+e.signupButtonColorClass+' _sign-up" href="'+e.signupLink+'">'+this.tr("Register an Account")+"</a></li>"),e.showSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-white _btn-sign-in" href="'+e.loginLink+'">'+this.tr("Sign In")+"</a></li>"),e.reverseButtons&&e.showSignUpButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl '+e.signupButtonColorClass+' _sign-up" href="'+e.signupLink+'">'+this.tr("Register an Account")+"</a></li>"),t+="</ul></noindex>"),t+="</div>"}},function(e,t){e.exports=function(e){var t='<div class="auth-box">';return e.canViewBalance?t+='<span class="user-bar-item-wrap _team-balance"></span>':e.hidePlansMenu||(e.user.balanceRefilled&&(t+='<span class="user-bar-item-wrap _refilled-balance refilled-balance"></span>'),+e.user.balance<=0||e.hasPlans?e.hasPlans?t+='<a class="user-bar-item user-bar-item_hover plans-box _products" href="'+this.app.makeUrl("subscribe")+'"><i class="user-bar-item__icon icon icon-three-points"><i class="icon icon-point"></i><i class="icon icon-point"></i><i class="icon icon-point"></i></i><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("Active<br />Plans")+'</span></span><i class="user-bar-item__arrow arrow arrow-bottom"></i></a>':t+='<a class="user-bar-item user-bar-item_hover no-plans-box" href="'+this.app.makeUrl("subscribe")+'"><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("You don't have any plans.")+'</span><span class="user-bar-item__text">'+this.tr("Choose now!")+"</span></span></a>":t+='<span class="user-bar-item-wrap _balance"></span>'),t+='<span class="user-bar-item-wrap _shopping-cart-indicator"></span><div class="user-box _user-box"><span class="user-box__avatar avatar-box avatar-box-m"><img class="avatar avatar-m _avatar-image" src="'+e.avatars.default+'" /></span><span class="user-box__username">',e.user.username?t+=""+e.user.username:e.user.email&&(t+=""+e.user.email),t+='</span><i class="user-box__arrow arrow arrow-bottom"></i></div></div>'}},function(e,t){e.exports=function(e){var t="<a ";return e.billingLinkDisabled||(t+=' href="'+e.billingLink+'"'),t+=' class="user-bar-item user-bar-item_hover balance-box',e.billingLinkDisabled&&(t+=" balance-box_not-clickable"),t+='"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-balance"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-balance-hover"></i><span class="user-bar-item__text">'+e.teamBalance+"</span></span></a>"}},function(e,t,i){"use strict";var n=i(471),s=i(1455);e.exports=n.extend({el:!1,template:s,events:{click:"onBalanceClick"},teamBalance:0,teamBalanceFormatted:function(){var e=this.app.currencies.get(this.app.user.get("enterprise").currencyId);return e?(this.teamBalance<0?"-":"")+e.format(Math.abs(this.teamBalance)):null},getBillingLink:function(){return this.app.user.isOverdraftEnabled()?"":this.app.makeUrl("subscribe/billing/balance",{query:{product:"account"},backURL:!0})},serialize:function(){return{isEnterprise:this.isEnterprise,billingLink:this.getBillingLink(),billingLinkDisabled:this.billingLinkDisabled(),teamBalance:this.teamBalanceFormatted()}},billingLinkDisabled:function(){var e=this.app.user.get("enterprise").groupId;return this.app.user.isOverdraftEnabled()||!(this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+e,"billing"))},onBalanceClick:function(e){this.app.user.isOverdraftEnabled()&&e.preventDefault()}})},function(e,t){e.exports=function(e){return'<span class="user-bar-item user-bar-item-balance balance-box"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-balance"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-balance-hover"></i><span class="user-bar-item__text">$'+e.balanceRefilled+"</span></span></span>"}},function(e,t,i){"use strict";var n=i(471);e.exports=n.extend({el:!1,template:i(1457),balanceRefilled:0,prepareRender:function(){return this.isUserRefilledBalanceVisible()},isUserRefilledBalanceVisible:function(){return this.app.user.get("balanceRefilled")>0},serialize:function(){return{balanceRefilled:this.app.user.get("balanceRefilled").toFixed(2)}}})},function(e,t){e.exports=function(e){var t='<form class="modal__form password-recovery"><p class="modal__text password-recovery__text">'+this.tr("Please enter your login below and we will send you an e-mail with a link to reset your password")+'.</p><label class="modal__form-field field-box input-box input-box-xl"><input class="input input-xl _recovery-username _field" type="text" name="username" placeholder="'+this.tr("Login *")+'" autocomplete="off" maxlength="100" value="'+e.attrs.username+'" /></label><p class="modal__text password-recovery__text">'+this.tr("Or if you forgot your login too, please enter your e-mail below and we will send you a letter with a link to reset your password")+'.</p><label class="modal__form-field field-box input-box input-box-xl"><input class="input input-xl _recovery-email _field" type="email" name="email" placeholder="'+this.tr("E-mail *")+'" autocomplete="off" maxlength="100" value="'+e.attrs.email+'" /></label><div class="errors-holder _errors-holder"></div><div class="password-recovery__captcha g-recaptcha _captcha';return e.captcha.show&&(t+=" password-recovery__captcha_visible"),t+='" data-sitekey="'+e.captcha.siteKey+'"></div></form>'}},function(e,t,i){"use strict";var n=i(9),s=i(132),o=n.extend({url:"PasswordRecovery",defaults:s.PasswordRecovery.defaults,errorsMap:s.PasswordRecovery.errorsMap,validation:s.PasswordRecovery.validation,getQueryParams:function(){return this.clone()},parse:function(e){return e.errors?{}:e},serialize:function(){return{username:this.get("username")||"",email:this.get("email")||""}},setValidation:function(e){return void 0===e&&(e=this.clone()),!e.email&&e.username?(this.defaults=s.PasswordRecoveryUsername.defaults,this.errorsMap=s.PasswordRecoveryUsername.errorsMap,this.validation=s.PasswordRecoveryUsername.validation,delete e.email):e.email&&!e.username?(this.defaults=s.PasswordRecoveryEmail.defaults,this.errorsMap=s.PasswordRecoveryEmail.errorsMap,this.validation=s.PasswordRecoveryEmail.validation,delete e.username):e.email||e.username||(this.defaults=s.PasswordRecovery.defaults,this.errorsMap=s.PasswordRecovery.errorsMap,this.validation=s.PasswordRecovery.validation),e}});e.exports=o},function(e,t,i){"use strict";var n=i(1)(i(131)),s=i(0),o=i(512),r=i(1460),a=i(488),l=i(40),c=i(615),h=i(1459),u=i(100).userErrors,p=o.extend({name:"PasswordRecoveryForm",el:!1,template:h,enterprise:!1,events:s.extend({},o.prototype.events,{"focusout ._field":"onRegularFieldFocusOut"}),initialize:function(){this.model=new r({enterprise:this.enterprise});for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.initialize.apply(this,t),this.listenTo(this.model,"error",this.handleModelError)},serialize:function(){return{attrs:this.model.serialize(),captcha:{show:this.isCaptchaNeeded(),apiUrl:l.recaptcha.apiUrl,siteKey:l.recaptcha.publicKey}}},clientAfterRender:function(){this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length&&c.injectScript(this.$(".g-recaptcha")[0])},prepareSubmit:function(){this.resetErrors(),this.model.setValidation(),this.model.set({"g-recaptcha-response":this.$(".g-recaptcha-response").val()||""})},validate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=o.prototype.validate.apply(this,t);return this.$(".g-recaptcha-response").length&&!this.$(".g-recaptcha-response").val()&&(n=!1,this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."})),n},submit:function(){var e=this;this.model.save({},{wait:!0,success:function(t,i){return e.onSubmitSuccess(t,i)}})},resetErrors:function(){this.fieldReset(this.$("._errorHolder"));for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.resetErrors.apply(this,t)},handleModelError:function(e,t){var i=this;t.errors&&(this.model.set("g-recaptcha-response",""),s.each(t.errors,function(e){s.contains((0,n.default)(u),+e.error_code)&&c.injectScript(i.$(".g-recaptcha")[0]);var t=e.error_data[0];i.model.errorsMap[e.error_code]&&(t=i.model.errorsMap[e.error_code]);var o=i.$("input[name="+t+"]");o=o.length?o.parent():i.$("._errors-holder"),i.fieldIncorrect(o,{errorMessage:e.error_message})}))},onSubmitSuccess:function(e,t){t.errors?c.reset(this.$(".g-recaptcha-response")):this.onSendCallback()},onRegularFieldFocusOut:function(e){e.currentTarget.value.length&&this.fieldCorrect(this.$(e.currentTarget).parent())},isCaptchaNeeded:function(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("recoverPassword")},onSendCallback:s.noop});s.extend(p.prototype,a),e.exports=p},function(e,t,i){"use strict";var n=i(1)(i(10)),s=i(474),o=i(475),r=i(1461),a=i(127),l=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=a.PasswordRecoveryTitle,i.body=function(){return new r({enterprise:i.enterprise,app:i.app,onSendCallback:function(){return i.onSendCallback()}})},i.footer=[{label:a.SendResetLinkBtn,color:"blue",defaultAction:!0,callback:"sendCallback"}],i}(0,n.default)(t,e);var i=t.prototype;return i.sendCallback=function(){this.findView("PasswordRecoveryForm").onSubmit()},i.onSendCallback=function(){this.hide(),new s({title:a.PasswordRecoveryTitle,message:this.tr(a.PasswordRecoveryEmailSent,[this.app.makeUrl("contact_us"),'class="link-blue"'])}).show()},t}(o);e.exports=l},function(e,t,i){"use strict";var n=i(803),s=i(132);e.exports=n.extend({url:"Login",isHttps:!0,isBulkAllowed:!1,defaults:s.LoginForm.defaults,errorsMap:s.LoginForm.errorsMap,validation:s.LoginForm.validation})},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1027);e.exports=s.extend({el:!1,events:{"click ._user-switch-account":"onUserSwitchAccount","click ._user-logout":"onUserLogoutClick"},onUserLogoutClick:function(e){e.preventDefault(),this.onLogoutCallback()},serialize:function(){return{accountSwitcher:this.app.user.get("accountSwitcher"),username:this.app.user.get("username"),isEnterprise:this.app.user.isEnterprise(),isSeller:this.app.user.isSeller(),avatars:this.app.user.avatar.toJSON(),avatarExists:this.app.user.avatar.avatarExists,menuLinks:this.menuLinks||{}}},onUserSwitchAccount:function(e){var t=this;o.sendRequest({url:"SwitchAccount",success:function(){t.app.router.redirect(t.app.makeUrl("home"))}})},onLogoutCallback:n.noop})},function(e,t){e.exports=function(e){var t='<a class="cmp-livechat cmp-livechat-';return e.online?t+="online":t+="offline",t+=" "+e.className+'">'+this.tr("Live Chat")+"</a>"}},function(e,t){e.exports=function(e){var t='<footer class="'+e.layoutClassNames+'"><div class="footer__container"><section class="footer__column"><div class="footer__part-title">'+this.tr("Depositphotos")+'</div><ul class="footer__list"><li><a href="'+e.siteUrls.about.url+'" class="footer__link';e.siteUrls.about.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("About Us")+'</a></li><li><a href="'+e.siteUrls.subscribe.url+'" class="footer__link',e.siteUrls.subscribe.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Our Plans &amp; Prices")+'</a></li><li><a href="'+e.siteUrls.enterprise.url+'" class="footer__link',e.siteUrls.enterprise.isActive&&(t+=" footer__link_active"),t+='" target="_blank">'+this.tr("Enterprise Solution")+'</a></li><li><a href="'+e.siteUrls.faq.url+'" class="footer__link',e.siteUrls.faq.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Frequently Asked Questions")+"</a></li>",e.blogLink&&(t+='<li><a href="'+this.app.makeUrl("blog")+'" class="footer__link" target="_blank">'+this.tr("Depositphotos Blog")+"</a></li>"),t+='<li><a href="'+e.siteUrls.referral.url+'" class="footer__link',e.siteUrls.referral.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Referral Program")+'</a></li><li><a href="'+e.siteUrls.affilate.url+'" class="footer__link',e.siteUrls.affilate.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Affiliate Program")+'</a></li><li><a href="'+e.siteUrls.api.url+'" class="footer__link',e.siteUrls.api.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("API Program")+'</a></li><li><a href="'+e.siteUrls.careers.url+'" class="footer__link',e.siteUrls.careers.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Careers")+'</a></li><li><a href="'+e.siteUrls.newestFiles.url+'" class="footer__link',e.siteUrls.newestFiles.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Newest Images")+'</a></li><li><a href="'+e.siteUrls.freeFiles.url+'" class="footer__link',e.siteUrls.freeFiles.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Free Pictures")+'</a></li><li><noindex><span data-seolink="',e.isLoggedIn?t+="examination":t+="contributor",t+='" class="_pseudolink footer__link _become-contributor',(e.siteUrls.contributor.isActive||e.siteUrls.examination.isActive)&&(t+=" footer__link_active"),t+='">'+this.tr("Become a Contributor")+'</span></noindex></li><li><a href="'+e.siteUrls.sellerPrice.url+'" class="footer__link',e.siteUrls.sellerPrice.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("Sell Stock Photos")+'</a></li><li><a href="'+this.app.makeUrl("link_ios_app")+'" class="footer__link-app-store cmp-app-store" rel="nofollow" target="_blank">'+this.tr("Available on the")+'</a></li><li><a href="'+this.app.makeUrl("link_gplay_app")+'" class="footer__link-google-play cmp-google-play" rel="nofollow" target="_blank">'+this.tr("Available on the")+'</a></li><li><span data-seolink="clashot" class="_pseudolink footer__link-clashot cmp-clashot">'+this.tr("Sell Mobile<br />Photos")+'</span></li></ul></section><section class="footer__column"><div class="footer__part-title">'+this.tr("Site Language")+"</div>";var i=e.locales;if(i)for(var n,s=-1,o=i.length-1;s<o;){if(n=i[s+=1],t+='<div class="footer__langs-column"><ul class="footer__list">',e.transformLangsEnabled){var r=n;if(r)for(var a=-1,l=r.length-1;a<l;)!0===(h=r[a+=1]).active&&(t+="<li>",h.key===e.activeLang?t+='<span class="footer__link footer__link_active">'+h.name+"</span>":t+='<span data-seolink="lang" data-seolink-langkey="'+h.key+'" class="_pseudolink footer__link">'+h.name+"</span>",t+="</li>")}else{var c=n;if(c)for(var h,u=-1,p=c.length-1;u<p;)!0===(h=c[u+=1]).active&&(t+="<li>",h.key===e.activeLang?t+='<span class="footer__link footer__link_active">'+h.name+"</span>":t+='<a href="'+h.url+'" class="footer__link">'+h.name+"</a>",t+="</li>")}t+="</ul></div>"}return t+='</section><section class="footer__column-clear"></section><section class="footer__column"><div class="footer__part-title">'+this.tr("Legal Information")+'</div><ul class="footer__list"><li><span data-seolink="documents" class="_pseudolink footer__link',e.siteUrls.documents.isActive&&(t+=" footer__link_active"),t+='">'+this.tr("All Documents")+'</span></li><li><a href="'+this.app.makeUrl("bbb")+'" class="footer__link-bbb cmp-bbb" rel="nofollow" target="_blank" title="'+this.tr("Depositphotos Inc. BBB Business Review")+'"></a></li>',e.showRating&&(t+='<li><a class="footer__link-rating cmp-depositphotos-rating _feedback"',e.ratingSeo&&(t+=' itemscope itemtype="http://schema.org/WebPage"'),t+='><span class="cmp-depositphotos-rating__title"><span class="cmp-depositphotos-rating__title-sub"',e.ratingSeo&&(t+=' itemprop="name"'),t+=">"+this.tr("Depositphotos")+"'</span> "+this.tr("Rating")+this.tr(":")+'</span><span class="cmp-depositphotos-rating__info"><i class="cmp-depositphotos-rating__star"></i><i class="cmp-depositphotos-rating__star"></i><i class="cmp-depositphotos-rating__star"></i><i class="cmp-depositphotos-rating__star"></i><i class="cmp-depositphotos-rating__star cmp-depositphotos-rating__star_half"></i>',e.ratingSeo?t+='<span class="cmp-depositphotos-rating__feedbacks" itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating">'+this.tr('<span itemprop="ratingValue">%s</span> stars<br /><span class="%s">based on <span itemprop="ratingCount">%s</span> feedbacks</span>',[e.rating.rate,"cmp-depositphotos-rating__feedbacks-text",e.rating.feedbacks])+"</span>":t+='<span class="cmp-depositphotos-rating__feedbacks">'+this.tr('<span>%s</span> stars<br /><span class="%s">based on <span>%s</span> feedbacks</span>',[e.rating.rate,"cmp-depositphotos-rating__feedbacks-text",e.rating.feedbacks])+"</span>",t+="</span></a></li>"),e.showTruste&&(t+='<li><a href="'+e.trusteUrl+'" class="footer__link-truste cmp-truste" rel="nofollow" target="_blank" title="'+this.tr("TRUSTe online privacy certification")+'"><img class="cpm-truste__img" src="'+this.app.cdnPath+'_img/truste-icon.png" alt="TRUSTe Privacy" /><span class="cpm-truste__text">'+this.tr("Certified Privacy")+"</span></a></li>"),e.birdInFlightLink&&(t+='<li><a href="'+this.app.makeUrl("birdinflight")+'" class="footer__link-bird-and-flight cmp-bird-and-flight" target="_blank"><span class="footer__link-bird-and-flight-text"><b>'+this.tr("Bird In Flight")+"</b> - "+this.tr("The Photo Magazine")+"</span></a></li>"),t+='</ul></section><section class="footer__column footer__column_last',e.showVKSocial&&(t+=" footer__column_last-wide"),t+='"><div class="footer__part-title footer__part-title-contact">'+this.tr("Contact & Support")+'</div><ul class="footer__list"><li><a class="footer__phone footer__phone_link" href="tel:'+e.phoneNumber+'"><i class="footer__icon-phone icon icon-phone-small"></i>'+e.phoneNumber+'</a></li><li><span class="footer__link footer__link-livechat _livechat"></span></li><li><a class="footer__link footer__link-contact-us cmp-contact-us" href="'+this.app.makeUrl("contact_us")+'" class="footer__link"><i class="cmp-contact-us__icon"></i>'+this.tr("Contact Us")+'</a></li><li><a class="footer__link footer__link-feedback cmp-feedback _feedback"><i class="cmp-feedback__icon"></i>'+this.tr("Give Feedback")+'</a></li></ul><div class="footer__part-title footer__part-title-follow-us">'+this.tr("Follow Us")+'</div><ul class="footer__list"><li class="footer__list-line"><a class="footer__link-social button-social-dark button-social-facebook" href="'+this.app.makeUrl("facebookAccount")+'" rel="nofollow" target="_blank">Facebook</a></li><li class="footer__list-line"><a class="footer__link-social button-social-dark button-social-twitter" href="'+this.app.makeUrl("twitterAccount")+'" rel="nofollow" target="_blank">Twitter</a></li><li class="footer__list-line"><a class="footer__link-social button-social-dark button-social-google" href="'+this.app.makeUrl("googleAccount")+'" rel="nofollow" target="_blank">Google Plus</a></li>',e.showVKSocial&&(t+='<li class="footer__list-line"><a class="footer__link-social button-social-dark button-social-vk" href="'+this.app.makeUrl("vkAccount")+'" rel="nofollow" target="_blank">VK</a></li>'),t+='</ul></section><section class="footer__copy"><p class="footer__copy-text">'+this.tr("&copy; 2009-%s. Depositphotos, Inc. USA. All Rights Reserved.",(new Date).getFullYear())+"</p></section></div></footer>"}},function(e,t){e.exports=function(e){var t='<div class="feedback-form"><p class="feedback-form__text">'+this.tr("Your feedback is very important, please tell us what you think!")+'</p><label class="feedback-form__field field-box rate-box"><span class="rate-label">'+this.tr("What do you think about our site?")+'</span><span class="rate-value _rate-component"></span></label>';return e.isUserLoggedIn||(t+='<p class="feedback-form__title">'+this.tr("Contact Information")+this.tr(":")+'</p><label class="feedback-form__field field-box input-box input-box-xl"><input class="input input-xl" type="text" name="email" placeholder="'+this.tr("E-mail")+'" maxlength="64" /></label><label class="feedback-form__field field-box input-box input-box-xl _phone-number"><input class="input input-xl" type="text" name="phone" placeholder="'+this.tr("Phone")+'" maxlength="64" /></label><label class="feedback-form__field field-box input-box input-box-xl"><input class="input input-xl" type="text" name="name" placeholder="'+this.tr("Name")+'" maxlength="64" /></label>'),t+='<label class="feedback-form__field field-box input-box input-box-xl"><input class="input input-xl" type="text" name="info" placeholder="'+this.tr("How did you hear about us")+'" maxlength="100" /></label><p class="feedback-form__title">'+this.tr("Please enter your feedback in the field below")+this.tr(":")+'</p><label class="feedback-form__field field-box textarea-box textarea-box-xl"><textarea class="textarea textarea-xl textarea-resize-v _feedback-description" name="feedback" placeholder="'+this.tr("Your message to recipient of the e-mail")+'"></textarea></label></div>'}},function(e,t,i){"use strict";var n=i(9),s=i(132);e.exports=n.extend({url:"FeedbackForm",defaults:{rate:0,email:"",phone:"",name:"",info:"",feedback:""},validation:{email:s.validation.email,rate:[{min:1,msg:!0},{max:5,msg:!0}],info:[{required:!0,msg:!0}],feedback:[{required:!0,msg:!0}]}})},function(e,t){e.exports=function(e){for(var t='<span class="rate-component"><span class="rate-component__decrease _rate-decrease"></span>';e.items>0;)t+='<i class="icon icon-star rate-component__item _rate-item"></i>',e.items--;return t+='<span class="rate-component__increase _rate-increase"></span></span>'}},function(e,t,i){"use strict";var n=i(1)(i(10)),s=i(0),o=function(e){function t(t){var n={};return s.extend(n,{el:!1,items:5,value:0,events:{"mouseover ._rate-item":"onMouseOver","mouseout ._rate-item":"onMouseOut","click ._rate-item":"onItemClick","click ._rate-decrease":"decreaseValue","click ._rate-increase":"increaseValue"},template:i(1469),valueSelected:s.noop},t),e.call(this,n)||this}(0,n.default)(t,e);var o=t.prototype;return o.onMouseOver=function(e){this.activate(this.$(e.currentTarget).index())},o.onMouseOut=function(){this.activate()},o.onItemClick=function(e){this.setValue(this.$(e.currentTarget).index())},o.decreaseValue=function(){this.value>0&&(this.setValue(this.value-1),this.activate())},o.increaseValue=function(){this.value<this.items&&(this.setValue(this.value+1),this.activate())},o.setValue=function(e,t){return!(e<0||e>this.items)&&(this.value=e,t||this.valueSelected(this.value),this.value)},o.activate=function(e){e=e||this.value,this.$el.find("._rate-item").removeClass("active").filter(":lt("+e+")").addClass("active")},o.serialize=function(){return{items:this.items}},t}(i(471));e.exports=o},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1470),r=i(488),a=i(1468),l=i(584),c=s.extend({name:"FeedbackForm",el:!1,template:i(1467),events:{"blur textarea":"validateField","blur input":"validateField","keyup .field-box_incorrect > *":"validateField"},initialize:function(){this.model=new a({},{app:this.app}),this.listenTo(this.model,"invalid",this.showError)},prepareRender:function(){var e=this;this.setViews({"._rate-component":new o({valueSelected:function(){e.fieldReset(e.$("label.rate-box"))}}),"._phone-number":new l({required:!1,app:this.app})})},validateField:function(e){var t={},i=e.currentTarget;t[i.name]=i.value,this[this.model.preValidate(t)?"fieldIncorrect":"fieldReset"](this.$(i.parentNode))},showError:function(e,t){var i=this;n.each(this.$("label.field-box"),function(e){return i.fieldReset(i.$(e))}),n.each(t,function(e,t){i.fieldIncorrect(i.$("input[name="+t+"], textarea[name="+t+"], ._"+t+"-component").parent())})},serialize:function(){return{isUserLoggedIn:this.app.user.isLoggedIn()}},serializeForm:function(){var e={rate:this.getView("._rate-component").value,info:this.$("[name=info]").val(),feedback:this.$("[name=feedback]").val(),userAgent:navigator?navigator.userAgent:"",screen:screen?screen.width+"x"+screen.height:"",url:location?location.href:"",cookies:navigator?navigator.cookieEnabled?"yes":"no":""};return this.app.user.isLoggedIn()?e.email=this.app.user.get("email"):(e.email=this.$("[name=email]").val(),e.phone=this.getView("._phone-number").getCompiledPhoneNumber(),e.name=this.$("[name=name]").val()),e},submitForm:function(){var e=this.model.save(this.serializeForm(),{wait:!0,validate:!0});return e||Backbone.$.Deferred().reject()}});n.extend(c.prototype,r),e.exports=c},function(e,t,i){"use strict";var n=i(1),s=n(i(10)),o=n(i(494)),r=i(474),a=i(1471),l=i(127),c=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=l.FeedbackFormTitle,i.body=function(){return new a({app:i.app})},i.footer=[{label:l.SendBtn,hide:!1,color:"blue",defaultAction:!0,callback:"promptResolve"},{label:l.CancelBtn,hide:!0,callback:function(){return i.def.reject((0,o.default)(i))}}],i}return(0,s.default)(t,e),t.prototype.promptResolve=function(){var e=this,t=arguments;this.findView("FeedbackForm").submitForm().then(function(){e.hide(),e.def.resolve(t,e)})},t}(r);e.exports=c},function(e,t){e.exports=function(e){var t='<ul class="search-hints _search-hints';e.items.length||(t+=" hidden"),t+='">';var i=e.items;if(i)for(var n,s=-1,o=i.length-1;s<o;)(n=i[s+=1]).value&&(t+='<li class="search-hints__item _hint',n.selected&&(t+=" hint_active"),t+='" data-value="'+n.value+'"><span class="search-hints__item-text"><span class="search-hints__item-text_bold">'+e.query.trim()+"</span>"+n.cutValue+"</span></li>");return t+="</ul>"}},function(e,t){e.exports=function(e){var t='<div class="search-bar-type__container"><span class="search-bar-type__indicators search-bar-type-indicator"><i class="search-bar-type-indicator-hover"></i><i class="icon search-bar-type-indicator__icon';e.icon&&(t+=" search-bar-type-indicator__icon-type "+e.icon),t+='"></i><span class="search-bar-type-indicator__title',e.icon||(t+=" search-bar-type-indicator__title_all"),t+='">'+this.tr(e.label)+'</span><i class="arrow arrow-black search-bar-type-indicator__arrow arrow-bottom"></i></span><div class="search-bar-type__menu"><menu class="search-bar-type-menu">';var i=e.options;if(i)for(var n,s=-1,o=i.length-1;s<o;)"video"===(n=i[s+=1]).type&&s>0&&(t+='<li class="search-bar-type-menu__separator"></li>'),t+='<li class="search-bar-type-menu__item',n.active&&(t+=" search-bar-type-menu__item_active _active-type"),t+='"><label class="search-bar-type-menu__item-inner',n.parent&&(t+=" search-bar-type-menu__item-inner_sub"),t+='"><i class="search-bar-type-menu__item-ok icon icon-ok"></i><input class="search-bar-type-menu__item-radio _search-type" type="radio" name="file-types" value="'+n.id+'" /><i class="search-bar-type-menu__item-icon icon',n.icon?t+=" "+n.icon:t+=" icon-all-types",t+='"></i><span class="search-bar-type-menu__item-title">'+this.tr(n.label)+"</span></label></li>";return t+='<li class="search-bar-type-menu__item search-bar-type-menu__item_apply"><span class="search-bar-type-menu__apply">'+this.tr("Apply")+"</span></li></menu></div></div>"}},function(e,t,i){"use strict";e.exports=[{id:1,type:["photo","vector"],labelKey:"allPhoto"},{id:2,type:"photo",labelKey:"photo",icon:"icon-photo"},{id:3,type:"vector",labelKey:"vector",icon:"icon-vector"},{id:4,type:"video",labelKey:"video",icon:"icon-video"}]},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(471),o=i(62),r=i(126),a=i(1475),l=i(22).prefixedArrayString,c=i(11),h=c.searchBarTypes,u=c.searchBarPlaceholders;e.exports=s.extend({name:"SearchTypes",el:!1,collection:null,events:{"change ._search-type":"onTypeChange","click ._active-type":"onActiveTypeClick"},globals:{"scroll window":"onWindowScroll"},initialize:function(){this.prepareTypes(),this.listenTo(this.model,l("change:",this.model.mutable.type),this.onModelTypeChange),this.listenTo(o,"Responsive:CloseMobileMenu",this.observeCloseMobileMenu.bind(this)),this.listenTo(o,"Modal:HideAll",this.toggle.bind(this,!1))},serialize:function(){var e=this.getActiveOption();return{options:this.typeOptions,label:e.label,icon:e.icon}},prepareTypes:function(){var e=this,t=!1;this.typeOptions=n.chain(a).filter(function(t){var i=!0;return n.isArray(t.type)?n.each(t.type,function(t){i=i&&e.searchRestrictions.get(t)}):i=e.searchRestrictions.get(t.type),i}).map(function(i){var s=n.clone(i);if(n.isArray(i.type)){var o=!0;n.each(i.type,function(t){o=o&&e.model.get(t)}),o&&!t&&(s.active=!0,t=!0)}else!t&&e.model.get(i.type)&&(s.active=!0,t=!0);return s.labelKey&&(s.label=n.findWhere(h,{type:s.labelKey}).label.trim(),s.placeholder=n.findWhere(u,{type:s.labelKey}).label.trim(),s.placeholderMobile=n.findWhere(u,{type:"mobile"}).label.trim()),s}).value(),this.uniqueTypes=n.chain(this.typeOptions).pluck("type").flatten().uniq().value(),t||(this.typeOptions[0].active=!0)},getActiveOption:function(){return n.findWhere(this.typeOptions,{active:!0})},onTypeChange:function(e){var t=this.getActiveOption(),i=parseInt(e.target.value,10);t.id!==i&&(t.active=!1,(t=n.findWhere(this.typeOptions,{id:i})).active=!0,this.render(),this.app.observer.broadcast("Track:UE:SearchTypes:Change",{type:t.type}),this.onSearchTypesChangeCallback(this.makeHash(t.type)))},onActiveTypeClick:function(e){e.stopPropagation(),this.toggle(!1)},onModelTypeChange:function(){this.prepareTypes(),this.render()},onWindowScroll:n.throttle(function(){t.browser&&r.mobileMode()&&this.isOpen()&&this.toggle(!1)},10),makeHash:function(e){var t={};return n.each(this.uniqueTypes,function(i){t[i]="object"==typeof e?n.contains(e,i):e===i}),t},toggle:function(e){void 0===e&&(e=!this.isOpen());var t=e?!this.isOpen():!!e;r.mobileMode()&&e&&o.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.$(".search-bar-type__menu").toggleClass("search-bar-type__menu_opened",t),this.$(".search-bar-type-indicator__arrow").removeClass("arrow-top arrow-bottom").addClass("arrow-"+(t?"top":"bottom"))},isOpen:function(){return this.$(".search-bar-type__menu").hasClass("search-bar-type__menu_opened")},observeCloseMobileMenu:function(e){e.cid!==this.cid&&this.toggle(!1)},onSearchTypesChangeCallback:n.noop})}).call(this,i(5))},function(e,t){e.exports=function(e){return"<div>"+this.tr("Try our new Search by Image!")+"</div>"}},function(e,t){e.exports=function(e){return'<i class="search-bar__see-more-images-icon icon-search-by-image"></i>'}},function(e,t){e.exports=function(e){var t='<div class="sbi-modal modal _modal '+e.modalClasses+'">';return e.noBorder||(t+='<div class="modal__border"></div>'),t+='<div class="modal__dialog"><div class="modal__header sbi-modal__title _drag-handler">'+this.tr("Search by Image")+'</div><div class="modal__body sbi-modal__body _body '+e.bodyClasses+'">\x3c!--body mount--\x3e</div></div></div>'}},function(e,t,i){"use strict";e.exports.defaults={fileData:void 0,file:void 0,url:void 0,size:10485760,type:"image/jpg",width:10,height:10,searchType:"url",items:[]},e.exports.limits={size:[10],minResolution:[10,10],maxResolution:[1e4,1e4]},e.exports.validation={size:{max:10485760,msg:"ErrorMaxSize"},type:{oneOf:["image/jpeg","image/jpg","image/png","image/bmp","image/tif","image/tiff"],msg:"ErrorImageFormat"},width:[{min:10,msg:"ErrorMinWidth"},{max:1e4,msg:"ErrorMaxWidth"}],height:[{min:10,msg:"ErrorMinHeight"},{max:1e4,msg:"ErrorMaxHeight"}]}},function(e,t,i){"use strict";var n=i(1)(i(12)),s=i(0),o=i(9),r=i(1480),a=i(40),l=i(14);e.exports=o.extend({defaults:r.defaults,limits:r.limits,validation:r.validation,oldSync:!0,prepareUrl:function(e){return a.msisUrl+"/search"+(e?"/"+e:"")},sync:function(e,t,i){var n=this;void 0===i&&(i={}),this.get("url")?(i.data={url:l.encodeURI(this.get("url"))},i.url=this.prepareUrl("url"),i.emulateJSON=!0):(i.data=new FormData,i.data.append("file",this.get("file")),i.url=this.prepareUrl(),i.contentType=!1);var o=i.error||function(){};return i.error=function(e){n.trigger("serverError",n,e,s.pick(e,["status","statusText","responseJSON"]));for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];o.apply(void 0,[e].concat(i))},this.xhr=Backbone.sync.call(this,e,t,i),this.xhr},getItemsList:function(){return(0,n.default)(s.map(this.get("items"),function(e){return e.id}))},abort:function(){this.xhr&&this.xhr.readyState>0&&this.xhr.readyState<4&&this.xhr.abort()},parse:function(e){return e.errors&&(this.validationError=e.errors,this.trigger("invalid",this,e.errors,{validationError:e.errors})),e.data}})},function(e,t){e.exports=function(e){var t='<ul class="cmp-tabs">',i=e.scheme;if(i)for(var n,s=-1,o=i.length-1;s<o;)(n=i[s+=1]).enabled&&(t+='<li class="cmp-tabs__tab ',n.active&&(t+="cmp-tabs__tab_active"),t+=' _tab" data-key='+n.key+'><a class="cmp-tabs__label">'+this.tr(n.label)+"</a></li>");return t+="</ul>"}},function(e,t){e.exports=function(e){return'<div class="sbi-uploader"><div class="sbi-uploader__tab-switcher _search-images-tabs"></div><div class="sbi-uploader__form _upload-block"></div><div class="sbi-uploader__footer"><button class="button button-xxl button-blue _btn">'+e.btnName+'</button></div><i class="sbi-uploader__close icon icon-close-cross _close"></i></div>'}},function(e,t){e.exports=function(e){var t='<form name="UploadByImage" class="sbi-form sbi-form_file _submit" method="POST" enctype="multipart/form-data">';return e.fileData||e.blank?(t+='<div class="sbi-form__drop-zone-preview ',e.blank&&(t+="blank"),t+='"><div class="sbi-form__overlay _preview-overlay"></div><i class="sbi-form__loader cmp-img-loader _img-loader"><i class="cmp-img-loader__icon"></i><i class="cmp-img-loader__icon"></i><i class="cmp-img-loader__icon"></i></i><i class="sbi-form__round-loader cmp-round-loader _round-loader"><i class="cmp-round-loader__part cmp-round-loader__part_1"><i class="cmp-round-loader__inner"></i></i><i class="cmp-round-loader__part cmp-round-loader__part_2"><i class="cmp-round-loader__inner"></i></i><i class="cmp-round-loader__part cmp-round-loader__part_3"><i class="cmp-round-loader__inner"></i></i><i class="cmp-round-loader__part cmp-round-loader__part_4"><i class="cmp-round-loader__inner"></i></i></i>',e.fileData&&(t+='<img class="sbi-form__preview _preview" src="'+e.fileData+'" />'),t+="</div>"):t+='<div class="sbi-form__drop-zone _upload"><i class="sbi-form__icon"></i><span class="sbi-form__text">'+this.tr("Drag and drop image here")+"</span></div>",t+='<div class="sbi-uploader__errors _upload-errors"></div><span class="sbi-form__text sbi-form__text_or">'+this.tr("or")+'</span><input class="sbi-form__field-file _file-upload" type="file"></form>'}},function(e,t,i){"use strict";(function(e){var t=i(0),n=i(16),s=i(471),o=i(1046),r=i(127),a=i(6)(e);e.exports=s.extend({el:!1,template:i(1484),events:{"change ._file-upload":"onFileChange","click ._upload":"upload","drop ._upload":"onPreviewDrop","dragleave ._upload":"onPreviewDragLeave","dragover ._upload":"onPreviewDragOver"},initialize:function(){this.setViews({"._upload-errors":new o({model:this.model})}),this.listenTo(this.app.observer,"Search:imageLoaded",this.finishLoading)},serialize:function(){return t.clone(this.model.attributes)},clientAfterRender:function(){this.getView("._upload-errors").setErrorMessages(),this.imageRate&&this.previewResizing(),t.defer(this.onPreviewLoad.bind(this))},onFileChange:function(e){e.target.files.length>0&&this.prepareFile(e.target.files[0])},onPreviewDragOver:function(e){e.preventDefault(),e.stopPropagation(),this.toggleUpload(!0)},onPreviewDragLeave:function(e){e.preventDefault(),e.stopPropagation(),this.toggleUpload()},onPreviewDrop:function(e){e.preventDefault(),e.stopPropagation(),this.toggleUpload(),e.originalEvent.dataTransfer.files.length>0&&this.prepareFile(e.originalEvent.dataTransfer.files[0])},toggleUpload:function(e){this.$("._upload").toggleClass("dragged",e||!1)},onPreviewLoad:function(){this.$("._round-loader").addClass("cmp-round-loader_active")},finishLoading:function(){this.$("._round-loader").removeClass("cmp-round-loader_active").addClass("cmp-round-loader_finish"),this.$("._img-loader").addClass("cmp-img-loader_stop")},previewResizing:function(){var e=this.$(".sbi-form__drop-zone-preview"),t=e.width()/e.height();this.imageRate>t?this.$("._preview").attr("width",Math.round(e.width())):this.$("._preview").attr("height",Math.round(e.height()))},upload:function(){this.$("._file-upload").trigger("click")},prepareFile:function(e){if(this.onSearchByImageChange(t.pick(e,["size","type"])),this.model.isValid()){this.file=e;var i=new FileReader;i.onload=this.imageIsLoaded.bind(this),i.onerror=this.onImageError.bind(this),i.readAsDataURL(e)}},readerLoad:function(e){this.fileReader||(this.fileReader=new FileReader),this.fileReader.onload=e?this.loadBlank.bind(this):this.imageIsLoaded.bind(this),this.fileReader.onerror=this.onImageError.bind(this),this.fileReader.readAsDataURL(this.file)},loadBlank:function(){this.model.set({blank:!0}),this.setImageRate({target:this.$("._upload").get(0)})},imageIsLoaded:function(e){var t=e.target.result,i=t.split(":")[1];if(t&&i.length){var s=new Image;n.$(s).hide(),this.$el.prepend(s),this.onSearchByImageChange({fileData:t}),s.id="searchingImg",s.src=t,s.onload=this.setImageRate.bind(this),s.onerror=this.onImageError.bind(this)}else this.onImageError()},setImageRate:function(e){this.onSearchByImageChange(t.pick(e.target,["width","height"])),this.model.isValid()&&(this.imageRate=e.target.width/e.target.height,this.onSubmitDataCallback(this.file),this.render())},onImageError:function(){-1!==t.indexOf(["image/tiff","image/tif"],this.model.get("type"))?(this.onSearchByImageChange({fileData:void 0}),this.readerLoad(!0)):this.model.trigger("invalid",this.model,[this.tr(r.ErrorTryAgain)])},createThumb:function(e){try{localStorage.setItem("imgData",this.getBase64Image(e))}catch(e){a.info("There is a problem with local storage",e)}},getBase64Image:function(e){var t=document.createElement("canvas"),i=t.getContext("2d"),n={};return n.width=this.imageRate>=1?Math.round(30*this.imageRate):30,n.height=this.imageRate>=1?30:Math.round(30/this.imageRate),t.width=n.width,t.height=n.height,i.drawImage(e,0,0,n.width,n.height),t.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")},onSearchByImageChange:t.noop,onSubmitDataCallback:t.noop})}).call(this,i(3)(e))},function(e,t){e.exports=function(e){var t='<form name="UploadByUlr" class="sbi-form sbi-form_url _submit" method="POST" enctype="multipart/form-data"><div class="_sbi-spinner"></div><div class="_form-container"><span class="sbi-form__title">'+this.tr("Paste image URL")+'</span><label class="sbi-form__field field-box input-box _url_input-container input-box-xxl"><input class="input input-xxl _url_input" type="text" name="title"';return e.url&&(t+=' value="'+e.url),t+='" autocomplete="off" /></label><div class="sbi-uploader__errors _upload-errors"></div></div></form>'}},function(e,t){e.exports=function(e){var t="",i=e.errorMessages;if(i)for(var n=-1,s=i.length-1;n<s;)t+='<span class="sbi-form__text sbi-form__text_error">'+i[n+=1]+"</span>";return t}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(638),r=i(637).spinner,a=i(1046);e.exports=s.extend({el:!1,template:i(1486),regexpUrl:/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,events:{"input ._url_input":"onInput"},globals:{click:"onGlobalClick"},initialize:function(){this.spinner=null,this.setViews({"._upload-errors":new a({model:this.model})}),this.listenTo(this.model,"invalid",this.onInvalidAppear),this.listenTo(this.app.observer,"Search:imageLoaded",this.finishLoading)},serialize:function(){return n.clone(this.model.attributes)},clientAfterRender:function(){this.$("._url_input").focus()},onGlobalClick:function(e){this.$(e.target).hasClass("_url_input")?this.clearError():this.$("._url_input").blur()},onInput:function(){this.clearError()},onInvalidAppear:function(){this.finishLoading(),this.$("._url_input-container").addClass("field-box_incorrect")},clearError:function(){this.$("._url_input-container").removeClass("field-box_incorrect"),this.getView("._upload-errors").setErrorMessages()},upload:function(){var e=this.$("._url_input").val();this.checkUrl(e)?(this.onSearchByImageChange({url:e}),this.model.isValid()&&(this.onSubmitDataCallback(),this.loading())):this.$("._url_input-container").addClass("field-box_incorrect")},checkUrl:function(e){return e.match(this.regexpUrl)},loading:function(){this.spinner||(this.spinner=new o(r),this.spinner.spin(this.$("._sbi-spinner").get(0))),this.$("._form-container").hide(),this.$("._sbi-spinner").show()},finishLoading:function(){this.$("._form-container").show(),this.$("._sbi-spinner").hide()},onSearchByImageChange:n.noop,onSubmitDataCallback:n.noop})},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(487),r=i(1488),a=i(1485),l=i(63),c=i(127),h=i(11).searchImagesTabs(),u=i(1483),p=i(1482);e.exports=s.extend({el:!1,template:u,events:{"click ._btn":"onBtnClick","submit ._submit":"onSubmit"},initialize:function(){this.listenTo(this.model,"change:searchType",this.render)},prepareRender:function(){var e=l.get("10_uploadByImageTab");e&&e!==this.model.get("searchType")&&(this.model.set({searchType:e},{silent:!0}),this.app.userSettings.set({uploadByImageTab:e})),this.setViews({"._search-images-tabs":new o({app:this.app,template:p,model:this.model,schema:this.setTabsActive(),changeTabCallback:this.changeTabCallback.bind(this)}),"._upload-block":new("url"===this.model.get("searchType")?r:a)({app:this.app,model:this.model,onSearchByImageChange:this.onSearchByImageChange.bind(this),onSubmitDataCallback:this.onSubmitDataCallback.bind(this)})})},onSubmit:function(e){e.preventDefault(),e.stopPropagation(),this.doUpload()},onBtnClick:function(e){e.preventDefault(),e.stopPropagation(),this.doUpload()},setTabsActive:function(){var e=this;return n.map(h,function(t){return t.active=e.model.get("searchType")===t.key,t})},changeTabCallback:function(e){var t=e.get("key");this.model.resetToDefaults(n.without(n.keys(this.model.defaults),"searchType")),this.onSearchByImageChange({searchType:t}),this.app.userSettings.set({uploadByImageTab:t}),l.set("10_uploadByImageTab",t,{expires:"1Y"})},serialize:function(){return{btnName:this.tr("url"===this.model.get("searchType")?c.SearchByImageTitle:c.SearchImagesTitle)}},doUpload:function(){this.model.resetToDefaults(n.without(n.keys(this.model.defaults),"searchType")),this.getView("._upload-block").upload()},onSearchByImageChange:n.noop,onSubmitDataCallback:n.noop})},function(e,t,i){"use strict";var n=i(0),s=i(475),o=i(1489),r=i(1481),a=i(1479);e.exports=s.extend({template:a,initialize:function(){var e=this;this.model=new r,this.body=function(){return new o({app:e.app,model:e.model,onSearchByImageChange:e.onSearchByImageChange.bind(e),onSubmitDataCallback:e.onSubmitData.bind(e)})},this.footer=[],this.finishDelay=Math.floor(1500*Math.random())+1e3,this.delayCompleted=!0,this.delayCallback=null,this.listenTo(this.model,"sync",this.modelSyncCallback),this.listenTo(this.model,"invalid",this.modelInvalidCallback),this.listenTo(this.model,"serverError",this.modelServerErrorCallback)},onHideCallback:function(){this.model.abort(),this.model.resetToDefaults(n.without(n.keys(this.model.defaults),["searchType"]))},toggleLockUI:function(e){this.$("._tab, ._btn").prop("disabled",e||!1)},onSearchByImageChange:function(e){this.model.secureSet(e)},onSubmitData:function(e){var t=this;this.finishDelay&&(this.delayCompleted=!1,this.delayCallback=null,n.delay(function(){t.delayCallback&&(t.delayCallback(),t.delayCallback=null),t.delayCompleted=!0},this.finishDelay)),this.toggleLockUI(!0),this.model.save({file:e},{wait:!0})},modelServerErrorCallback:function(e,t,i){var n=i.responseJSON?this.handleErrors(i.responseJSON):this.parseBadResponse(i);this.model.trigger("invalid",this.model,n)},modelInvalidCallback:function(){this.toggleLockUI(!1)},modelSyncCallback:function(){this.delayCompleted?this.finishLoading():this.delayCallback=this.finishLoading.bind(this)},finishLoading:function(){var e=this;this.app.observer.fire("Search:imageLoaded"),this.app.observer.broadcast("Track:UE:Search:ByImage",{source:this.model.get("url")||"upload"}),this.toggleLockUI(!1),n.delay(function(){e.app.router.redirect(e.app.makeUrl("search/by-images",{query:{idList:e.model.getItemsList(),mode:e.model.get("searchType"),imageUrl:e.model.get("url")}}))})},handleErrors:function(e){var t=[];return n.each(e.errors,function(i){t.push(this.tr(i.message,e.meta.format||[]))},this),t},parseBadResponse:function(e){return n.map(e,function(e,t){return t+": "+e})}})},function(e,t,i){"use strict";(function(e){var t=i(471),n=i(1490),s=i(6)(e),o=i(473),r=i(472).SearchByImageIcon;e.exports=t.extend({name:"SearchByImage",el:!1,template:i(1478),events:{click:"onClick",mouseenter:"showImageSearchToolTip",mouseleave:"hideImageSearchToolTip"},clientAfterRender:function(){try{localStorage.removeItem("imgData")}catch(e){s.info("There is a problem with local storage",e)}this.setNotExistView("searchByImageToolTip",o,{params:r,content:new t({el:!1,template:i(1477)})})},showImageSearchToolTip:function(e){this.getView("searchByImageToolTip").show(e)},hideImageSearchToolTip:function(e){this.getView("searchByImageToolTip").hide(e)},onClick:function(e){e.stopPropagation(),this.getView("SearchByImage")||this.setView("SearchByImage",new n({app:this.app})),this.getView("SearchByImage").show()}})}).call(this,i(3)(e))},function(e,t){e.exports=function(e){var t='<div class="_content content-container';return e.customClassNames&&(t+=" "+e.customClassNames),t+='"',e.bgColor&&(t+=' style="background-color: #'+e.bgColor+'"'),t+="></div>"}},function(e,t){e.exports=function(e){var t='<a class="header__mobile-cart shopping-cart-box';return e.count>0&&(t+=" shopping-cart-box_full"),t+='" href="'+e.cartLink+'" rel="nofollow"><i class="icon icon-cart icon-cart-white"></i>',e.count>0&&(t+='<span class="header__mobile-cart-counter label label-counter label-counter-black">'+e.count+"</span>"),t+="</a>"}},function(e,t){e.exports=function(e){var t='<span class="cmp-livechat cmp-livechat-white cmp-livechat-';return e.online?t+="online":t+="offline",t+='">'+this.tr("Live Chat")+"</span>"}},function(e,t){e.exports=function(e){var t='<header class="header';return e.headerLite&&(t+=" header_lite"),e.headerFixedWidth&&(t+=" header_fixed-width"),e.headerWithoutSearchBar&&(t+=" header_without-search-bar"),e.headerPageName&&(t+=" header_page-"+e.headerPageName),t+='">',e.mobileMode||(t+='<section class="_notification"></section>'),t+='<section class="_test-cc"></section><section class="header__line-top header__line-top_full"><nav class="header__top-left"',e.tabsBreadcrumb&&(t+=' itemscope itemtype="http://data-vocabulary.org/Breadcrumb"'),t+='><a class="header__top-link header__top-link_first link-white" href="tel:'+e.phoneNumber+'">'+e.phoneNumber+'</a><i class="header__top-separator"></i><span class="header__top-langs _langs"><i class="header__top-langs-box icon icon-flag-'+e.activeLang+'"></i><i class="arrow arrow-white arrow-bottom header__top-langs-arrow"></i></span></nav><div class="header__top-right"><a class="header__top-right-link header__top-right-link_last _livechat"></a></div></section><section class="header__line-middle',e.isPinnedMobile&&(t+=" _header-mobile"),t+='"><div class="header__line-middle-box',e.isPinnedMobile&&(t+=" _header-mobile-pinner"),t+='"><div class="',e.isPinnedMobile?t+="header__mobile-top-box _mobile-top-box":t+="header__cell-box",t+='">',e.headerLite||(t+='<a class="header__mobile-top-menu button-mobile-menu _mobile-top-menu"><i class="header__mobile-menu-icon icon icon-top-menu"><i class="menu-part"></i><i class="menu-part"></i><i class="menu-part"></i></i></a>'),t+='<div class="header__cell header__cell-logo" itemtype="http://schema.org/Organization" itemscope><a class="header__logo-link',e.bigLogo&&(t+=" header__logo-link_big"),t+='" href="'+this.app.makeUrl("/")+'" itemprop="url"><img class="header__logo-image" src="'+this.app.cdnPath+"_img/",e.bigLogo&&(t+="index/"),t+='depositphotos-logo.png" alt="'+this.tr("Depositphotos Stock Photos")+'" itemprop="logo" /></a></div><a class="header__mobile-user-menu button-mobile-menu _mobile-user-menu"><i class="header__mobile-menu-icon icon icon-user-menu"></i></a><span class="header__mobile-cart-box _shopping-cart-indicator-header">\x3c!-- Render Mobile Shopping cart indicator here --\x3e</span></div><div class="header__mobile-menu _mobile-menu"></div><div class="header__cell header__cell-search-bar ',e.headerSearchBarCenter&&(t+="header__cell-search-bar_center"),e.headerPageName&&(t+=" search-bar-"+e.headerPageName),t+=' _search-bar"></div><div class="header__cell header__cell-user _user-bar"></div></div></section><section class="header__line-bottom __search-mobile"></section></header>'}},function(e,t){e.exports=function(e){var t='<header class="header';return e.isPinnedDesktop&&(t+=" _pinner"),e.headerLite&&(t+=" header_lite"),e.headerFixedWidth&&(t+=" header_fixed-width"),e.headerWithoutSearchBar&&(t+=" header_without-search-bar"),e.headerPageName&&(t+=" header_page-"+e.headerPageName),t+='">',e.mobileMode||(t+='<section class="_notification"></section>'),t+='<section class="_test-cc"></section><section class="header__line-top header__line-top_full"><ul class="header__top-left header__list"',e.tabsBreadcrumb&&(t+=' itemscope itemtype="http://data-vocabulary.org/Breadcrumb"'),t+=">",e.headerLite?t+='<li class="header__list-item"><a class="header__top-link header__top-link_first link-white" href="tel:'+e.phoneNumber+'">'+e.phoneNumber+"</a></li>":(t+='<li class="header__list-item"><a href="'+e.topLinks.photos+'" class="header__top-link header__top-link_first link-white"',"image"===e.tabsBreadcrumb&&(t+=' itemprop="url"'),t+="><span","image"===e.tabsBreadcrumb&&(t+=' itemprop="title"'),t+=">"+this.tr("Photos")+'</span></a></li><li class="header__list-item"><a href="'+e.topLinks.vectors+'" class="header__top-link link-white"',"vector"===e.tabsBreadcrumb&&(t+=' itemprop="url"'),t+="><span","vector"===e.tabsBreadcrumb&&(t+=' itemprop="title"'),t+=">"+this.tr("Vectors")+'</span></a></li><li class="header__list-item"><a href="'+e.topLinks.editorials+'" class="header__top-link link-white"',"editorial"===e.tabsBreadcrumb&&(t+=' itemprop="url"'),t+="><span","editorial"===e.tabsBreadcrumb&&(t+=' itemprop="title"'),t+=">"+this.tr("Editorial")+'</span></a></li><li class="header__list-item"><a href="'+e.topLinks.videos+'" class="header__top-link header__top-link_last link-white"',"video"===e.tabsBreadcrumb&&(t+=' itemprop="url"'),t+="><span","video"===e.tabsBreadcrumb&&(t+=' itemprop="title"'),t+=">"+this.tr("Videos")+"</span></a></li>"),t+='<li class="header__list-item"><i class="header__top-separator"></i><span class="header__top-langs _langs"><i class="header__top-langs-box icon icon-flag-'+e.activeLang+'"></i><i class="arrow arrow-white arrow-bottom header__top-langs-arrow"></i></span></li></ul><div class="header__top-right"><noindex><ul class="header__list"><li class="header__list-item',e.headerLite&&(t+=" header__top-right-link_last"),t+='"><a class="header__top-right-link _livechat"></a></li><li class="header__list-item"><i class="header__top-right-separator hidden"></i><a href="'+e.enterpriseLink+'" class="header__top-right-link link-white hidden">'+this.tr("Enterprise")+"</a></li>",e.headerLite||(t+='<li class="header__list-item header__top-right-link_last"><i class="header__top-right-separator"></i><a href="'+e.subscribeLink+'" class="header__top-right-link link-white">'+this.tr("Our Plans &amp; Prices")+"</a></li>"),t+="</ul></noindex></div></section>",e.isPinnedDesktop&&(t+='<section class="header__pinned _header-pinned"><div class="header__pinned-left"><a class="header__pinned-logo-box header__pinned-logo-box_big" href="'+this.app.makeUrl("/")+'"><i class="header__pinned-logo icon icon-logo-big"></i></a></div><div class="header__pinned-right _user-bar-pinned"></div></section>'),t+='<section class="header__line-middle',e.isPinnedMobile&&(t+=" _header-mobile"),t+='"><div class="header__line-middle-box',e.isPinnedMobile&&(t+=" _header-mobile-pinner"),t+='"><div class="',e.isPinnedMobile?t+="header__mobile-top-box _mobile-top-box":t+="header__cell-box",t+='">',e.headerLite||(t+='<a class="header__mobile-top-menu button-mobile-menu _mobile-top-menu"><i class="header__mobile-menu-icon icon icon-top-menu"><i class="menu-part"></i><i class="menu-part"></i><i class="menu-part"></i></i></a>'),t+='<div class="header__cell header__cell-logo" itemtype="http://schema.org/Organization" itemscope><a class="header__logo-link',e.bigLogo&&(t+=" header__logo-link_big"),t+='" href="'+this.app.makeUrl("/")+'" itemprop="url"><img class="header__logo-image" src="'+this.app.cdnPath+"_img/",e.bigLogo&&(t+="index/"),t+='depositphotos-logo.png" alt="'+this.tr("Depositphotos Stock Photos")+'" itemprop="logo" /></a></div><a class="header__mobile-user-menu button-mobile-menu _mobile-user-menu"><i class="header__mobile-menu-icon icon icon-user-menu"></i></a><span class="header__mobile-cart-box _shopping-cart-indicator-header">\x3c!-- Render Mobile Shopping cart indicator here --\x3e</span></div><div class="header__mobile-menu _mobile-menu"></div><div class="header__cell header__cell-search-bar ',e.headerSearchBarCenter&&(t+="header__cell-search-bar_center"),e.headerPageName&&(t+=" search-bar-"+e.headerPageName),t+=' _search-bar"></div><div class="header__cell header__cell-user _user-bar"></div></div></section><section class="header__line-bottom __search-mobile"></section></header>'}},function(e,t){e.exports=function(e){var t='<a class="user-bar-item shopping-cart-box';return e.count>0&&(t+=" shopping-cart-box_full"),t+='" href="'+e.cartLink+'"><i class="shopping-cart-box__icon icon icon-cart"></i><i class="shopping-cart-box__icon shopping-cart-box__icon_hover icon icon-cart-hover"></i>',e.count>0&&(t+='<span class="user-bar-item__counter label label-counter">'+e.count+"</span>"),t+="</a>"}},function(e,t){e.exports=function(e){return'<div class="testcc-bar _bar"><span class="testcc-bar__text">Override country ip mode. Current locale: '+e.activeLocale+'</span><i class="testcc-bar__close icon icon-close-cross icon-close-cross-white icon-close-cross-small _close"></i></div>'}},function(e,t,i){"use strict";(function(e){var t=i(1)(i(698)),n=i(104),s=i(471),o=i(6)(e),r=i(1498);e.exports=s.extend({name:"TestCCBar",el:!1,template:r,events:{"click ._close":"onCloseClick"},prepareRender:function(){return!(!this.app.features.isFeatureOnValue("Override country ip")||!this.getActiveLocale())},serialize:function(){return{activeLocale:this.getActiveLocale()}},getActiveLocale:function(){return this.app.features.get("Override country ip").get("value")},close:function(e){this.$el.slideUp(500,e)},disableFeature:function(){var e=this;return new t.default(function(t,i){e.app.features.sync(null,e.app.features,{url:"EditFeature",getQueryParams:{name:"Override country ip",value:0},success:function(e){return t(e.cookieName)},error:function(e){return i(e)}})})},removeCookie:function(e){n.remove(e)},onCloseClick:function(){var e=this;this.disableFeature().then(function(t){return e.close(function(){e.removeCookie(t),window.location.reload()})}).catch(function(e){return o.warn("Some error while disabling feature.",e)})}})}).call(this,i(3)(e))},function(e,t){e.exports=function(e){var t='<div class="notification-bar _bar';return e.barLink&&(t+=" notification-bar__link"),e.animated||(t+=" notification-bar_visible"),t+='" data-href="'+e.barLink+'" data-id="'+e.id+'" style="'+e.barStyleString+'"><div class="notification-bar__content',"center"===e.buttonPosition&&(t+=" notification-bar__content_center"),t+='">',"center"===e.buttonPosition?(e.message&&(t+='<span class="notification-bar__text" style="'+e.messageStyleString+'">'+e.message+"</span>"),e.buttonText&&(t+='<a class="notification-bar__button button button-l _button ',!e.buttonColorIsCustom&&e.buttonColorPreset&&(t+=""+e.buttonColorPreset),t+='" href="'+e.buttonLink+'" style="'+e.buttonStyleString+'">'+e.buttonText+"</a>")):"right"===e.buttonPosition?(e.message&&(t+='<span class="notification-bar__text notification-bar__text_left" style="'+e.messageStyleString+'">'+e.message+"</span>"),e.buttonText&&(t+='<div class="notification-bar__button-box"><a class="notification-bar__button button button-l _button ',!e.buttonColorIsCustom&&e.buttonColorPreset&&(t+=""+e.buttonColorPreset),t+='" href="'+e.buttonLink+'" style="'+e.buttonStyleString+'">'+e.buttonText+"</a></div>")):"left"===e.buttonPosition&&(e.buttonText&&(t+='<div class="notification-bar__button-box"><a class="notification-bar__button button button-l _button ',!e.buttonColorIsCustom&&e.buttonColorPreset&&(t+=""+e.buttonColorPreset),t+='" href="'+e.buttonLink+'" style="'+e.buttonStyleString+'">'+e.buttonText+"</a></div>"),e.message&&(t+='<span class="notification-bar__text notification-bar__text_right" style="'+e.messageStyleString+'">'+e.message+"</span>")),t+='<i class="notification-bar__close icon icon-close-cross icon-close-cross-white icon-close-cross-small _close"></i></div></div>'}},function(e,t,i){"use strict";e.exports={barPropertiesSchema:[{targetLablel:"bgrColor",label:"background-color",renderCssProperty:function(e,t){return e+": "+t}},{targetLablel:"bgrImage",label:"background-image",renderCssProperty:function(e,t){return e+": url('"+t+"')"}},{targetLablel:"height",label:"height",renderCssProperty:function(e,t){return e+": "+t+"px"}}],buttonPropertiesSchema:[{targetLablel:"buttonColor",label:"background-color",renderCssProperty:function(e,t){return e+": "+t}},{targetLablel:"buttonTextColor",label:"color",renderCssProperty:function(e,t){return e+": "+t}},{targetLablel:"buttonMinWidth",label:"min-width",renderCssProperty:function(e,t){return e+": "+t+"px"}}],messagePropertiesSchema:[{targetLablel:"messageColor",label:"color",renderCssProperty:function(e,t){return e+": "+t}}]}},function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(471),r=i(638),a=i(637).spinner,l=i(1501),c=i(1500);e.exports=o.extend({name:"NotificationBar",el:!1,template:c,events:{click:"onClick","click ._button":"onButtonClick","click ._close":"onCloseClick"},initialize:function(){var e=this;this.notifications=this.app.store.get("Notifications"),this.spinner=new r(a),this.listenTo(this.app.observer,"API:events",function(t){t.events.notifBar&&e.notifications.add(t.events.notifBar)}),this.listenTo(this.notifications,"request sync",this.onNotificationRequestedOrSynced),this.listenTo(this.notifications,"change:accepted",this.onNotificationAcceptChange),this.listenTo(this.notifications,"update",this.render)},notificationHasRequiredAttrs:function(e){return!!e.get("bgrImage")||!!e.get("message")||!!e.get("buttonText")},prepareRender:function(){return!!this.notifications.length&&this.notificationHasRequiredAttrs(this.notifications.last())},getStyleString:function(e){var t=[],i=this.notifications.last().serialize();return n.each(e,function(e){null!==i[e.targetLablel]&&t.push(e.renderCssProperty(e.label,i[e.targetLablel]))}),t.join("; ")},serialize:function(){var e=l.barPropertiesSchema,t=l.buttonPropertiesSchema,i=l.messagePropertiesSchema,s=this.notifications.last();return n.extend({barStyleString:this.getStyleString(e),buttonStyleString:this.getStyleString(t),messageStyleString:this.getStyleString(i)},s.serialize())},clientAfterRender:function(){if(this.haveNotificationTest(),this.prepareRender()){var e=this.notifications.last();e.get("animated")?n.delay(n.bind(function(){this.$el.slideDown(500),this.app.observer.broadcast("Track:UE:Autobar:Show",{id:e.get("id")})},this),2500):this.app.observer.broadcast("Track:UE:Autobar:Show",{id:e.get("id")})}},onClick:function(e){e.preventDefault();var t=this.notifications.get(this.getNotificationID(e));this.app.observer.broadcast("Track:UE:Autobar:BackClick",{id:t.get("id")}),t.get("barLink")&&t.set({accepted:!0},{redirect:e.currentTarget.getAttribute("data-href")})},onButtonClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.notifications.get(this.getNotificationID(e));this.app.observer.broadcast("Track:UE:Autobar:ButtonClick",{id:t.get("id")}),t.set({accepted:!0},{redirect:e.currentTarget.href})},onCloseClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.notifications.get(this.getNotificationID(e));this.app.observer.broadcast("Track:UE:Autobar:CloseClick",{id:t.get("id")}),t.set({accepted:!1},{silent:!0}),this.onNotificationAcceptChange(t)},onNotificationAcceptChange:function(e,t,i){var n=this;e.get("aggressiveLevel")?this.redirectOrHideNotify(i&&i.redirect):e.save().then(function(){n.redirectOrHideNotify(i&&i.redirect)})},onNotificationRequestedOrSynced:function(e,t){this.toggleSpinner(t.state&&"pending"===t.state())},toggleSpinner:function(e){this.spinner[e?"spin":"stop"](this.el)},getNotificationID:function(e){return s.$(e.currentTarget).closest("._bar").attr("data-id")},redirectOrHideNotify:function(e){e?this.app.router.redirect(e):this.$el.slideUp(this.notifications.last().get("animated")?500:0)},haveNotificationTest:function(){this.app.queryParams&&this.app.queryParams.test_force_notification_bar&&this.notifications.create({id:this.app.queryParams.test_force_notification_bar},{wait:!0}).fetch()}})},function(e,t){e.exports=function(e){var t='<div class="langs-list">',i=e.locales;if(i)for(var n=-1,s=i.length-1;n<s;){t+='<div class="langs-list__column">';var o=i[n+=1];if(o)for(var r,a=-1,l=o.length-1;a<l;)!0===(r=o[a+=1]).active&&(e.activeLang===r.key?t+='<span class="langs-list__item langs-list__item_active"><i class="langs-list__item-icon icon icon-flag-'+r.key+'"></i><span class="langs-list__item-name">'+r.name+"</span></span>":t+='<a href="'+r.url+'" class="langs-list__item _link"><i class="langs-list__item-icon icon icon-flag-'+r.key+'"></i><span class="langs-list__item-name">'+r.name+"</span></a>");t+="</div>"}return t+="</div>"}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(62),r=i(1027),a=i(1049);e.exports=s.extend({el:!1,template:a,headerWithoutSignUpButton:!1,events:{"click ._user-switch-account":"onUserSwitchAccount","click ._mobile-menu-top":"onMobileMenuTopClick","click ._mobile-menu-user":"onMobileMenuUserClick","click ._user-logout":"onUserLogoutClick"},globals:{"scroll window":"onWindowScroll"},initialize:function(){this.listenTo(o,"Responsive:CloseMobileMenu",this.observeCloseMobileMenu.bind(this))},serialize:function(){return{user:this.app.user.clone(),showEarnedMoney:this.showEarnedMoney(),showSpecial:this.showSpecial,isEnterprise:this.app.user.isEnterprise(),headerWithoutSignUpButton:this.headerWithoutSignUpButton,menuLinks:this.getMenuLinks()}},showEarnedMoney:function(){return!this.app.user.isEnterprise()&&this.app.user.get("balance")>0},getMenuLinks:function(){return{requestEarnings:this.app.makeUrl("request_earnings"),subscribe:this.app.makeUrl("subscribe"),stockPhotography:this.app.makeUrl("stock-photography"),stockVectors:this.app.makeUrl("stock-vectors"),editorialPhotography:this.app.makeUrl("editorial-photography"),stockVideos:this.app.makeUrl("stock-videos"),sellerPrice:this.app.makeUrl("seller-price"),purchased:this.app.makeUrl("purchased"),invoices:this.app.makeUrl("invoices"),profile:this.app.makeUrl("profile"),logout:this.app.makeUrl("login/logout",{backURL:!0}),comparison:this.app.makeUrl("plans-comparison"),compareLicenses:this.app.makeUrl("compare-licenses"),login:this.app.makeUrl("login",{backURL:!0}),signup:this.app.makeUrl("signup",{backURL:!0})}},toggleTopMenu:function(){o.fire("Responsive:CloseHints"),o.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.$("._mobile-menu-user").addClass("hidden"),this.$("._mobile-menu-top").toggleClass("hidden")},toggleUserMenu:function(){o.fire("Responsive:CloseHints"),o.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.$("._mobile-menu-top").addClass("hidden"),this.$("._mobile-menu-user").toggleClass("hidden")},hideMenu:function(){this.$("._mobile-menu-top, ._mobile-menu-user").addClass("hidden")},onMobileMenuTopClick:function(e){e.stopPropagation()},onMobileMenuUserClick:function(e){e.stopPropagation()},observeCloseMobileMenu:function(e){e.cid!==this.cid&&this.hideMenu()},onUserLogoutClick:function(e){e.preventDefault(),this.onLogoutCallback()},onUserSwitchAccount:function(e){var t=this;r.sendRequest({url:"SwitchAccount",success:function(){t.app.router.redirect(t.app.makeUrl("home"))}})},onWindowScroll:n.throttle(function(){this.hideMenu()},10),onLogoutCallback:n.noop})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(0),s=i(150).vsprintf,o=function(){function e(e){if(!e.app)throw Error("app is required option parameter");this.app=e.app,this.queryFormat=e.queryFormat||"filter[%s]",this.queryRegexp=e.queryRegexp||/^filter\[(\w+)\]$/i,this.allowedKeys=e.allowedKeys||[],this.attributes={}}var t=e.prototype;return t.parseQuery=function(){var e=this;n.each(this.app.queryParams,function(t,i){var n=i.match(e.queryRegexp);n&&e.set(n[1],t)})},t.set=function(e,t){var i;return n.isObject(e)?i=n.clone(e):(i={})[e]=t,!n.difference(n.keys(i),this.allowedKeys).length&&(n.extend(this.attributes,i),!0)},t.getAttribute=function(e){return this.attributes[e]||""},t.register=function(e){return-1===n.indexOf(this.allowedKeys,e)&&(this.allowedKeys.push(e),!0)},t.getAttributes=function(){var e={};return n.each(this.attributes,function(t,i){t&&(e[i]=t)}),e},t.getQueryParams=function(){var e=this,t={};return n.each(this.attributes,function(i,n){i&&(t[s(e.queryFormat,[n])]=i)}),t},e}();e.exports=function(e){return new o(e)}},function(e,t,i){"use strict";var n=i(0),s=i(9),o=[24,40,80,160];e.exports=s.extend({defaults:{url:void 0,offsetByItems:!1,offset:0,limit:o[0],count:0,page:1,pagesCount:null,pagerLimit:1,remove:!0},validation:{offset:{required:!0,pattern:/^[0-9]\d*$/,min:0,fn:function(e){return e>this.get("itemsCount")?"Error":""}},limit:{required:!0,oneOf:o},page:{required:!0,pattern:/^[1-9]\d*$/,min:1,fn:function(e){return this.get("pagesCount")&&e>this.get("pagesCount")?"Error":""}}},filterHelper:null,initialize:function(e,t){this.filterHelper=t.filterHelper||this.filterHelper,this.on("change",this.calculate)},isPageableCorrectPage:function(e){return(e-1)*this.get("limit")<this.get("count")},setPage:function(e){this.secureSet({offset:(e-1)*this.get("limit"),page:e})},calculate:function(){this.attributes.page=Math.floor(parseInt(this.get("offset")/this.get("limit"),10))+1,this.attributes.pagesCount=Math.ceil(parseFloat(this.get("count")/this.get("limit")))},getLastPageUrl:function(){return this.app.makeUrl(n.extend(this.toJSON(),this.get("offsetByItems")?{route:this.options.route,offset:this.get("pagesCount")*this.get("limit")}:{route:this.options.route,page:this.get("pagesCount")}))},getSchema:function(){var e=this,t={current:this.getUrl(),buttons:{prev:[],next:[]},next:"",prev:"",activeButton:!1},i=function(t){if(t<=0||t>e.get("pagesCount"))return null;if(e.get("offsetByItems")){var i=(t-1)*e.get("limit");return e.getUrl({offset:i})}return e.getUrl({page:t})};t.next=i(this.get("page")+1),t.prev=i(this.get("page")-1);for(var n=1;n<=this.get("pagerLimit");n++)t.activeButton=t.activeButton?t.activeButton:n===this.get("page"),t.buttons.prev.push({page:n,href:i(n),active:n===this.get("page")});for(var s=this.get("pagesCount")-this.get("pagerLimit")+1;s<=this.get("pagesCount");s++)t.activeButton=t.activeButton?t.activeButton:s===this.get("page"),t.buttons.next.push({page:s,href:i(s),active:s===this.get("page")});return t},getUrl:function(e){return this.app.makeUrl(n.extend(this.toJSON(),{route:this.options.route||this.app.router.routeName,query:this.filterHelper.getQueryParams()},e))},isPagerLimitAvailable:function(){return+this.get("count")>o[0]}})},,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t='<div class="modal refill-membership-modal _modal"><div class="modal__dialog"><div class="refill-membership-modal__header _drag-handler"><i class="refill-membership-modal__close icon icon-close-cross _close"></i></div><div class="refill-membership-modal__body _body">\x3c!--body mount--\x3e</div>';if(e.footer.length){t+='<div class="refill-membership-modal__footer _footer">';var i=e.footer;if(i)for(var n=-1,s=i.length-1;n<s;)i[n+=1],t+='<button class="_btn refill-membership-modal__footer-btn button button-blue',e.discount&&(t+=" button-has-discount"),t+=' button-xxl button-upper plan-constructor__buy"',e.discount&&(t+=' data-discount="-'+e.discount+'%"'),t+=">"+this.tr("BUY DOWNLOADS")+"</button>";t+="</div>"}return t+="</div></div>"}},function(e,t){e.exports=function(e){var t='<div class="merchant-manager '+e.classNames+'"><div class="merchant-manager_fields"><div class="merchant-manager__item"><label class="merchant-manager__field merchant-manager__field_number field-box input-box input-box-xxxl"><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><input type="hidden" name="cardId" value="'+e.attributes.cardId+'" /><input class="input input-xxxl _cardPan" type="text" name="pan" maxlength="27"value="" autofocus placeholder="'+this.tr("Credit Card Number")+'" /></label></div><div class="merchant-manager__item merchant-manager__item_exp"><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-xxxl"><select class="select select-xxxl _expiryMonth" name="expiryMonth">',i=e.expiration.months;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<option value="'+(n=i[s+=1])+'"',e.attributes.expiryMonth===n&&(t+=" selected"),t+=">"+n+"</option>";t+='</select><i class="arrow arrow-black arrow-bottom"></i></div><span class="merchant-manager__exp-sep">/</span><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-xxxl"><select class="select select-xxxl _expiryYear" name="expiryYear">';var r=e.expiration.years;if(r)for(var a,l=-1,c=r.length-1;l<c;)t+='<option value="'+(a=r[l+=1])+'"',e.attributes.expiryYear===a&&(t+=" selected"),t+=">20"+a+"</option>";return t+='</select><i class="arrow arrow-black arrow-bottom"></i></div></div><div class="merchant-manager__item merchant-manager__item_cvv"><label class="merchant-manager__field merchant-manager__field_cvv field-box input-box input-box-xxxl"><input class="input input-xxxl _cvv" type="password" name="cvv" maxlength="4"value="" placeholder="'+this.tr("CVV / CVC")+'"/><i class="merchant-manager__icon-card icon icon-card field-box__right-elem _card-helper"></i><i class="merchant-manager__icon-help icon icon-help _card-helper"></i></label></div><div class="merchant-manager__item"><div class="g-recaptcha _captcha" data-sitekey="'+e.captcha.siteKey+'"></div></div><div class="merchant-manager__item _errorHolder"><div class="field-box"></div></div></div></div>'}},function(e,t){e.exports=function(e){var t='<form class="refill-membership-form" method="GET" action="'+this.app.makeUrl("subscribe/billing")+'"><input type="hidden" name="backURL[page]" value="'+e.backUrl+'" /><input type="hidden" name="product" value="bundle" /><input type="hidden" name="type" value="monthly" />';e.addNewCard&&(t+='<span class="refill-membership-form__back _back"><i class="refill-membership-form__back-arrow arrow-back"></i><i class="refill-membership-form__back-arrow refill-membership-form__back-arrow_hover arrow-back-dark"></i>'+this.tr("Back")+"</span>"),t+='<div class="refill-membership-form__add-card ',e.addNewCard||(t+=" hidden"),t+='"><span class="refill-membership-form__title">'+this.tr("Add Credit Card")+'</span><span class="refill-membership-form__text">'+this.tr("Please enter your card details by using the form below")+'</span><div class="_merchant-card-manager"></div></div><div class="refill-membership-form__wrap _wrap',e.addNewCard&&(t+=" hidden"),t+='"><span class="refill-membership-form__text">'+this.tr(e.label)+'</span><span class="refill-membership-form__tabs-title">'+this.tr("Downloads")+'</span><div class="refill-membership-form__tabs-box cmp-tabs cmp-tabs_radio cmp-tabs_big">';var i=e.offers;if(i)for(var n=-1,s=i.length-1;n<s;)t+='<label class="refill-membership-form__tab cmp-tabs__tab"><input class="cmp-tabs__radio _plan-downloads" type="radio" name="id"value="'+(r=i[n+=1]).offerID+'"',r.checked&&(t+=' checked="checked"'),t+='data-count="'+r.count+'" /><span class="cmp-tabs__label">'+r.count+"</span></label>";t+="</div>";var o=e.offers;if(o)for(var r,a=-1,l=o.length-1;a<l;)(r=o[a+=1]).checked&&(t+='<div class="refill-membership-form__price',r.prices.vatEnabled&&(t+=" refill-membership-form__price_vat _price-info"),e.openedPriceBox&&(t+=" active"),t+='"><span class="refill-membership-form__price-title">'+this.tr("Price")+this.tr(":")+'</span><span class="refill-membership-form__price-value">'+r.prices.full+"</span>",r.prices.vatEnabled&&(t+='<span class="refill-membership-form__price-sep">|</span><span class="refill-membership-form__price-vat">'+this.tr("VAT %s%%",100*e.user.vatHelper.vat)+'</span><i class="refill-membership-form__arrow arrow arrow-bottom"></i><i class="refill-membership-form__arrow refill-membership-form__arrow_active arrow arrow-top"></i>'),t+="</div>",r.prices.vatEnabled&&(t+='<div class="refill-membership-form__price-info _price-info-box',e.openedPriceBox&&(t+=" active"),t+='"><div class="refill-membership-form__vat _vat"></div><div class="refill-membership-form__price-table"><div class="refill-membership-form__price-row"><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+this.tr("Subtotal")+':</div></div><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box"><div class="refill-membership-form__price-start',r.prices.discounted&&(t+=" refill-membership-form__price-start_discounted"),t+='">'+r.prices.start+"</div>",r.prices.discounted&&(t+='<div class="refill-membership-form__price-discounted">'+r.prices.discounted+"</div>"),t+='</div></div></div><div class="refill-membership-form__price-row"><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+this.tr("VAT %s%%",100*e.user.vatHelper.vat)+':</div></div><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+r.prices.vat+'</div></div></div><div class="refill-membership-form__price-row"><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+this.tr("Total:")+'</div></div><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+r.prices.full+"</div></div></div></div></div>"));return t+='<div class="refill-membership-form__cards"><div class="refill-cards _cards',e.cards.length||(t+=" _add"),t+='"><span class="refill-cards__title">'+this.tr("Purchase using:")+"</span>",e.card?(e.card.type&&e.card.type.length&&(t+='<i class="refill-cards__type refill-cards__type_'+e.card.type+'"></i>'),t+='<span class="refill-cards__number">'+e.card.number+"</span>",e.cards.length>0&&(t+='<i class="refill-cards__arrow arrow arrow-bottom arrow-block-1"></i>')):t+='<span class="refill-cards__add">'+this.tr("Add Credit Card")+"</span>",t+='</div></div><div class="refill-membership-form__captcha"><div class="g-recaptcha _captcha" data-sitekey="'+e.captcha.siteKey+'"></div></div>',e.addNewCard||(t+='<div class="refill-membership-form__error _errorHolder"><div class="field-box"></div></div>'),t+="</div></form>"}},function(e,t){e.exports=function(e){return'<div class="modal payment-failure-modal _modal"><div class="modal__border"></div><div class="modal__dialog"><div class="modal__header _drag-handler"><i class="icon payment-failure-modal__icon"></i><span class="modal__title">'+this.tr("Payment Failure")+'</span><i class="modal__close-button button-close-simple _close"></i></div><div class="modal__body _body"><h3 class="payment-failure-modal__title">'+e.credentials+'</h3><p class="payment-failure-modal__text">'+this.tr("We're unable to process your payment right now.<br /> Since your important & highly-valued client, we offer you an alternative payment method, to complete your transaction.")+'</p><button class="button button-xxl button-green payment-failure-modal__button _proceed">'+this.tr("Proceed")+'</button></div><div class="modal__footer _footer"><p class="payment-failure-modal__footer-text">'+this.tr("In case of further question or doubts, you're welcome to contact us:")+'</p><p class="payment-failure-modal__footer-text"><span class="payment-failure-modal__phone">'+e.supportPhone+'</span><a class="link-blue _live-chat"></a></p></div></div></div>'}},function(e,t){e.exports=function(e){var t='<div class="cards-selector">';if(e.cards){t+='<div class="cards-selector__list-box">';var i=e.cards;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<div class="cards-selector__list-row _card" data-id="'+(n=i[s+=1]).id+'"><div class="cards-selector__list-cell cards-selector__list-cell_status">',e.currentCard.id===n.id&&(t+='<i class="cards-selector__ok icon icon-ok"></i>'),t+='</div><div class="cards-selector__list-cell cards-selector__list-cell_type">',n.type&&n.type.length&&(t+='<i class="cards-selector__type cards-selector__type_'+n.type+'"></i>'),t+='</div><div class="cards-selector__list-cell">'+n.number+'</div><div class="cards-selector__list-cell cards-selector__list-cell_exp">'+n.expire+"</div></div>";t+="</div>"}return t+='<div class="cards-selector__add-box _add-card"><i class="cards-selector__add-icon icon icon-add"></i><i class="cards-selector__add-icon cards-selector__add-icon_hover icon icon-add-hover"></i><span class="cards-selector__add-text">'+this.tr("Add New Card")+"</span></div></div>"}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1562);e.exports=s.extend({name:"CardsSelector",el:!1,template:o,events:{"click ._card":"onCardClick","click ._add-card":"onAddCardClick"},serialize:function(){return{cards:this.collection.serializeToView(),currentCard:this.currentCard||{}}},onCardClick:function(e){e.stopPropagation(),this.changeCardCallback(e.currentTarget.getAttribute("data-id"))},onAddCardClick:function(e){e.stopPropagation(),this.addCardCallback(),this.app.observer.broadcast("Track:UE:Billing:BundleAddCardClick")},changeCardCallback:n.noop,addCardCallback:n.noop})},function(e,t){e.exports=function(e){return'<div class="vat-number-help"><p class="vat-number-help__title">'+this.tr("What is VAT registration?")+'</p><span class="vat-number-help__text">'+this.tr("We apply all applicable taxes to your order based on your billing region. Entering a valid registration number for your region lets us know whether or not charge you VAT.")+"</span></div>"}},function(e,t){e.exports=function(e){var t='<div class="vat-form">';return e.editMode?(t+='<form class="vat-form__form"><input class="vat-form__form-input input input-s _field" type="text"name="number" placeholder="'+this.tr("VAT registration")+'" value="'+e.model.number+'" autocomplete="off"><button class="vat-form__form-button button button-s button-grey"type="submit">'+this.tr("Apply")+"</button></form>",e.canClose&&(t+='<i class="vat-form__form-close button-reset _close"></i>')):t+='<span class="vat-form__link _link">'+e.linkLabel+'</span><i class="vat-form__icon-help icon icon-help _help"></i>',t+="</div>"}},function(e,t,i){"use strict";var n=i(1)(i(131)),s=i(0),o=i(2),r=i(638),a=i(512),l=i(473),c=i(920),h=i(1563),u=i(797),p=i(908),d=i(907),f=i(747),m=i(654),g=i(615),b=i(40),_=i(472),v=i(637),y=i(100).captchaErrors,w=i(1560),x=i(1559),C=s.range(1,13);e.exports=a.extend({name:"RefillMembershipForm",el:!1,template:w,type:"notAvailable",openedPriceBox:!1,events:{"change ._plan-downloads":"onChangeActiveOffer","click ._cards":"onCardsClick","click ._add":"onAddClick","click ._back":"onBackClick","click ._price-info":"onPriceInfoClick"},initialize:function(){this.model=new d({},{app:this.app}),this.cardModel=this.model.get("card"),this.injectUserField(),this.listenTo(this.app.user,"sync",this.render),this.listenTo(this.model,{request:this.handleModelRequest,sync:this.handleModelReady,error:this.handleModelError}),this.listenTo(this.app.user.get("vatHelper"),"change:vat",this.render),this.calculateVatByCard()},prepareRender:function(){this.removeView("._merchant-card-manager"),this.addNewCard&&this.setView("._merchant-card-manager",new u({app:this.app,template:x,classNames:"merchant-manager_large",onModelChangeCallback:this.onCardChangeCallback.bind(this)})),this.app.user.isVatEnabled()&&this.setView("._vat",new c({app:this.app,canClose:!0,fieldPlaceholder:this.tr("VAT registration")}))},serialize:function(){var e=this.collection.serializeLikeOffers();return{label:s.findWhere([{key:"notAvailable",label:this.tr("You are out of downloads on your plan! Do you want to buy more?")},{key:"purchased",label:this.tr("You already purchased this plan. Do you want to buy more downloads?")},{key:"buyMore",label:this.tr("Please select how many downloads you would like to buy:")}],{key:this.type}).label,user:this.app.user.serialize(),offers:e,currentCurrency:this.app.config.currency.active.name,backUrl:this.backUrl,card:this.getCard(),cards:this.cards.serializeToView(),addNewCard:this.addNewCard,openedPriceBox:this.openedPriceBox,captcha:{siteKey:b.recaptcha.publicKey}}},clientAfterRender:function(){this.hasLoading||(this.hasLoading=!0,this.loading(!0)),this.removeView("CardsTooltip"),this.setNotExistView("CardsTooltip",l,{name:"CardsTooltip",keep:!0,params:_.Cards,content:new h({app:this.app,collection:this.cards,currentCard:this.cardModel,changeCardCallback:this.changeCardCallback.bind(this),addCardCallback:this.addCardCallback.bind(this)})}),this.addNewCard&&this.$("._cardPan").trigger("focus")},calculateVatByCard:function(e){void 0===e&&(e=this.cardModel),e&&this.app.user.get("vatHelper").calculateByCard(e.get("id"),e.get("bin"),e.get("billingName"))},submitForm:function(){this.addNewCard||this.cards&&this.cards.length?(this.prepareSubmit(),this.validate()&&this.submit()):this.addCardCallback()},prepareSubmit:function(){this.model.set({card:this.cardModel,product:this.getPlan(),captcha:this.getCaptchaValue()}),this.resetErrors()},validate:function(){return this.isManagerAvailable()?this.getView("._merchant-card-manager").validate():!(this.$(".g-recaptcha-response").length&&!this.$(".g-recaptcha-response").val())||(this.fieldIncorrect(this.$("._captcha").parent(),{errorMessage:"Please check the ReCaptcha check box."}),!1)},submit:function(){this.model.save({},{validate:!1,parse:!0})},handleModelRequest:function(){this.isManagerAvailable()&&this.getView("._merchant-card-manager").resetCaptchaError(),this.onRequestCallback()},handleModelReady:function(e,t){this.onSyncCallback(),t.errors?this.isManagerAvailable()&&this.getView("._merchant-card-manager").resetCaptcha():this.doAfterPurchase()},showCaptcha:function(){this.isManagerAvailable()?this.getView("._merchant-card-manager").showCaptcha():g.injectScript(this.$("._captcha")[0])},getCaptchaValue:function(){return this.isManagerAvailable()?this.getView("._merchant-card-manager").getCaptchaValue():this.$(".g-recaptcha-response").length?this.$(".g-recaptcha-response").val():""},handleModelError:function(e,t){var i=this,o=m.parse(this.app,t.errors);s.each(o,function(e){var t=e.code,s=(e.field,e.message);(0,n.default)(y).includes(t)?i.showCaptcha():m.isPaymentFailureError(t)?new p({app:i.app}).show():i.fieldIncorrect(i.$("._errorHolder"),{errorMessage:s})})},resetErrors:function(){this.fieldReset(this.$("._errorHolder"))},doAfterPurchase:function(){this.onSuccessCallback(),this.app.user.fetch(),this.app.observer.broadcast("Track:UE:Billing:UserBoughtProduct",{paymentSystem:this.app.user.get("billingName")})},onChangeActiveOffer:function(e){this.changeActiveOfferCallback(parseInt(e.currentTarget.value,10)),this.app.observer.broadcast("Track:UE:Billing:BundlePlanClick",{number:e.currentTarget.getAttribute("data-count")})},onCardsClick:function(e){this.cards&&this.cards.length?this.getView("CardsTooltip").toggle(e):this.addCardCallback()},onAddClick:function(e){this.addCardCallback(),this.app.observer.broadcast("Track:UE:Billing:BundleAddCardClick")},onBackClick:function(){this.addNewCard=!1,this.setCurrentCard(),this.render()},onPriceInfoClick:function(){this.openedPriceBox=!this.openedPriceBox,this.$("._price-info").toggleClass("active"),this.$("._price-info-box").toggleClass("active")},injectUserField:function(){this.model.set(s(this.app.user.toProfileJSON()).pick(s.keys(this.model.defaults)))},isManagerAvailable:function(){return this.addNewCard},loading:function(e){this.spinner||(this.spinner=new r(v.spinner)),this.spinner[e?"spin":"stop"](this.$("._wrap").get(0)),this.$("._wrap").toggleClass("loading",e)},getPlan:function(){var e=this.$("._plan-downloads").filter(":checked").val(),t=this.collection.findWhere({subscription_offer_id:e});return t?s.extend({id:e},t.toJSON()):null},getCard:function(){return this.cardModel.isNew()&&!this.addNewCard&&this.setCurrentCard(),this.cardModel.isNew()?null:this.cardModel.serializeToView()},setCurrentCard:function(e){e?(this.cardModel=e,this.render()):this.cardModel=!this.addNewCard&&this.cards&&this.cards.length?this.cards.first():new f({expiryMonth:s.first(C),expiryYear:+o().format("YY")},{app:this.app})},changeCardCallback:function(e){this.setCurrentCard(this.cards.get(parseInt(e,10))),this.calculateVatByCard(),this.getView("CardsTooltip").hide()},addCardCallback:function(){this.addNewCard=!0,this.setCurrentCard(),this.render()},onCardChangeCallback:function(e){this.cardModel.set({pan:e.get("pan"),number:e.get("number")&&e.get("number").length?e.get("number"):this.model.get("number"),expiryMonth:e.get("expiryMonth"),expiryYear:e.get("expiryYear"),cvv:e.get("cvv")&&e.get("cvv").length?e.get("cvv"):this.model.defaults.cvv})},changeActiveOfferCallback:s.noop,onRequestCallback:s.noop,onSyncCallback:s.noop,onSuccessCallback:s.noop})},function(e,t){e.exports=function(e){return'<div class="subscription-rebill base"><p class="subscription-rebill__row"><b>'+e.labels.base+'</b></p><p class="subscription-rebill__row_last">'+e.labels.info+"</p></div>"}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(11);e.exports=s.extend({el:!1,template:i(1567),serialize:function(){return{labels:{base:this.tr(n.findWhere(o.subscriptionExpiredLabels,{type:"base"}).label.trim()),info:this.tr(n.findWhere(o.subscriptionExpiredLabels,{type:"info",period:this.product.buy_period}).label.trim())}}}})},function(e,t){e.exports=function(e){var t='<div class="subscription-renew"><p class="subscription-renew__row';return e.isRenew&&(t+=" subscription-renew__row_green"),t+='"><b>'+e.labels.renew+"</b></p>",e.isStatusVisible&&(t+='<p class="subscription-renew__row',"wait"===e.status&&(t+=" subscription-renew__row_red"),"fail"===e.status&&(t+=" subscription-renew__row_orange"),t+='">'+e.labels.status+"</p>"),t+='<p class="subscription-renew__row_last"><b>'+this.tr("Note")+this.tr(":")+" </b>"+e.labels.info+"</p></div>"}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(11),r=i(2);e.exports=s.extend({el:!1,template:i(1569),serialize:function(){return{isRenew:this.app.user.get("isSubaccount")&&!this.product.owner,isStatusVisible:this.isStatusVisible(),status:this.getRechargeStatus()||"",labels:{renew:this.getRenewLabel(this.product),status:this.getStatusLabel(this.product),info:this.getInfoLabel(this.product)}}},isStatusVisible:function(){var e=this.getRechargeStatus();return"wait"===e||"fail"===e},getRenewLabel:function(e){var t,i;if(1===e.buy_period){t="daily";var s=r.duration(r.unix(e.renewal).valueOf());i=[s.hours(),s.minutes()]}else t="monthly",i=r.duration(r.unix(e.renewal).valueOf()).days();var a=n.findWhere(o.subscriptionsRenewLabels,{period:t,type:"renew"}).label.trim();return this.tr(a,i)},getRechargeStatus:function(){if(this.app.user.get("subscriptionRechargeInfo"))return this.app.user.get("subscriptionRechargeInfo").status},getStatusLabel:function(){return this.isStatusVisible()?this.tr(n.findWhere(o.subscriptionsRenewLabels,{type:"status",value:this.getRechargeStatus()}).label.trim()):""},getInfoLabel:function(e){return this.tr(n.findWhere(o.subscriptionsRenewLabels,{period:1===e.buy_period?"daily":"monthly",type:"info"}).label.trim())}})},function(e,t){e.exports=function(e){return'<div class="auto-renewal-cancel-modal"><p><b>'+this.tr("Dear")+" "+e.username+"! </b>"+this.tr(e.message)+"</p><p>"+this.tr('In case you have any further questions or problems canceling the automatic renewal of your plan, please feel free to contact our <a class="%s" href="%s">support service</a>.',["link-blue",this.app.makeUrl("contact_us")])+"</div>"}},function(e,t,i){"use strict";var n=i(1),s=n(i(10)),o=n(i(494)),r=i(0),a=i(471),l=i(474),c=i(127),h=i(11),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).rebillInfo=t.rebillInfo,n.destroyOnHide=!0,n.title=n.tr(c.AutoRenewalCancelTitle),n.body=function(){return new a({el:!1,template:i(1571),serialize:function(){return{username:n.app.user.get("firstName")+n.app.user.get("lastName")||n.app.user.get("username"),message:n.rebillInfo.get("isOwner")?c.AutoRenewalCancelMessage:n.tr("The auto-renewal of this plan is controlled by Administrator of your account.")}}})},n.footer=[{label:c.OkBtn,color:"blue",hide:!0,defaultAction:!0}],n.rebillInfo&&n.getBillingServiceInfo()&&n.footer.unshift({label:n.getBillingLabel(),hide:!0,color:"blue",callback:n.redirectToBillingService.bind((0,o.default)(n))}),n}(0,s.default)(t,e);var n=t.prototype;return n.getBillingServiceInfo=function(){return r(h.billingServicesLinks).findWhere({key:this.rebillInfo.get("purchaseMethod")})},n.getBillingLabel=function(){var e=this.getBillingServiceInfo();return e&&e.label},n.redirectToBillingService=function(){this.app.router.redirect(this.rebillInfo.get("billingServiceLink")||this.app.makeUrl(this.rebillInfo.get("purchaseMethod")))},t}(l);e.exports=u},function(e,t,i){"use strict";var n=i(1),s=n(i(10)),o=n(i(494)),r=i(474),a=i(127),l=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=i.tr("Auto-Renewal"),i.message=i.tr("Do you really want to cancel the auto-renewal?"),i.footer=[{label:a.YesIDoBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return i.def.resolve((0,o.default)(i))}},{label:a.CancelBtn,hide:!0,callback:function(){return i.def.reject((0,o.default)(i))}}],i}return(0,s.default)(t,e),t.prototype.onHideCallback=function(){this.def.reject(this)},t}(r);e.exports=l},function(e,t){e.exports=function(e){var t='<div class="rebill-tooltip">';return e.product.rebill.discount>0&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("A %s discount on your current plan's future renewals has been successfully activated.",[e.product.rebill.discount+"%"])+"</div>"),"membership"===e.product.type&&e.product.rollover&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("While you keep the auto-renewal <b>turned ON</b> your downloads newer expire and transfer month to month.")+"</div>"),t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("Your plans price protected for %s-month and will not change until <b>%s</b>",[24,e.expiresDate])+"</div></div>"}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(473),r=i(472),a=i(11);e.exports=o.extend({name:"ProductRebillTooltip",params:r.RebillProduct,prepareContent:function(){var e=this;this.content=new s({template:function(){return e.getRebillLabel()}})},getRebillLabel:function(){var e=this.model.get("type"),t=n(a.productRebillLabel).findWhere({key:"credits"===e?"ondemand":e}).label;switch(e){case"subscription":case"membership":return this.tr(t,[this.model.get("period")]);default:return this.tr(t)}}})},function(e,t){e.exports=function(e){return'<div class="cards-list__editor card-editor"><div class="cards-list__editor_inner _inner"><div class="card-editor__top"><div class="card-editor__left _card"></div><div class="card-editor__right _form"></div></div><div class="card-editor__bottom"><button class="card-editor__button button button-blue button-xl _submit" type="submit" form="'+e.formId+'">'+this.tr("Save Information")+'</button><button class="card-editor__button button button-white button-xl _close">'+this.tr("Cancel")+'</button></div><i class="card-editor__close icon icon-close-cross _close"></i></div><div class="_billing-address-editor"></div></div>'}},function(e,t){e.exports=function(e){var t='<div class="billing-address-editor"><div class="billing-address-editor__wrapper"><form class="billing-address-form _form" method="POST"><i class="billing-address-form__close-btn icon-close-cross _close-btn"></i><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="firstName" value="'+e.userInfo.firstName+'" placeholder="'+this.tr("First Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="lastName" value="'+e.userInfo.lastName+'" placeholder="'+this.tr("Last Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl _phone"><input class="input input-xl" type="text" name="phone" value="'+e.userInfo.phone+'" placeholder="'+this.tr("Phone Number")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="address" value="'+e.userInfo.address+'" placeholder="'+this.tr("Address")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-city"><input data-capitalize class="input input-xl" type="text" name="city" value="'+e.userInfo.city+'" placeholder="'+this.tr("City")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-zip"><input class="input input-xl" type="text" name="zip" value="'+e.userInfo.zip+'" placeholder="'+this.tr("Zip/Postal Code")+'" /></div><div class="billing-address-form__field field-box select-box select-box-xl"><select class="select select-xl" name="country">',i=e.countries;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<option value="'+(n=i[s+=1]).code+'"',n.code===e.userInfo.country&&(t+=" selected"),t+=">"+n.title+"</option>";return t+='</select><i class="arrow arrow-black arrow-bottom"></i></div><button class="billing-address-form__submit button button-xxl button-blue" type="submit">'+this.tr("Save Information")+"</button></form></div></div>"}},function(e,t,i){"use strict";var n=i(16).$,s=n.fn.select2.amd.require,o=s("select2/utils"),r=s("select2/results");function a(){a.__super__.constructor.apply(this,arguments)}o.Extend(a,r),a.prototype._highlightItem=function(e){var t=n(e),i=t.data("data");this.getHighlightedResults().removeClass("select2-results__option--highlighted"),this.trigger("results:focus",{data:i,element:t})},a.prototype.bind=function(e,t){var i=this;a.__super__.bind.apply(this,arguments);var s="",o=-1,r=!1,l=null,c=null,h=!1;this.$results.off("mouseenter",".select2-results__option[aria-selected]").on("mouseenter mousemove",".select2-results__option[aria-selected]",function(){r||l===this&&!h||(l=this,h=!1,i._highlightItem(this))}),e.on("results:goto",function(e){clearTimeout(c),r=!0,i.data.query(e,function(t){if(t.results.length){var a=t.results,u=o+1;if(!h&&l){var p=n(l).data("data");if(!p)return;var d=p.id,f=a.map(function(e){return e.id}).indexOf(d);f>-1&&(u=f+1)}(e.term!==s&&h||u>a.length-1)&&(u=0);var m=a[u],g=i.$results.find("#"+m._resultId),b=i.$results.offset().top,_=i.$results.height(),v=g.height(),y=g.offset().top,w=i.$results.scrollTop()+(y-b);if(!(y>b&&y<b+_)){var x=w+v-_;i.$results.scrollTop(x)}i._highlightItem(g),s=e.term,o=u,c=setTimeout(function(){r=!1,h=!0},250)}})})},a.prototype.append=function(){var e=arguments[0];e.results&&(e.results=e.results.filter(function(e){return null===e.element.getAttribute("data-hidden")})),a.__super__.append.apply(this,arguments)},e.exports=a},function(e,t,i){"use strict";var n=i(16).$.fn.select2.amd.require,s=n("select2/utils"),o=n("select2/dropdown"),r=n("select2/dropdown/attachBody"),a=n("select2/dropdown/closeOnSelect"),l=n("select2/dropdown/search"),c=n("select2/dropdown/minimumResultsForSearch");function h(){h.__super__.constructor.apply(this,arguments)}s.Extend(h,l),h.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("results:goto",{term:e}),this.$search.val("")}this._keyUpPrevented=!1};var u=s.Decorate(o,h);u=s.Decorate(u,r),u=s.Decorate(u,a),u=s.Decorate(u,c),e.exports=u},function(e,t,i){var n,s,o;s=[i(101)],void 0===(o="function"==typeof(n=function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var i,n,s;return t&&t.requirejs||(t?n=t:t={},function(e){var t,o,r,a,l={},c={},h={},u={},p=Object.prototype.hasOwnProperty,d=[].slice,f=/\.js$/;function m(e,t){return p.call(e,t)}function g(e,t){var i,n,s,o,r,a,l,c,u,p,d,m,g=t&&t.split("/"),b=h.map,_=b&&b["*"]||{};if(e){for(e=e.split("/"),r=e.length-1,h.nodeIdCompat&&f.test(e[r])&&(e[r]=e[r].replace(f,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),u=0;u<e.length;u++)if("."===(d=e[u]))e.splice(u,1),u-=1;else if(".."===d){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((g||_)&&b){for(i=e.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),g)for(p=g.length;p>0;p-=1)if((s=b[g.slice(0,p).join("/")])&&(s=s[n])){o=s,a=u;break}if(o)break;!l&&_&&_[n]&&(l=_[n],c=u)}!o&&l&&(o=l,a=c),o&&(i.splice(0,a,o),e=i.join("/"))}return e}function b(t,i){return function(){var n=d.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),o.apply(e,n.concat([t,i]))}}function _(e){return function(t){l[e]=t}}function v(i){if(m(c,i)){var n=c[i];delete c[i],u[i]=!0,t.apply(e,n)}if(!m(l,i)&&!m(u,i))throw new Error("No "+i);return l[i]}function y(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function w(e){return e?y(e):[]}r=function(e,t){var i,n,s=y(e),o=s[0],r=t[1];return e=s[1],o&&(o=g(o,r),i=v(o)),o?e=i&&i.normalize?i.normalize(e,(n=r,function(e){return g(e,n)})):g(e,r):(e=g(e,r),s=y(e),o=s[0],e=s[1],o&&(i=v(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:i}},a={require:function(e){return b(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:function(e){return function(){return h&&h.config&&h.config[e]||{}}}(e)}}},t=function(t,i,n,s){var o,h,p,d,f,g,y,x=[],C=typeof n;if(g=w(s=s||t),"undefined"===C||"function"===C){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(d=r(i[f],g),"require"===(h=d.f))x[f]=a.require(t);else if("exports"===h)x[f]=a.exports(t),y=!0;else if("module"===h)o=x[f]=a.module(t);else if(m(l,h)||m(c,h)||m(u,h))x[f]=v(h);else{if(!d.p)throw new Error(t+" missing "+h);d.p.load(d.n,b(s,!0),_(h),{}),x[f]=l[h]}p=n?n.apply(l[t],x):void 0,t&&(o&&o.exports!==e&&o.exports!==l[t]?l[t]=o.exports:p===e&&y||(l[t]=p))}else t&&(l[t]=n)},i=n=o=function(i,n,s,l,c){if("string"==typeof i)return a[i]?a[i](n):v(r(i,w(n)).f);if(!i.splice){if((h=i).deps&&o(h.deps,h.callback),!n)return;n.splice?(i=n,n=s,s=null):i=e}return n=n||function(){},"function"==typeof s&&(s=l,l=c),l?t(e,i,n,s):setTimeout(function(){t(e,i,n,s)},4),o},o.config=function(e){return o(e)},i._defined=l,(s=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),m(l,e)||m(c,e)||(c[e]=[e,t,i])}).amd={jQuery:!0}}(),t.requirejs=i,t.require=n,t.define=s),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){var t={};function i(e){var t=e.prototype,i=[];for(var n in t){var s=t[n];"function"==typeof s&&"constructor"!==n&&i.push(n)}return i}t.Extend=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e}for(var s in t)i.call(t,s)&&(e[s]=t[s]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},t.Decorate=function(e,t){var n=i(t),s=i(e);function o(){var i=Array.prototype.unshift,n=t.prototype.constructor.length,s=e.prototype.constructor;n>0&&(i.call(arguments,e.prototype.constructor),s=t.prototype.constructor),s.apply(this,arguments)}t.displayName=e.displayName,o.prototype=new function(){this.constructor=o};for(var r=0;r<s.length;r++){var a=s[r];o.prototype[a]=e.prototype[a]}for(var l=function(e){var i=function(){};e in o.prototype&&(i=o.prototype[e]);var n=t.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,i),n.apply(this,arguments)}},c=0;c<n.length;c++){var h=n[c];o.prototype[h]=l(h)}return o};var n=function(){this.listeners={}};return n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},t.Observable=n,t.generateChars=function(e){for(var t="",i=0;i<e;i++){var n=Math.floor(36*Math.random());t+=n.toString(36)}return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var s=0;s<i.length;s++){var o=i[s];(o=o.substring(0,1).toLowerCase()+o.substring(1))in n||(n[o]={}),s==i.length-1&&(n[o]=e[t]),n=n[o]}delete e[t]}}return e},t.hasScroll=function(t,i){var n=e(i),s=i.style.overflowX,o=i.style.overflowY;return(s!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===s||"scroll"===o||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},t}),t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),s=this.options.get("translations").get(t.message);n.append(i(s(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],s=this.option(n);t.push(s)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){var i=t.find(".select2-results");i.append(e)},i.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var n=e.map(i,function(e){return e.id.toString()}),s=t.$results.find(".select2-results__option[aria-selected]");s.each(function(){var t=e(this),i=e.data(this,"data"),s=""+i.id;null!=i.element&&i.element.selected||null==i.element&&e.inArray(s,n)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:t(e)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var s in t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(i.id=t._resultId),t.title&&(i.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[s];i.setAttribute(s,o)}if(t.children){var r=e(i),a=document.createElement("strong");a.className="select2-results__group",e(a),this.template(t,a);for(var l=[],c=0;c<t.children.length;c++){var h=t.children[c],u=this.option(h);l.push(u)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(l),r.append(a),r.append(p)}else this.template(t,i);return e.data(i,"data",t),i},i.prototype.bind=function(t,i){var n=this,s=t.id+"-results";this.$results.attr("id",s),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.hideMessages(),n.showLoading(e)}),t.on("select",function(){t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e);if(0!==i){var s=i-1;0===e.length&&(s=0);var o=t.eq(s);o.trigger("mouseenter");var r=n.$results.offset().top,a=o.offset().top,l=n.$results.scrollTop()+(a-r);0===s?n.$results.scrollTop(0):a-r<0&&n.$results.scrollTop(l)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e),s=i+1;if(!(s>=t.length)){var o=t.eq(s);o.trigger("mouseenter");var r=n.$results.offset().top+n.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),l=n.$results.scrollTop()+a-r;0===s?n.$results.scrollTop(0):a>r&&n.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-t+e.deltaY,s=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&i<=n.$results.height();s?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var i=e(this),s=i.data("data");"true"!==i.attr("aria-selected")?n.trigger("select",{originalEvent:t,data:s}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:s}):n.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var i=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:e(this)})})},i.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),i=t.index(e),n=this.$results.offset().top,s=e.offset().top,o=this.$results.scrollTop()+(s-n),r=s-n;o-=2*e.outerHeight(!1),i<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),s=this.options.get("escapeMarkup"),o=n(t,i);null==o?i.style.display="none":"string"==typeof o?i.innerHTML=s(o):e(i).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},n.prototype.bind=function(e,t){var n=this,s=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",s),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var i=e(t.target),n=i.closest(".select2"),s=e(".select2.select2-container--open");s.each(function(){var t=e(this);if(this!=n[0]){var i=t.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){var i=t.find(".selection");i.append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function s(){s.__super__.constructor.apply(this,arguments)}return i.Extend(s,t),s.prototype.render=function(){var e=s.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},s.prototype.bind=function(e,t){var i=this;s.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||i.$selection.focus()}),e.on("selection:update",function(e){i.update(e.data)})},s.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},s.prototype.display=function(e,t){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(e,t))},s.prototype.selectionContainer=function(){return e("<span></span>")},s.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n),i.prop("title",t.title||t.text)}else this.clear()},s}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,i){var s=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){s.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!s.options.get("disabled")){var i=e(this),n=i.parent(),o=n.data("data");s.trigger("unselect",{originalEvent:t,data:o})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(e,t){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(e,t))},n.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var s=e[n],o=this.selectionContainer(),r=this.display(s,o);o.append(r),o.prop("title",s.title||s.text),o.data("data",s),t.push(o)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id,n=t.length>1;if(n||i)return e.call(this,t);this.clear();var s=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(s)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function i(){}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},i.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();for(var n=i.data("data"),s=0;s<n.length;s++){var o={data:n[s]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=e('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),t.on("open",function(){s.$search.trigger("focus")}),t.on("close",function(){s.$search.val(""),s.$search.removeAttr("aria-activedescendant"),s.$search.trigger("focus")}),t.on("enable",function(){s.$search.prop("disabled",!1),s._transferTabIndex()}),t.on("disable",function(){s.$search.prop("disabled",!0)}),t.on("focus",function(e){s.$search.trigger("focus")}),t.on("results:focus",function(e){s.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){s.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){s._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===i.BACKSPACE&&""===s.$search.val()){var n=s.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=n.data("data");s.searchRemoveChoice(o),e.preventDefault()}}});var o=document.documentMode,r=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){r?s.$selection.off("input.search input.searchcheck"):s.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(r&&"input"===e.type)s.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&s.handleSearch(e)}})},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var s=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,o)){i=i||{};var n=e.Event("select2:"+t,{params:i});s.$element.trigger(n),-1!==e.inArray(t,r)&&(i.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+e.generateChars(4),n},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),s=n.item(e);t.push(s)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var s=[];(e=[e]).push.apply(e,n);for(var o=0;o<e.length;o++){var r=e[o].id;-1===i.inArray(r,s)&&s.push(r)}t.$element.val(s),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,i(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var s=[],o=0;o<n.length;o++){var r=n[o].id;r!==e.id&&-1===i.inArray(r,s)&&s.push(r)}t.$element.val(s),t.$element.trigger("change")})}},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(e,t){var n=[],s=this,o=this.$element.children();o.each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var o=s.item(t),r=s.matches(e,o);null!==r&&n.push(r)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=i(t),s=this._normalizeItem(e);return s.element=t,i.data(t,"data",s),n},n.prototype.item=function(e){var t={};if(null!=(t=i.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),s=[],o=0;o<n.length;o++){var r=i(n[o]),a=this.item(r);s.push(a)}t.children=s}return(t=this._normalizeItem(t)).element=e[0],i.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){return i.isPlainObject(e)||(e={id:e,text:e}),null!=(e=i.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){var i=this.options.get("matcher");return i(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(i))}return t.Extend(n,e),n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){var n=this,s=this.$element.find("option"),o=s.map(function(){return n.item(i(this)).id}).get(),r=[];function a(e){return function(){return i(this).val()==e.id}}for(var l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(i.inArray(c.id,o)>=0){var h=s.filter(a(c)),u=this.item(h),p=i.extend(!0,{},c,u),d=this.option(p);h.replaceWith(d)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);t.appendMany(f,m)}r.push(f)}}return r},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var s=i.ajax(e);return s.then(t),s.fail(n),s}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){var n=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=i.extend({type:"GET"},this.ajaxOptions);function o(){var o=s.transport(s,function(s){var o=n.processResults(s,e);n.options.get("debug")&&window.console&&console.error&&(o&&o.results&&i.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){o.status&&"0"===o.status||n.trigger("results:message",{message:"errorLoading"})});n._request=o}"function"==typeof s.url&&(s.url=s.url.call(this.$element,e)),"function"==typeof s.data&&(s.data=s.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var s=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,i,n),e.isArray(s))for(var a=0;a<s.length;a++){var l=s[a],c=this._normalizeItem(l),h=this.option(c);this.$element.append(h)}}return t.prototype.query=function(e,t,i){var n=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function e(s,o){for(var r=s.results,a=0;a<r.length;a++){var l=r[a],c=null!=l.children&&!e({results:l.children},!0),h=(l.text||"").toUpperCase(),u=(t.term||"").toUpperCase(),p=h===u;if(p||c)return!o&&(s.data=r,void i(s))}if(o)return!0;var d=n.createTag(t);if(null!=d){var f=n.option(d);f.attr("data-select2-tag",!0),n.addOptions([f]),n.insertTag(r,d)}s.results=r,i(s)}):e.call(this,t,i)},t.prototype.createTag=function(t,i){var n=e.trim(i.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){this._lastTag;var i=this.$element.find("option[data-select2-tag]");i.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,n){var s=this;i.term=i.term||"";var o=this.tokenizer(i,this.options,function(t){var i=s._normalizeItem(t);if(!s.$element.find("option").filter(function(){return e(this).val()===i.id}).length){var n=s.option(i);n.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([n])}!function(e){s.trigger("select",{data:e})}(i)});o.term!==i.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),i.term=o.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,s){for(var o=n.get("tokenSeparators")||[],r=i.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<r.length;){var c=r[a];if(-1!==e.inArray(c,o)){var h=r.substr(0,a),u=e.extend({},i,{term:h}),p=l(u);null!=p?(s(p),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){var n=this;this.current(function(s){var o=null!=s?s.length:0;n.maximumSelectionLength>0&&o>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e.call(n,t,i)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var s=this;t.call(this,i,n),this.$search.on("keydown",function(e){s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){s.handleSearch(e)}),i.on("open",function(){s.$search.attr("tabindex",0),s.$search.focus(),window.setTimeout(function(){s.$search.focus()},0)}),i.on("close",function(){s.$search.attr("tabindex",-1),s.$search.val("")}),i.on("focus",function(){i.isOpen()||s.$search.focus()}),i.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=s.showSearch(e);t?s.$searchContainer.removeClass("select2-search--hide"):s.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var s=t[n];this.placeholder.id===s.id&&i.splice(n,1)}return i},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,n){var s=this;t.call(this,i,n),i.on("query",function(e){s.lastParams=e,s.loading=!0}),i.on("query:append",function(e){s.lastParams=e,s.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,s.$loadingMore[0]);if(!s.loading&&t){var i=s.$results.offset().top+s.$results.outerHeight(!1),n=s.$loadingMore.offset().top+s.$loadingMore.outerHeight(!1);i+50>=n&&s.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=n.get("dropdownParent")||e(document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this,s=!1;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),s||(s=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var s=this,o="scroll.select2."+n.id,r="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(t){var i=e(this).data("select2-scroll-position");e(this).scrollTop(i.y)}),e(window).on(o+" "+r+" "+a,function(e){s._positionDropdown(),s._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var s="scroll.select2."+n.id,o="resize.select2."+n.id,r="orientationchange.select2."+n.id,a=this.$container.parents().filter(t.hasScroll);a.off(s),e(window).off(s+" "+o+" "+r)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),s=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=o.top,r.bottom=o.top+r.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<o.top-a.height,h=l.bottom>o.bottom+a.height,u={left:o.left,top:r.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var d=p.offset();u.top-=d.top,u.left-=d.left,i||n||(s="below"),h||!c||i?!c&&h&&i&&(s="below"):s="above",("above"==s||i&&"below"!==s)&&(u.top=r.top-d.top-a.height),null!=s&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+s),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+s)),this.$dropdownContainer.css(u)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var s=t[n];s.children?i+=e(s.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var i=t.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var s=n.data("data");null!=s.element&&s.element.selected||null==s.element&&s.selected||this.trigger("select",{data:s})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){var t=e.minimum-e.input.length,i="Please enter "+t+" or more characters";return i},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,s,o,r,a,l,c,h,u,p,d,f,m,g,b,_,v,y,w,x,C,k,S,P,T,A){function I(){this.reset()}I.prototype.apply=function(u){if(null==(u=e.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=d:u.dataAdapter=p,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,_)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var A=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,A)}if(null!=u.initSelection){var I=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,I)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,C)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,P))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=y;else{var M=c.Decorate(y,w);u.dropdownAdapter=M}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,T)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var E=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,E)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,k)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=s:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var L=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,L)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var R=u.language.split("-"),$=R[0];u.language=[u.language,$]}else u.language=[u.language];if(e.isArray(u.language)){var D=new h;u.language.push("en");for(var N=u.language,O=0;O<N.length;O++){var B=N[O],H={};try{H=h.loadPath(B)}catch(e){try{B=this.defaults.amdLanguageBase+B,H=h.loadPath(B)}catch(e){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+B+'" could not be automatically loaded. A fallback will be used instead.');continue}}D.extend(H)}u.translations=D}else{var U=h.loadPath(this.defaults.amdLanguageBase+"en"),F=new h(u.language);F.extend(U),u.translations=F}return u},I.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return u[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:function i(n,s){if(""===e.trim(n.term))return s;if(s.children&&s.children.length>0){for(var o=e.extend(!0,{},s),r=s.children.length-1;r>=0;r--){var a=s.children[r],l=i(n,a);null==l&&o.children.splice(r,1)}return o.children.length>0?o:i(n,o)}var c=t(s.text).toUpperCase(),h=t(n.term).toUpperCase();return c.indexOf(h)>-1?s:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},I.prototype.set=function(t,i){var n=e.camelCase(t),s={};s[n]=i;var o=c._convertData(s);e.extend(this.defaults,o)};var M=new I;return M}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function s(t,s){if(this.options=t,null!=s&&this.fromElement(s),this.options=i.apply(this.options),s&&s.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}return s.prototype.fromElement=function(e){var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var s={};s=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var o=t.extend(!0,{},s);for(var r in o=n._convertData(o))t.inArray(r,i)>-1||(t.isPlainObject(this.options[r])?t.extend(this.options[r],o[r]):this.options[r]=o[r]);return this},s.prototype.get=function(e){return this.options[e]},s.prototype.set=function(e,t){this.options[e]=t},s}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var s=function(e,i){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),s.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var r=this.render();this._placeContainer(r);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var h=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){h.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return i.Extend(s,i.Observable),s.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},s.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},s.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var s=e.outerWidth(!1);return s<=0?"auto":s+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var r=o.split(";"),a=0,l=r.length;a<l;a+=1){var c=r[a].replace(/\s/g,""),h=c.match(i);if(null!==h&&h.length>=1)return h[1]}return null}return t},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._syncA),e.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},s.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},s.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(n,s){-1===e.inArray(n,i)&&t.trigger(n,s)})},s.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},s.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},s.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&t.altKey?(e.close(),t.preventDefault()):i===n.ENTER?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype._syncSubtree=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var s=0;s<t.addedNodes.length;s++){var o=t.addedNodes[s];o.selected&&(i=!0)}else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}},s.prototype.trigger=function(e,t){var i=s.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in n){var o=n[e],r={prevented:!1,name:e,args:t};if(i.call(this,o,r),r.prevented)return void(t.prevented=!0)}i.call(this,e,t)},s.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.trigger("query",{})},s.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},s.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},s.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},s.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},s.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},s.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},s}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,i,n){if(null==e.fn.select2){var s=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var n=e.extend(!0,{},t);new i(e(this),n)}),this;if("string"==typeof t){var n,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=i[t].apply(i,o)}),e.inArray(t,s)>-1?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101)],void 0===(o="function"==typeof(n=function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var r=n.length;r;)e.event.fixHooks[n[--r]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=s.length;t;)this.removeEventListener(s[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var s=n||window.event,r=o.call(arguments,1),l=0,u=0,p=0,d=0,f=0,m=0;if((n=e.event.fix(s)).type="mousewheel","detail"in s&&(p=-1*s.detail),"wheelDelta"in s&&(p=s.wheelDelta),"wheelDeltaY"in s&&(p=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*p,p=0),l=0===p?u:p,"deltaY"in s&&(p=-1*s.deltaY,l=p),"deltaX"in s&&(u=s.deltaX,0===p&&(l=-1*u)),0!==p||0!==u){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,p*=g,u*=g}else if(2===s.deltaMode){var b=e.data(this,"mousewheel-page-height");l*=b,p*=b,u*=b}if(d=Math.max(Math.abs(p),Math.abs(u)),(!i||d<i)&&(i=d,h(s,d)&&(i/=40)),h(s,d)&&(l/=40,u/=40,p/=40),l=Math[l>=1?"floor":"ceil"](l/i),u=Math[u>=1?"floor":"ceil"](u/i),p=Math[p>=1?"floor":"ceil"](p/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var _=this.getBoundingClientRect();f=n.clientX-_.left,m=n.clientY-_.top}return n.deltaX=u,n.deltaY=p,n.deltaFactor=i,n.offsetX=f,n.offsetY=m,n.deltaMode=0,r.unshift(n,l,u,p),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function c(){i=null}function h(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?n.apply(t,s):n)||(e.exports=o)},function(e,t){e.exports=function(e){var t='<div class="phonenumber"><div class="phonenumber-container"><div class="phonenumber-cell phonenumber-cell-left"><select class="phonenumber-cc" tabindex="-1" style="visibility: hidden;"><option></option>',i=e.countries;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<option value="'+(n=i[s+=1]).code+'"data-cc="'+n.phoneCode+'"data-flag="'+n.flag+'" ',n.selected&&(t+=' selected="selected"'),t+=">"+n.title+"</option>";return t+='</select><input class="phonenumber-cc-value" type="hidden"></div><div class="phonenumber-cell phonenumber-cell-right"><input class="phonenumber-an" type="text" maxlength="11" placeholder="'+this.tr("Phone"),e.required&&(t+=" *"),t+='" value="'+e.phone+'"></div></div><input type="hidden" name="'+e.phoneFieldName+'"></div>'}},function(e,t){e.exports=function(e){return'<form id="'+e.formId+'" class="'+e.classNames+' merchant-form"><div class="merhcant-form_inner _merchant-card-manager"></div></form>'}},function(e,t,i){"use strict";var n=i(1),s=n(i(10)),o=n(i(494)),r=i(474),a=i(127),l=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=a.CardConfirmation,i.message=i.tr(a.CardConfirmationMessage),i.footer=[{label:a.ConfirmBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return i.def.resolve((0,o.default)(i))}},{label:a.CancelBtn,hide:!0,callback:function(){return i.def.reject((0,o.default)(i))}}],i}return(0,s.default)(t,e),t}(r);e.exports=l},function(e,t){e.exports=function(e){return'<div class="tooltip-cvv-info"><p class="tooltip__pg">'+this.tr("The security code for Visa, MasterCard, JCB and Discover credit cards consists of 3 digits printed on the back of your credit card.")+'</p><img class="tooltip-cvv-info__img" src="'+this.app.cdnPath+'_img/cvv-example-1.jpg" /><p class="tooltip__pg">'+this.tr("The security code for the American Express card consists of 4 digits printed on the front of your credit card.")+'</p><img class="tooltip-cvv-info__img" src="'+this.app.cdnPath+'_img/cvv-example-2.jpg" /></div>'}},function(e,t){e.exports=function(e){return"<div>"+this.tr("The information transfer is secured and verified by SSL 256 bit certificate issued by Comodo. Web site fully satisfies the security standards of Visa and Mastercard (PCI compliance). Security is also confirmed by TRUSTe.")+"</div>"}},function(e,t){e.exports=function(e){var t='<div class="merchant-manager';if(e.useSavedState&&(t+=" merchant-manager_saved"),t+=" "+e.classNames+'"><div class="merchant-manager_fields">',e.useSaved&&(t+='<div class="merchant-manager__item merchant-manager__item_saved"><label class="merchant-manager__field merchant-manager__field_saved checkbox-box checkbox-box-m"><input class="checkbox _use-saved-cards" type="checkbox"',e.useSavedState&&(t+=' checked="checked"'),t+='><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+this.tr("Use my saved cards")+"</span></label></div>"),t+='<div class="merchant-manager__item"><span class="merchant-manager__field-title">'+this.tr("Credit Card Number")+"</span>",e.useSavedState)if(e.savedCards.list.length>1){t+='<label class="merchant-manager__field merchant-manager__field_number-select select-box select-box-m"><i class="arrow arrow-black arrow-bottom"></i><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><select class="select select-m _selected-card" name="number">';var i=e.savedCards.list;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<option value="'+(n=i[s+=1]).id+'"',e.savedCards.active.id===n.id&&(t+=" selected"),t+=">"+n.number+"</option>";t+="</select></label>"}else t+='<label class="merchant-manager__field merchant-manager__field_number_disabled field-box input-box input-box-m"><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><input type="hidden" name="cardId" value="'+e.savedCards.active.id+'" /><input class="input input-m _cardNumber" type="text" name="number" maxlength="27" disabled value="'+e.savedCards.active.number+'" autofocus /></label>';else t+='<label class="merchant-manager__field merchant-manager__field_number field-box input-box input-box-m"><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><input type="hidden" name="cardId" value="'+e.attributes.cardId+'" /><input class="input input-m _cardPan" type="text" name="pan" maxlength="27" value="" autofocus placeholder="'+this.tr("Credit Card Number")+'" /></label>';t+='</div><div class="merchant-manager__item merchant-manager__item_exp"><span class="merchant-manager__field-title">'+this.tr("Expiration Date")+'</span><span class="merchant-manager__field-title merchant-manager__field-title_alt">'+this.tr("Expiration Date")+", "+this.tr("CVV / CVC")+'</span><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-m"><select class="select select-m _expiryMonth" name="expiryMonth"',e.useSavedState&&(t+=" disabled"),t+=">";var r=e.expiration.months;if(r)for(var a,l=-1,c=r.length-1;l<c;)t+='<option value="'+(a=r[l+=1])+'"',e.attributes.expiryMonth===a&&(t+=" selected"),t+=">"+a+"</option>";t+='</select><i class="arrow arrow-black arrow-bottom"></i></div><span class="merchant-manager__exp-sep">/</span><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-m"><select class="select select-m _expiryYear" name="expiryYear"',e.useSavedState&&(t+=" disabled"),t+=">";var h=e.expiration.years;if(h)for(var u,p=-1,d=h.length-1;p<d;)t+='<option value="'+(u=h[p+=1])+'"',e.attributes.expiryYear===u&&(t+=" selected"),t+=">20"+u+"</option>";return t+='</select><i class="arrow arrow-black arrow-bottom"></i></div></div><div class="merchant-manager__item merchant-manager__item_cvv"><span class="merchant-manager__field-title">'+this.tr("CVV / CVC")+'</span><label class="merchant-manager__field merchant-manager__field_cvv field-box input-box input-box-m"><input class="input input-m _cvv" type="password" name="cvv" maxlength="4"value="',e.useSavedState&&(t+="***"),t+='"placeholder="'+this.tr("CVV / CVC")+'"',e.useSavedState&&(t+=" disabled"),t+=' /><i class="merchant-manager__icon-card icon icon-card field-box__right-elem _card-helper"></i><i class="merchant-manager__icon-help icon icon-help _card-helper"></i></label></div><div class="merchant-manager__item"><div class="g-recaptcha _captcha" data-sitekey="'+e.captcha.siteKey+'"></div></div><div class="merchant-manager__item _errorHolder"><div class="field-box"></div></div></div></div>'}},function(e,t,i){"use strict";(function(e){var t=i(0),n=i(6)(e);e.exports.detect=function(e){return e?(t.isString(e)||(e+=""),(e=e.replace(/\s/g,"")).match(/^(4026|417500|4405|4508|4844|4913|4917)/)?"visa-electron":e.match(/^4/)?"visa":e.match(/^5[1-5]/)?"mastercard":e.match(/^3[47]/)?"american-express":e.match(/^6(?:011|5)/)?"discover":e.match(/^(?:2131|1800|35)/)?"jcb":e.match(/^3(?:0[0-5]|[68])/)?"diners-club":e.match(/^5018|5020|5038|5893|6304|67(59|61|62|63)|0604/)?"maestro":""):(n.warn("CardTypeDetector: empty number passed for detection. String or integer is required."),"")}}).call(this,i(3)(e))},function(e,t,i){"use strict";var n=i(747),s=i(1059),o=i(1018);e.exports=s.extend({getMerchantForm:function(){return new o({app:this.app,classNames:"merchant-form_compact",model:new n({id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")},{app:this.app}),submit:function(){if(this.getView("._merchant-card-manager").useSavedState)this.onSuccessFormSubmit(this.getView("._merchant-card-manager").getActiveCard());else{for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.submit.apply(this,t)}},useSaved:this.app.store.get("CreditCards").length,savedCards:this.app.store.get("CreditCards"),formId:this.cid,onStartFormSubmit:this.onStartMerchantSubmit.bind(this),onFinishFormSubmit:this.onFinishMerchantSubmit.bind(this),onSuccessFormSubmit:this.onSuccessMerchantSubmit.bind(this),onModelChangeCallback:this.onMerchantModelChangeCallback.bind(this),onModelExternalError:this.onMerchantExternalError.bind(this)})},onSuccessMerchantSubmit:function(e,t){this.onCardEditSuccess(e,t)}})},function(e,t){e.exports=function(e){var t='<div class="card-box '+e.classes+'" data-count-number="'+e.numberLength+'"><i class="card-box__type-icon"></i><span class="card-box__number">',i=e.labels.number;if(i)for(var n=-1,s=i.length-1;n<s;)t+='<span class="card-box__symbol" data-value="'+(r=i[n+=1])+'">'+r+"</span>";t+='</span><span class="card-box__expired">';var o=e.labels.expire;if(o)for(var r,a=-1,l=o.length-1;a<l;)t+='<span class="card-box__symbol card-box__symbol_exp" data-value="'+(r=o[a+=1])+'">'+r+"</span>";return t+='</span><span class="card-box__valid">valid thru</span><span class="card-box__cvv"></span><span class="card-box__backside"><i class="card-box__magnetic-stripe"></i><span class="card-box__cvc-title">CVV/CVC</span><span class="card-box__cvc-value">'+e.labels.cvv+"</span></span></div>"}},function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(1020),r=i(1019),a=i(1589),l=i(1575),c=i(1055),h=i(1573),u=i(1572),p=i(654),d=i(474),f=i(137);e.exports={additionalEvents:{"mouseenter ._rebill-help":"showRebillHelpTooltip","mouseleave ._rebill-help":"hideRebillHelpTooltip","mouseenter ._rebill-discount":"showRebillDiscountTooltip","mouseleave ._rebill-discount":"hideRebillDiscountTooltip",'change [name="rebill-checkbox"]':"onRebillCheckboxChange","click ._switcher-disabled":"onDisabledSwitcherClick","click ._settings":"onSettingsClick","click ._card":"onCardClick"},initRebillProduct:function(){this.visibility||(this.visibility={settingsOpened:!1,hidden:!1}),this.needToShowCard()&&this.getRebillCard()&&this.setView("._card",new o({app:this.app,model:this.getRebillCard(),mode:"view",size:"small"})),this.needToShowRebillTooltip()&&(this.removeView("rebillTooltip"),this.setView("rebillTooltip",new l({app:this.app,model:this.model}))),this.model.get("rebill").get("discount")?(this.removeView("rebillDiscountTooltip"),this.setView("rebillDiscountTooltip",new c({app:this.app,model:this.model}))):this.getView("rebillTooltip")&&(this.getView("rebillTooltip").params.templatePosition="rt")},initRebillManager:function(){this.rebillManager||(this.rebillManager=new r({app:this.app}))},initProductCardEditor:function(e){var t=this,i="enable"===e?this.app.store.get("CreditCards").first():this.getRebillCard();return this.setView("._editor",new a({app:this.app,model:i,countries:this.countries,userGroupInfo:this.userGroupInfo,onClose:this.onEditorClose.bind(this),onCardEditSuccess:function(i){return t.processRebill(e,i)}}))},getAdditionalSerializeParams:function(){return n.extend(n.clone(this.serializeParams),{isRebillEnabled:this.isRebillEnabled(),rebillTitle:n.result(this,"getRebillTitle")||this.tr("Auto-Renewal"),product:n.clone(this.model.serialize()),switcher:this.getRebillSwitcherData(),visibility:this.visibility,needToShowCard:this.needToShowCard()})},getRebillSwitcherData:function(){return{checked:this.model.get("rebill").get("enabled"),disabled:!this.model.get("rebill").get("editable"),className:"product-item__switcher switcher_red",name:"rebill-checkbox"}},getRebillCard:function(){return this.app.store.get("CreditCards")?this.app.store.get("CreditCards").get(this.model.get("rebill").get("cardId")):null},getRebillInfo:function(){return this.rebillInfo.get(this.model.get("id"))},enableRebill:function(){this.isRebillEnabled()||this.initProductCardEditor("enable").open()},updateRebillCard:function(){this.isRebillEnabled()&&this.initProductCardEditor("update").open()},disableRebill:function(){var e=this;this.isRebillEnabled()?this.insertView("AutoRenewalModal",new h({app:this.app})).show().done(function(){return e.processRebill("disable",e.getRebillCard())}).fail(function(){return e.onRebillDisablingCancel()}):this.isCardEditorIsOpened()&&this.getView("._editor").close()},processRebill:function(e,t){var i=this;"enable"===e?this.saveRebillState(t,!0).done(function(e){return i.onProductRebillChange(e,t,{settingsOpened:!0})}):"update"===e?this.saveRebillState(t,!0).done(function(e){return i.onProductRebillChange(e,t,{settingsOpened:!0})}):"disable"===e&&this.saveRebillState(t,!1).done(function(e){return i.onProductRebillChange(e,t,{settingsOpened:!1})}).fail(this.onRebillDisablingCancel.bind(this))},redirectToSubscriptionDisable:function(){this.app.router.redirect(this.app.makeUrl({route:"SubscriptionInfo",subscriptionId:this.model.get("id")}))},redirectToMembershipDisable:function(){this.app.router.redirect(this.app.makeUrl({route:"Autorenewal",step:"status",type:"membership",transactionId:this.model.get("id")}))},rebillIsPossible:function(e,t){var i=e.type,n=e.rebill.purchaseMethod,s=["subscription"];return this.app.features.isFeatureOnValue("Cancellation Feedback for Membership")&&s.push("membership"),-1===s.indexOf(i)||t||-1===f.billings.list.indexOf(n)},saveRebillState:function(e,t){var i=this,n=new s.$.Deferred,o=e?parseInt(e.get("id"),10):null;if(!this.rebillIsPossible(this.model.serialize(),t)){switch(this.model.get("type")){case"subscription":this.redirectToSubscriptionDisable();break;case"membership":this.redirectToMembershipDisable()}return n}return this.initRebillManager(),this.rebillManager.save({cardId:o,productId:parseInt(this.model.get("id"),10),productType:this.model.get("type"),rebillState:t},{success:function(e,t){t.errors&&t.errors.length?(i.showErrorModal(t.errors),n.reject()):n.resolve({cardId:o,enabled:e.get("rebillState")})}}),n},showErrorModal:function(e){var t=p.parse(this.app,e);new d({app:this.app,title:this.tr("Error"),message:n.first(t).message}).show()},showUnableAutoRenewalModal:function(){this.insertView("UnableAutoRenewalModal",new u({app:this.app,rebillInfo:this.getRebillInfo()})).show()},showRebillHelpTooltip:function(e){this.getView("rebillTooltip").show(e)},hideRebillHelpTooltip:function(e){this.getView("rebillTooltip").hide(e)},showRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").show(e)},hideRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").hide(e)},needToShowRebillTooltip:function(){return this.isRebillEnabled()},needToShowCard:function(){var e=this.model.get("rebill");return e.get("possible")&&e.get("enabled")&&e.get("editable")},isCardEditorIsOpened:function(){return this.getView("._editor")&&this.getView("._editor").isOpened()},isRebillEnabled:function(){return this.model.get("rebill").get("possible")&&this.model.get("rebill").get("enabled")},onRebillCheckboxChange:function(e){e.currentTarget.checked?this.enableRebill():this.disableRebill()},onSettingsClick:function(){this.toggleSettings()},onCardClick:function(){this.getView("._editor")?this.getView("._editor").close():this.updateRebillCard()},onEditorClose:function(){this.model.get("rebill").get("enabled")||this.$('[name="rebill-checkbox"]').attr({checked:!1})},onRebillDisablingCancel:function(){this.$('[name="rebill-checkbox"]').click()},onDisabledSwitcherClick:function(e){e.preventDefault();var t=this.model.get("rebill");t.get("enabled")&&!t.get("editable")&&this.showUnableAutoRenewalModal()},onProductRebillChange:function(e,t,i){this.model.get("rebill").set(e),this.app.store.get("CreditCards").add(t,{merge:!0}),this.getView("._editor")&&this.getView("._editor").close(),this.hideAndRender(i)},toggleSettings:function(e){var t=this,i=this.$(".product-item__rebill-block, .product-item__card-holder"),s=n.isUndefined(e)?!this.visibility.settingsOpened:!!e,o=function(e){i[e?"slideDown":"slideUp"](500,function(){i.removeClass("product-item__rebill-block_hidden")}),t.$("._settings .arrow").removeClass("arrow-top, arrow-bottom").addClass(e?"arrow-top":"arrow-bottom"),t.$el.toggleClass("product-item__rebill-detailed",e)};!s&&this.isCardEditorIsOpened()?this.getView("._editor").close().then(function(){return o(s)}):o(s),this.visibility.settingsOpened=s},hideAndRender:function(e){var t=this;this.$el.slideUp(500,function(){n.extend(t.visibility,{hidden:!0},e),t.render().promise().done(function(){t.$el.slideDown(500,function(){t.$el.removeClass("product-item_hidden"),t.visibility.hidden=!1})})})}}},function(e,t){e.exports=function(e){return'<a class="user-plans-list__item" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-plans-list__title">'+this.tr("Earned Money")+'</span><span class="user-plans-list__text">'+this.tr("Balance: $<b>%s</b>",e.balance)+'</span><i class="user-plans-list__icon icon icon-earned-money"></i></a>'}},function(e,t){e.exports=function(e){return'<div class="user-plans-list _list"></div>'}},function(e,t){e.exports=function(e){return'<a class="user-bar-item user-bar-item_hover balance-box earned-money-box" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-earned-money"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-earned-money-hover"></i><span class="user-bar-item__text">$'+e.balance+"</span></span></a>"}},function(e,t,i){"use strict";var n=i(9);e.exports=n.extend({parse:function(e){var t={};return e.imageUrl&&(t[e.imageUrl.split(".").pop()]=e.imageUrl),e.videoUrl&&(t[e.videoUrl.split(".").pop()]=e.videoUrl),{type:e.type||null,width:e.elementResource.resourceInfo&&e.elementResource.resourceInfo[0]?e.elementResource.resourceInfo[0]:null,height:e.elementResource.resourceInfo&&e.elementResource.resourceInfo[1]?e.elementResource.resourceInfo[1]:null,src:t}}})},function(e,t,i){"use strict";var n=i(0),s=i(9),o=i(1595);e.exports=s.extend({parse:function(e){var t=new o(n.pick(e,"elementResource","type","imageUrl","videoUrl"),{parse:!0});return n.extend({},n.omit(e,"elementResource","type","imageUrl","videoUrl"),{resource:t})},toJSON:function(){var e=n.omit(this.attributes,"resource");return e.resource=this.get("resource").toJSON(),e.urlVar&&(e.urlVar=this.app.makeUrl(e.urlVar)),e}})},,function(e,t){e.exports=function(e){var t='<div class="vjs-container"><noscript><video class="video-js vjs-deposit-skin ';return e.blackBackground&&(t+=" vjs-bg-black"),t+='"style="width: '+e.width+"px; height: "+e.height+'px;"width="'+e.width+'" height="'+e.height+'" controls="'+e.controls+'" autoplay',e.poster&&(t+=' poster="'+e.poster+'"'),e.preload&&(t+=" preload"),e.loop&&(t+=" loop"),t+=">",e.files.mp4&&(t+='<source type="video/mp4" src="'+e.files.mp4+'" itemprop="contentURL"></source>'),e.isWebmAllowed&&e.files.webm&&(t+='<source type="video/webm" src="'+e.files.webm+'" itemprop="contentURL"></source>'),e.files.ogg&&(t+='<source type="video/ogg" src="'+e.files.ogg+'" itemprop="contentURL"></source>'),t+='</video></noscript><video class="video-js vjs-deposit-skin ',e.blackBackground&&(t+=" vjs-bg-black"),t+='"style="width: '+e.width+"px; height: "+e.height+'px;"width="'+e.width+'" height="'+e.height+'" controls="'+e.controls+'"',e.poster&&(t+=' poster="'+e.poster+'"'),e.preload&&(t+=" preload"),e.loop&&(t+=" loop"),t+=">",e.files.mp4&&(t+='<source type="video/mp4" src="'+e.files.mp4+'" itemprop="contentURL"></source>'),e.isWebmAllowed&&e.files.webm&&(t+='<source type="video/webm" src="'+e.files.webm+'" itemprop="contentURL"></source>'),e.files.ogg&&(t+='<source type="video/ogg" src="'+e.files.ogg+'" itemprop="contentURL"></source>'),t+="</video></div>"}},,function(e,t){e.exports=function(e){var t='<div id="'+e.id+'" class="tooltip tooltip_type-'+e.type+" _tooltip "+e.classes+'">';return e.pointerShow&&(t+='<i class="tooltip__pointer _pointer"></i>'),t+='<div class="tooltip__content _content"></div></div>'}},,function(e,t,i){"use strict";e.exports=["Search by image","Folder search","Layout Switcher Disabled","LightfieldStat2","SPA navigation","Show Event Banner","Show Black Friday Banner","Show Cyber Monday Banner","Show file title in preview","Upload Related After","Lightfield Stat","Membership is active","Create Design","Create Design Home","Auth Part Design Upgrade","File View Classic","File Title Disabled","Purchase Sidebar on File View","Search Without File View Modal","File View Modal Image Max Thumb","File View Modal Big Related","HrefLang disabled for view item","Enabled search sortings","Endless File View","Similar Wide File View","Related Wide File View","Hide search info footer title","Show curated collection","Tour","Folder websockets enabled","New Folder Tour","Show Sign Up Condition","Sign Up Modal instead of File View Modal","Is Bird in Flight Allowed","Is Blog Allowed","Download mode","Cancellation Feedback for Membership","Domain excluded from hreflangs","Min rebill discount price","Is index page membership banner allowed","Override country ip","Web Push Notifications Allowed","Eurovision 2017 Trends","Subscribe Trusted Company","Subscribe Fresh","Subscribe New","Is webm video thumb allowed","Show search in downloaded","Search template texts","Experiments sended to search","Seo slice 10","Vectors Hide","Four Groups Test","Is signup complete step enabled","Is Yandex Enabled","Memberships plans group","Crello button type","Crello App Banner","Premium collection for ES","Enterprise Tax Profile Countries","Flexible with free Curated Collection","Broad size file view","Blinger integration","Lazy File Relates","Max size file view"]},function(e,t,i){"use strict";e.exports.format=[{code:"UA",mask:"+xxx-xx-xxx-xxxx"},{code:"RU",mask:"+x-xxx-xxx-xxxx"},{code:"US",mask:"+x-xxx-xxx-xxxx"},{code:"DE",mask:"+xx-xxx-xxx-xx-xx-xx"},{code:"FR",mask:"+xx-xxx-xxxx-xx"},{code:"ES",mask:"+xx-xx-xxx-xxxx"},{code:"IT",mask:"+xx-xxx-xxx-xxxx"},{code:"PT",mask:"+xxx-xx-xxx-xxxx"},{code:"BR",mask:"+xx-xxx-xxx-xxxx"},{code:"PL",mask:"+xx-xx-xxx-xxxx"},{code:"TR",mask:"+xx-xxx-xxx-xxxx"},{code:"CN",mask:"+xx-xxx-xxx-xxxx"},{code:"GB",mask:"+xx-xxx-xxx-xxxx"},{code:"MX",mask:"+xx-xxx-xxx-xxxx"},{code:"GR",mask:"+xxx-xx-xxxxxx"},{code:"CY",mask:"+xxx-xx-xxxxxx"},{code:"IN",mask:"xxx-xxx-xxx-xxxx"}]},function(e,t,i){"use strict";var n=i(0),s=i(48),o=i(9);e.exports=s.extend({url:"Features",model:o.extend({idAttribute:"name",defaults:{name:null,status:null,value:null}}),getQueryParams:function(){return{features:this.toJSON().map(function(e){return e.name})}},parse:function(e){var t=e.features;return e.errors?[]:this.prepareFeaturesForSet(t)},prepareFeaturesForSet:function(e){void 0===e&&(e={});var t=[];for(var i in e)if({}.hasOwnProperty.call(e,i)){var n=e[i],s=n.value;try{s=JSON.parse(s)}catch(e){}t.push({name:i,value:s,status:n.status})}return t},isFeatureEnabled:function(e){var t=this.get(e);return t&&"enabled"===t.get("status")},isFeatureNotEmpty:function(e){return this.get(e)&&!!this.get(e).get("value")},isFeatureOnValue:function(e,t){if(!this.isFeatureEnabled(e))return!1;var i=this.get(e),s=1==+i.get("value")||!n.isEmpty(i.get("value"));return null!=t&&(s=i.get("value")&&i.get("value")[t]),s},isValueInFeature:function(e,t,i){if(!this.isFeatureEnabled(e))return!1;var n=this.get(e).get("value");return(i||"").split(".").forEach(function(e){e&&(n=n[e]||!1)}),!!(n&&n instanceof Array)&&-1!==n.indexOf(t)}})},function(e,t,i){"use strict";var n=i(0),s=i(9);e.exports=s.extend({url:"Notification",defaults:{id:null,aggressiveLevel:null,message:null,bgrColor:null,bgrImage:null,animated:!1,height:null,barLink:null,buttonText:null,buttonLink:null,buttonColor:null,buttonTextColor:null,buttonMinWidth:null,buttonPosition:null,messageColor:null,accepted:void 0},getQueryParams:function(){return n.pick(this.attributes,n.keys(this.defaults))},parse:function(e){return n.result(e,"notifBar",{})}})},function(e,t,i){"use strict";var n=i(0),s=i(1605),o=i(48);e.exports=o.extend({model:s,url:"ActiveNotification",getQueryParams:{},toSessionStore:function(){var e=this.where(function(e){return e.get("id")&&n.isNull(e.get("aggressiveLevel"))||e.get("aggressiveLevel")});return n.map(e,function(e){return n.pick(e.attributes,"id")})}})},function(e,t,i){"use strict";var n=i(9);e.exports=n.extend({url:"UserBanInfo",defaults:{loginAsUser:!1,registerNewUser:!1,recoverPassword:!1,purchaseProductInternal:!1,createCardInternal:!1,updateCardInternal:!1},actions:["recoverPassword","loginAsUser","registerNewUser","purchaseProductInternal","createCardInternal","updateCardInternal"],getQueryParams:function(){return{actions:this.actions}},parse:function(e){return e.errors?{}:e.result}})},function(e,t,i){"use strict";var n=i(1)(i(10)),s=i(9),o=i(22).numberFormat,r=function(e){function t(t,i){var n;return(n=e.call(this,t,i)||this).url="Feedbacks",n.defaults={count:0,rating:0},n}(0,n.default)(t,e);var i=t.prototype;return i.getFormatedRating=function(){return{rate:o(this.get("rating"),{decimals:1}),feedbacks:o(this.get("count"),{thousandsSep:""})}},i.getQueryParams=function(){return{}},t}(s);e.exports=r},function(e,t){e.exports=function(e){return'<div class="cmp-livechat-floater__box cmp-livechat-floater__box_pinned cmp-livechat-floater__box_hidden"><div class="cmp-livechat-floater"><h2 class="cmp-livechat-floater__title">'+this.tr("Need Assistance?")+'</h2><p class="cmp-livechat-floater__text">'+this.tr("If you have questions, let us help you choose the right plan.")+'</p><span class="button button-l button-blue cmp-livechat-floater__button">'+this.tr("Live chat with us!")+'</span><i class="cmp-livechat-floater__close _close"></i></div></div>'}},function(e,t,i){"use strict";e.exports.defaults={group:4,accountId:1085480,link:"//cdn.livechatinc.com/tracking.js"},e.exports.guest=[{key:"en",value:4},{key:"hu",value:4},{key:"mx",value:4},{key:"gr",value:4},{key:"ko",value:4},{key:"de",value:5},{key:"fr",value:6},{key:"es",value:7},{key:"sp",value:7},{key:"ru",value:8},{key:"it",value:9},{key:"pt",value:10},{key:"br",value:10},{key:"pl",value:11},{key:"nl",value:12},{key:"jp",value:13},{key:"cz",value:14},{key:"se",value:15},{key:"cn",value:16},{key:"tr",value:17},{key:"ua",value:64}],e.exports.logged=[{key:"hu",value:4},{key:"mx",value:4},{key:"gr",value:4},{key:"ko",value:4},{key:"en",value:18},{key:"de",value:19},{key:"fr",value:20},{key:"es",value:21},{key:"sp",value:21},{key:"ru",value:22},{key:"it",value:23},{key:"pt",value:24},{key:"br",value:24},{key:"pl",value:25},{key:"nl",value:26},{key:"jp",value:27},{key:"cz",value:28},{key:"se",value:29},{key:"cn",value:30},{key:"tr",value:31},{key:"ua",value:65}],e.exports.windowProps={scrollbars:"no",resizable:"yes",location:"no",status:"yes",width:544,height:544,top:function(e){return window.screen.height/2-e.height/2},left:function(e){return window.screen.width/2-e.width/2}}},function(e,t,i){"use strict";var n=i(0),s=i(16),o=i(687),r=i(1609);e.exports=o.extend({template:r,events:n.extend({},o.prototype.events,{"click ._close":"onCloseClick"}),globals:{"scroll window":"setFloaterPosition","resize window":"setFloaterPosition"},showDelay:6e4,minScreenWidth:1150,minScreenWaitWidth:1450,minScrollTop:150,target:".footer",enabled:!0,isFloatingDisabled:function(){return window.innerWidth<=this.minScreenWidth},isScrollAllows:function(){return window.innerWidth>this.minScreenWaitWidth||window.innerWidth>this.minScreenWidth&&window.innerWidth<=this.minScreenWaitWidth&&s.$(window).scrollTop()>=this.minScrollTop},clientAfterRender:function(){this.showLiveChat()},onCloseClick:function(e){e.preventDefault(),this.$el.addClass("cmp-livechat-floater__box_hidden")},showLiveChat:function(){var e=this;this.enabled&&(this.setFloaterPosition(),n.delay(function(){e.$el.removeClass("cmp-livechat-floater__box_hidden")},this.isFloatingDisabled()?0:this.showDelay))},setFloaterPosition:function(){!this.isTargetVisible()&&this.isScrollAllows()?s.$(this.el).addClass("cmp-livechat-floater__box_pinned").removeAttr("style"):s.$(this.el).removeClass("cmp-livechat-floater__box_pinned").css({bottom:s.$(this.target).outerHeight()})},isTargetVisible:function(){return s.$(window).scrollTop()+s.$(window).height()>s.$(this.target).offset().top}})},function(e,t){e.exports=function(e){return'<div class="bosch-greeting-modal"><section class="bosch-greeting-modal__para"><div class="bosch-greeting-modal__img-holder"><img src="'+this.app.cdnPath+'/_img/hello-bosch-image.jpg" /></div><p class="bosch-greeting-modal__text">'+this.tr("Our photography style is always inspirational in nature, capturing the benet of connecting life through Bosch products. We use positive images featuring real people. All images should feel like they are part of the same brand and convey one overall style.")+'</p></section><section class="bosch-greeting-modal__para"><ul class="list list-black bosch-greeting-modal__list"><li class="list-item">'+this.tr("Light and bright")+'</li><li class="list-item">'+this.tr("Warm coloring  its summer lighting, even indoors (exception: night-time images)")+'</li><li class="list-item">'+this.tr("Styled with vibrant, saturated CD colors")+'</li><li class="list-item">'+this.tr("Real people in real situations")+"</li></ul><p>"+this.tr("Please only download images supporting this Bosch imagery style!")+'</p></section><label class="checkbox-box checkbox-box-m bosch-greeting-modal__checkbox"><input class="checkbox _forget" type="checkbox" name="forget"><i class="icon icon-checkbox icon-checkbox-m"></i><span class="filter-full__item-text_hover-underline checkbox-text">'+this.tr("Dont show again")+"</span></label></div>"}},function(e,t,i){"use strict";var n=i(475),s=i(471),o=i(127),r=i(1612);e.exports=n.extend({initialize:function(){var e=this;this.title=this.tr("Dear Bosch user"),this.body=function(){return new(s.extend({template:r}))({app:e.app})},this.footer=[{label:o.OkBtn,color:"blue",defaultAction:!0,callback:"closeCallback"}];for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];n.prototype.initialize.apply(this,i)},closeCallback:function(){this.getView("._body").$("._forget").is(":checked")&&this.app.userSettings.set({boschGreetingEnabled:!1}),this.hide()}})},function(e,t){e.exports=function(e){return'<div class="top-button-wrapper hidden '+e.classNames+'"><button class="button-to-top"></button></div>'}},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(22),r=i(1614);e.exports=s.extend({name:"ToTopButton",el:!1,template:r,top:0,borderline:150,duration:300,active:!0,events:{click:"onClick"},globals:{"scroll window":"toggleButton"},initialize:function(){this.listenTo(this.app.observer,"ToTopButton:Toggle",this.observeToggle)},serialize:function(){return{classNames:o.classNames({"top-button_neighbour":this.app.features.isFeatureOnValue("Blinger integration")})}},clientAfterRender:function(){this.toggleButton()},toggleButton:function(){this.$el.toggleClass("hidden",!this.active||window.pageYOffset<this.borderline)},toggleState:function(e){this.active=!!e,this.toggleButton()},observeToggle:function(e){this.toggleState(e.state)},onClick:function(){this.scrollToTop()},scrollToTop:function(e){window.pageYOffset!==this.top&&this.scroll(e||this.duration)},scroll:n.throttle(function(e){window.scrollTo(0,window.pageYOffset+(this.top-window.pageYOffset)/e*10),this.scrollToTop(e-10)},10)})},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1025),r=i(1024),a=i(22);e.exports=s.extend({name:"Promocode",el:!1,check:function(){var e=a.deepClone(this.app.userSettings.get("promoCode")||{});if(e&&e.code)if(this.app.user.isLoggedIn()){var t=new o({code:e.code},{app:this.app});this.listenTo(t,{invalid:this.onModelInvalid,sync:this.onModelSync}),t.save(),this.app.userSettings.set("promoCode",{})}else!1===e.shown&&(this.showNotification(this.tr("Please log in to your Depositphotos.com account.")),e.shown=!0,this.app.userSettings.set({promoCode:e}))},onModelInvalid:function(e,t){this.showNotification(n.isArray(t)?this.tr(n.first(t).code,e.get("code")):this.tr('Promotion code "%s" does not exist.',e.get("code")))},onModelSync:function(e,t){var i=this;t.template&&this.showNotification(this.tr(t.template,t.values||[]),function(){return i.app.user.fetch()})},showNotification:function(e,t){new r({app:this.app,message:e,onAfterHideCallback:t||n.noop}).show()}})},function(e,t){e.exports=function(e){var t='<div class="signup-user-modal"><div class="signup-user-modal__left"><div class="signup-user-modal__advantages"><i class="signup-user-modal__advantages-ok-icon icon icon-round-ok-huge"></i><h4 class="signup-user-modal__sub-title">'+this.tr("The benefits of having an Account on Depositphotos")+'</h4><div class="_advantages"></div></div></div><div class="signup-user-modal__right">';return"social-email"!==e.mode&&(t+='<span class="signup-user-modal__title">'+e.title+'</span><h4 class="signup-user-modal__sub-title">'+e.subTitle+"</h4>"),"email"===e.mode?t+='<span class="signup-user-modal__back _back">'+this.tr("Back")+'</span><div class="signup-user-modal__form-box"><div class="signup-user-modal__fields _form"></div><div class="signup-user-modal__action"><button class="signup-user-modal__submit-btn button button-xxxl button-green _submit" type="submit" form="SignupUser">'+this.tr("Register Account")+"</button></div></div>":"social-email"===e.mode?t+='<div class="signup-user-modal__social-fields _form"></div>':t+='<div class="signup-user-modal__social-box _social"></div><div class="signup-user-modal__with-email-box">'+this.tr("or")+' <span class="signup-user-modal__with-email _sign-up-email">'+this.tr("Sign Up with E-mail")+"</span></div>","social-email"!==e.mode&&(t+='<div class="signup-user-modal__condition _condition"></div>'),t+="</div></div>"}},function(e,t){e.exports=function(e){return'<div class="signup-user-modal__social"><div class="signup-user-modal__social-btn signup-user-modal__social-btn_google _social-google"><i class="signup-user-modal__social-icon icon icon-google-white-big"></i>'+this.tr("Sign Up with <b>Google</b>")+'</div><div class="signup-user-modal__social-btn signup-user-modal__social-btn_facebook _social-facebook"><i class="signup-user-modal__social-icon icon icon-facebook-white-big"></i>'+this.tr("Sign Up with <b>Facebook</b>")+"</div></div>"}},function(e,t){e.exports=function(e){var t='<form method="POST" action='+e.links.signUp+'" name="SignupUser"><label class="signup-user-modal__field field-box input-box input-box-xxxl _email-field"><input class="input input-xxxl" type="text" name="email" placeholder="'+this.tr("E-mail")+' *" /></label><label class="signup-user-modal__field signup-user-modal__password-field field-box input-box input-box-xxxl"><input class="signup-user-modal__password-input input input-xxxl _password" type="password" name="password" placeholder="'+this.tr("Password")+' *"  autocomplete="off" /></label><div class="signup-user-modal__captcha g-recaptcha _captcha';return e.captcha.show&&(t+=" signup-user-modal__captcha_visible"),t+='" data-sitekey="'+e.captcha.siteKey+'"></div></form>'}},function(e,t,i){"use strict";var n=i(18),s=i(1026),o=i(1064);n(n.S,"Promise",{try:function(e){var t=s.f(this),i=o(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){"use strict";var n=i(18),s=i(7),o=i(17),r=i(1066),a=i(1063);n(n.P+n.R,"Promise",{finally:function(e){var t=r(this,s.Promise||o.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then(function(){return i})}:e,i?function(i){return a(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){var n=i(31)("iterator"),s=!1;try{var o=[7][n]();o.return=function(){s=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var o=[7],r=o[n]();r.next=function(){return{done:i=!0}},o[n]=function(){return r},e(o)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(17),s=i(7),o=i(33),r=i(19),a=i(31)("species");e.exports=function(e){var t="function"==typeof s[e]?s[e]:n[e];r&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n=i(25);e.exports=function(e,t,i){for(var s in t)i&&e[s]?e[s]=t[s]:n(e,s,t[s]);return e}},function(e,t,i){var n=i(17),s=i(1065).set,o=n.MutationObserver||n.WebKitMutationObserver,r=n.process,a=n.Promise,l="process"==i(49)(r);e.exports=function(){var e,t,i,c=function(){var n,s;for(l&&(n=r.domain)&&n.exit();e;){s=e.fn,e=e.next;try{s()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(l)i=function(){r.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var h=a.resolve();i=function(){h.then(c)}}else i=function(){s.call(n,c)};else{var u=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),i=function(){p.data=u=!u}}return function(n){var s={fn:n,next:void 0};t&&(t.next=s),e||(e=s,i()),t=s}}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(50),s=i(31)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[s]===e)}},function(e,t,i){var n=i(32);e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,i){var n=i(65),s=i(1628),o=i(1627),r=i(32),a=i(66),l=i(154),c={},h={};(t=e.exports=function(e,t,i,u,p){var d,f,m,g,b=p?function(){return e}:l(e),_=n(i,u,t?2:1),v=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(o(b)){for(d=a(e.length);d>v;v++)if((g=t?_(r(f=e[v])[0],f[1]):_(e[v]))===c||g===h)return g}else for(m=b.call(e);!(f=m.next()).done;)if((g=s(m,_,f.value,t))===c||g===h)return g}).BREAK=c,t.RETURN=h},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){"use strict";var n,s,o,r,a=i(157),l=i(17),c=i(65),h=i(153),u=i(18),p=i(24),d=i(64),f=i(1630),m=i(1629),g=i(1066),b=i(1065).set,_=i(1625)(),v=i(1026),y=i(1064),w=i(1063),x=l.TypeError,C=l.process,k=l.Promise,S="process"==h(C),P=function(){},T=s=v.f,A=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[i(31)("species")]=function(e){e(P,P)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t}catch(e){}}(),I=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var i=e._c;_(function(){for(var n=e._v,s=1==e._s,o=0,r=function(t){var i,o,r,a=s?t.ok:t.fail,l=t.resolve,c=t.reject,h=t.domain;try{a?(s||(2==e._h&&R(e),e._h=1),!0===a?i=n:(h&&h.enter(),i=a(n),h&&(h.exit(),r=!0)),i===t.promise?c(x("Promise-chain cycle")):(o=I(i))?o.call(i,l,c):l(i)):c(n)}catch(e){h&&!r&&h.exit(),c(e)}};i.length>o;)r(i[o++]);e._c=[],e._n=!1,t&&!e._h&&E(e)})}},E=function(e){b.call(l,function(){var t,i,n,s=e._v,o=L(e);if(o&&(t=y(function(){S?C.emit("unhandledRejection",s,e):(i=l.onunhandledrejection)?i({promise:e,reason:s}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",s)}),e._h=S||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){b.call(l,function(){var t;S?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},$=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},D=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw x("Promise can't be resolved itself");(t=I(e))?_(function(){var n={_w:i,_d:!1};try{t.call(e,c(D,n,1),c($,n,1))}catch(e){$.call(n,e)}}):(i._v=e,i._s=1,M(i,!1))}catch(e){$.call({_w:i,_d:!1},e)}}};A||(k=function(e){f(this,k,"Promise","_h"),d(e),n.call(this);try{e(c(D,this,1),c($,this,1))}catch(e){$.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(1624)(k.prototype,{then:function(e,t){var i=T(g(this,k));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=S?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&M(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=c(D,e,1),this.reject=c($,e,1)},v.f=T=function(e){return e===k||e===r?new o(e):s(e)}),u(u.G+u.W+u.F*!A,{Promise:k}),i(109)(k,"Promise"),i(1623)("Promise"),r=i(7).Promise,u(u.S+u.F*!A,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(a||!A),"Promise",{resolve:function(e){return w(a&&this===r?k:this,e)}}),u(u.S+u.F*!(A&&i(1622)(function(e){k.all(e).catch(P)})),"Promise",{all:function(e){var t=this,i=T(t),n=i.resolve,s=i.reject,o=y(function(){var i=[],o=0,r=1;m(e,!1,function(e){var a=o++,l=!1;i.push(void 0),r++,t.resolve(e).then(function(e){l||(l=!0,i[a]=e,--r||n(i))},s)}),--r||n(i)});return o.e&&s(o.v),i.promise},race:function(e){var t=this,i=T(t),n=i.reject,s=y(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return s.e&&n(s.v),i.promise}})},function(e,t){},function(e,t,i){i(1632),i(155),i(158),i(1631),i(1621),i(1620),e.exports=i(7).Promise},function(e,t){e.exports=function(e){var t='<div class="signup-condition">';if(e.isExtended){t+='<div class="signup-condition__wrap"><div class="signup-condition__error _error"></div>';var i=e.schema;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<div class="signup-condition__field-box"><label class="signup-condition__field field-box checkbox-box checkbox-box-m checkbox-box-line"><input class="checkbox _checkbox" type="checkbox" name="'+(n=i[s+=1]).name+'"',n.checked&&(t+=' checked="checked"'),t+=' /><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+n.text+"</span></label></div>";t+="</div>"}else t+='<span class="signup-condition__text">',e.conditionText?t+=e.conditionText+" *":t+=this.tr('By clicking Register Account or signing up using the Facebook or Google+ you agree to the <a class="link-blue" href="%s" target="_blank">Membership Agreement</a>',this.app.makeUrl("member-agreement"))+" *",t+="</span>";return t+="</div>"}},function(e,t,i){"use strict";var n=i(9);e.exports=n.extend({url:"SignupCondition",defaults:{field:"",value:null}})},function(e,t){e.exports=function(e){var t='<div class="signup-form__advantage signup-form__advantage_animated"><span class="signup-form__advantage-item _item"><i class="signup-form__icon icon icon-ok-in-round';return e.useLightStyle&&(t+="-silver"),t+='"></i><span class="signup-form__advantage-text">'+this.tr("Use Favorites for your projects. Create folders and share them with your friends and colleagues.")+'</span></span><span class="signup-form__advantage-item _item"><i class="signup-form__icon icon icon-ok-in-round',e.useLightStyle&&(t+="-silver"),t+='"></i><span class="signup-form__advantage-text">'+this.tr("Add items to your Cart so you can buy them later.")+'</span></span><span class="signup-form__advantage-item _item"><i class="signup-form__icon icon icon-ok-in-round',e.useLightStyle&&(t+="-silver"),t+='"></i><span class="signup-form__advantage-text">'+this.tr("Take part in our Referral Program and get 15% from every purchase made by your friends.")+'</span></span><span class="signup-form__advantage-item _item"><i class="signup-form__icon icon icon-ok-in-round',e.useLightStyle&&(t+="-silver"),t+='"></i><span class="signup-form__advantage-text">'+this.tr("And lots of other offers! More than %s customers have rated our service highly.",e.customers)+"</span></span></div>"}},function(e,t,i){"use strict";var n=i(1)(i(4)),s=i(471),o=i(749),r=i(1073),a=i(1636),l=s.extend({name:"SignupAdvantages",el:!1,template:a,runAnimation:!0,useLightStyle:!1,initialize:function(){this.stats=new o({},{app:this.app}),this.stats.fetch(),this.listenTo(this.stats,"change",this.render)},clientAfterRender:function(){var e=this;this.runAnimation?setTimeout(function(){return e.animate(e.$("._item"),0)},500):this.$("._item").css({opacity:1})},animate:function(e,t){var i=this,n={onShow:!0,showSpeed:.5,showMethod:"fadeInDown"};if(t<=e.length-1){var s=this.$(e[t]);this.animatedShow(s,n,function(){i.animate(e,t+1),s.css({opacity:1}),i.removeAnimatedClassNames(s)})}},serialize:function(){return(0,n.default)(this.stats.serialize(),{useLightStyle:this.useLightStyle})}});(0,n.default)(l.prototype,r),e.exports=l},function(e,t){e.exports=function(e){return'<div class="modal-social-email"><i class="modal-social-email__icon icon icon-enterprise-done"></i><span class="modal-social-email__text">'+this.tr("Please enter your primary e-mail address to complete the registration")+'</span><label class="modal-social-email__field field-box input-box input-box-xxxl"><input class="input input-xxxl _email" type="text" name="email" value="" placeholder="'+this.tr("E-mail")+' *" /></label><button class="modal-social-email__button button button-xxxl button-green _proceed-button">'+this.tr("Complete Registration")+"</button></div>"}},function(e,t,i){"use strict";var n=i(132);e.exports=i(9).extend({url:"socialEmail",defaults:n.SocialEmail.defaults,validation:n.SocialEmail.validation})},function(e,t,i){"use strict";var n=i(0),s=i(471),o=i(1639),r=i(488),a=i(485),l=i(1638),c=s.extend({name:"SocialEmailForm",el:!1,template:l,events:{"click ._proceed-button":"onSubmit","focusin input":"onInputEvent","keypress input":"onInputEvent","focusout input":"onInputEvent"},initialize:function(){this.model=new o({},{app:this.app}),this.listenTo(this.model,"invalid",this.showError)},onInputEvent:function(e){switch(e.type){case"keypress":(e.which||e.keyCode)===a.enter&&this.onSubmit(e);break;case"focusout":this.model.secureSet("email",e.currentTarget.value);break;case"focusin":this.fieldReset(this.$(e.currentTarget).parent())}},showError:function(e,t){var i=this;this.fieldReset(this.$("input").parent()),n.each(t,function(e,t){var s=n.isArray(e)?n.first(e):e;i.fieldIncorrect(i.$("input[name="+t+"]").parent(),{errorMessage:s})})},onSubmit:function(e){e.preventDefault(),this.model.secureSet("email",this.$("input").val()),this.model.validationError||this.onSuccessCallback(this.model.get("email"))},onSuccessCallback:function(){}});n.extend(c.prototype,r),e.exports=c},function(e,t,i){"use strict";var n=i(0),s=i(9);e.exports=s.extend({url:"checkUnique",defaults:{name:null,value:null},parse:function(e){return e.errors&&e.errors.length&&(this.validationError=e.errors,this.trigger("invalid",this,e.errors,{validationError:e.errors})),n.pick(e,n.keys(this.defaults))}})},function(e,t){e.exports=function(e){var t='<div class="notification-advanced"><i class="notification-advanced__icon _notification-icon"></i><span class="notification-advanced__message';return e.description||(t+="_empty"),t+='">'+e.message+"!</span>",e.description&&(t+='<span class="notification-advanced__description">'+this.tr(e.description)+"</span>"),t+="</div>"}},function(e,t,i){"use strict";var n=i(471);e.exports=n.extend({name:"NotificationDetails",el:!1,template:i(1642),message:"",description:"",type:null,serialize:function(){return{message:this.message,description:this.description}}})},function(e,t,i){"use strict";var n=i(0),s=i(475),o=i(1643);e.exports=s.extend({overlayOpacity:70,draggable:!1,noBorder:!0,showHeader:!1,fullScreen:!1,destroyOnHide:!0,message:"",description:"",type:null,options:{},modalClasses:"modal_notification",bodyClasses:"modal__body_notification",notificationTypes:["success","error"],footer:[],initialize:function(){this.type=n.contains(this.notificationTypes,this.options.type)?this.options.type:n.first(this.notificationTypes),this.options.callback&&(this.onAfterHideCallback=this.options.callback),this.messageMap=this.getMessageMap(),this.body=[new o({message:this.messageMap[this.options.type],description:this.options.description})];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.prototype.initialize.apply(this,t)},clientAfterRender:function(){for(var e=this,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];this.$("._notification-icon").addClass("notification-advanced__icon_"+this.type),n.delay(function(){return s.prototype.hide.apply(e,i)},1400),s.prototype.clientAfterRender.apply(this,i)},getMessageMap:function(){return this.messageMap||{success:this.tr("Completed"),error:this.tr("Error")}}})},function(e,t){e.exports=function(e){var t='<div class="payment-completed-box"><div class="payment-completed"><div class="payment-completed_shadow"></div><div class="payment-completed__table"><h3 class="payment-completed__title">'+this.tr("Your Payment Details")+this.tr(":")+'</h3><div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Product Type")+this.tr(":")+'</span><span class="payment-completed__value">'+e.productName+'</span></div><div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Order Number")+this.tr(":")+'</span><span class="payment-completed__value">'+e.orderNumber+"</span></div>";return e.showPdfLink&&(t+='<div class="payment-completed__label payment-completed__label_box"><a href="'+e.pdfLink+'" class="payment-completed__pdf link-blue"><i class="payment-completed__icon-pdf icon icon-pdf-red"></i>'+this.tr("Download PDF")+"</a></div>"),t+='<div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Price")+this.tr(":")+'</span><span class="payment-completed__value">'+e.marketPrice+"</span></div></div></div></div>"}},function(e,t){e.exports=function(e){return'<p class="modal__text">'+e.message+"</p>"}},function(e,t,i){"use strict";var n=i(1),s=n(i(10)),o=n(i(494)),r=i(0),a=function(e){function t(t){var n;return n=e.call(this,t)||this,r.extend((0,o.default)(n),{template:i(1646)},t),n}return(0,s.default)(t,e),t.prototype.serialize=function(){return{message:this.message}},t}(i(471));e.exports=a},function(e,t){e.exports=function(e){var t='<div class="modal _modal '+e.modalClasses+'">';if(e.noBorder||(t+='<div class="modal__border"></div>'),t+='<div class="modal__dialog">',e.showHeader&&(t+='<div class="modal__header _drag-handler">',e.showTitle&&(t+='<span class="modal__title">'+this.tr(e.title)+"</span>"),t+='<i class="modal__close-button button-close-simple _close"></i></div>'),t+='<div class="modal__body _body '+e.bodyClasses+'">\x3c!--body mount--\x3e</div>',e.footer.length){t+='<div class="modal__footer _footer">';var i=e.footer;if(i)for(var n,s=-1,o=i.length-1;s<o;)t+='<button class="button button-l button-'+((n=i[s+=1]).color||"white")+" modal__footer-button "+(n.selector||"")+' _btn" ',n.disabled&&(t+="disabled"),t+=">"+this.tr(n.label)+"</button>";t+="</div>"}return e.leftBtn&&(t+='<div class="modal__arrow modal__arrow-left"><span class="modal__arrow-border"></span><span class="modal__arrow-container _left-arrow-button"><i class="modal__arrow-container-content"></i></span></div>'),e.rightBtn&&(t+='<div class="modal__arrow  modal__arrow-right"><span class="modal__arrow-border"></span><span class="modal__arrow-container _right-arrow-button"><i class="modal__arrow-container-content"></i></span></div>'),t+="</div></div>"}},function(e,t,i){var n,s,o;s=[i(101),i(922),i(1071),i(1072),i(1070),i(659),i(912)],void 0===(o="function"==typeof(n=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return n=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),!n||this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,i,n){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===s||e.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,r=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,h=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,p="y"===this.options.axis||t+h>o&&t+h<r,d=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),s="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=n&&s;return!!o&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,s,o,r=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(s=e(l[i],this.document[0]),n=s.length-1;n>=0;n--)(o=e.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){r.push(this)}for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(c);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,o,r,a,l,c,h=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(s=e(p[i],this.document[0]),n=s.length-1;n>=0;n--)(o=e.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(r=u[i][1],a=u[i][0],n=0,c=a.length;n<c;n++)(l=e(a[n])).data(this.widgetName+"-item",r),h.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,s,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]);return t._addClass(s,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(s,"ui-sortable-helper"),"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(s)):"tr"===n?t._createTrPlaceholder(t.currentItem,s):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,s,o,r,a,l,c,h,u,p=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&e.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(s=1e4,o=null,h=p.floating||this._isFloating(this.currentItem),r=h?"left":"top",a=h?"width":"height",u=h?"pageX":"pageY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[r],c=!1,t[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(t[u]-l)<s&&(s=Math.abs(t[u]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,o=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function s(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(s("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(s("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})?n.apply(t,s):n)||(e.exports=o)},function(e,t,i){var n,s,o;s=[i(101),i(659)],void 0===(o="function"==typeof(n=function(e){return e.ui.plugin={add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i,n){var s,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;s<o.length;s++)e.options[o[s][0]]&&o[s][1].apply(e.element,i)}}})?n.apply(t,s):n)||(e.exports=o)},function(e,t){e.exports=function(e){var t='<div class="overlay '+e.overlayClasses+'"';return e.opacity&&(t+=' style="opacity: '+e.opacity+'"'),t+=">",e.closeButton&&(t+='<i class="overlay__close"></i>'),t+="</div>"}},function(e,t,i){"use strict";var n=i(735),s=i(805),o=i(665),r=i(734),a=i(750);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,s.css(t.scrollbarXRail,"display","block"),s.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(s.css(t.scrollbarXRail,"marginLeft"))+n.toInt(s.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(s.css(t.scrollbarYRail,"marginTop"))+n.toInt(s.css(t.scrollbarYRail,"marginBottom")),s.css(t.scrollbarXRail,"display","none"),s.css(t.scrollbarYRail,"display","none"),r(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),s.css(t.scrollbarXRail,"display",""),s.css(t.scrollbarYRail,"display",""))}},function(e,t,i){"use strict";var n=i(665),s=i(734);e.exports=function(e){!function(e,t){t.event.bind(e,"scroll",function(){s(e)})}(e,n.get(e))}},function(e,t,i){"use strict";var n=i(735),s=i(665),o=i(734),r=i(750);function a(e,t){var i=null,a={top:0,left:0};function l(){i&&(clearInterval(i),i=null),n.stopScrolling(e)}var c=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){var t;e.contains(0===(t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:t.getRangeAt(0).commonAncestorContainer)?c=!0:(c=!1,l())}),t.event.bind(window,"mouseup",function(){c&&(c=!1,l())}),t.event.bind(window,"keyup",function(){c&&(c=!1,l())}),t.event.bind(window,"mousemove",function(t){if(c){var h={x:t.pageX,y:t.pageY},u={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};h.x<u.left+3?(a.left=-5,n.startScrolling(e,"x")):h.x>u.right-3?(a.left=5,n.startScrolling(e,"x")):a.left=0,h.y<u.top+3?(a.top=u.top+3-h.y<5?-5:-20,n.startScrolling(e,"y")):h.y>u.bottom-3?(a.top=h.y-u.bottom+3<5?5:20,n.startScrolling(e,"y")):a.top=0,0===a.top&&0===a.left?l():i||(i=setInterval(function(){s.get(e)?(r(e,"top",e.scrollTop+a.top),r(e,"left",e.scrollLeft+a.left),o(e)):clearInterval(i)},50))}})}e.exports=function(e){a(e,s.get(e))}},function(e,t,i){"use strict";var n=i(735),s=i(665),o=i(734),r=i(750);function a(e,t,i,n){function a(t,i){r(e,"top",e.scrollTop-i),r(e,"left",e.scrollLeft-t),o(e)}var l={},c=0,h={},u=null,p=!1,d=!1;function f(){p=!0}function m(){p=!1}function g(e){return e.targetTouches?e.targetTouches[0]:e}function b(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function _(e){if(b(e)){d=!0;var t=g(e);l.pageX=t.pageX,l.pageY=t.pageY,c=(new Date).getTime(),null!==u&&clearInterval(u),e.stopPropagation()}}function v(i){if(!d&&t.settings.swipePropagation&&_(i),!p&&d&&b(i)){var n=g(i),s={pageX:n.pageX,pageY:n.pageY},o=s.pageX-l.pageX,r=s.pageY-l.pageY;a(o,r),l=s;var u=(new Date).getTime(),f=u-c;f>0&&(h.x=o/f,h.y=r/f,c=u),function(i,n){var s=e.scrollTop,o=e.scrollLeft,r=Math.abs(i),a=Math.abs(n);if(a>r){if(n<0&&s===t.contentHeight-t.containerHeight||n>0&&0===s)return!t.settings.swipePropagation}else if(r>a&&(i<0&&o===t.contentWidth-t.containerWidth||i>0&&0===o))return!t.settings.swipePropagation;return!0}(o,r)&&(i.stopPropagation(),i.preventDefault())}}function y(){!p&&d&&(d=!1,t.settings.swipeEasing&&(clearInterval(u),u=setInterval(function(){s.get(e)&&(h.x||h.y)?Math.abs(h.x)<.01&&Math.abs(h.y)<.01?clearInterval(u):(a(30*h.x,30*h.y),h.x*=.8,h.y*=.8):clearInterval(u)},10)))}i?(t.event.bind(window,"touchstart",f),t.event.bind(window,"touchend",m),t.event.bind(e,"touchstart",_),t.event.bind(e,"touchmove",v),t.event.bind(e,"touchend",y)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",f),t.event.bind(window,"pointerup",m),t.event.bind(e,"pointerdown",_),t.event.bind(e,"pointermove",v),t.event.bind(e,"pointerup",y)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",f),t.event.bind(window,"MSPointerUp",m),t.event.bind(e,"MSPointerDown",_),t.event.bind(e,"MSPointerMove",v),t.event.bind(e,"MSPointerUp",y)))}e.exports=function(e){(n.env.supportsTouch||n.env.supportsIePointer)&&a(e,s.get(e),n.env.supportsTouch,n.env.supportsIePointer)}},function(e,t,i){"use strict";var n=i(665),s=i(734),o=i(750);function r(e,t){var i=!1;function n(n){var r=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(n),a=r[0],l=r[1];(function(t,i){var n=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){var s=window.getComputedStyle(n);if(![s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/))return!1;var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&i>0||n.scrollTop===o&&i<0))return!0;var r=n.scrollLeft-n.clientWidth;if(r>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===r&&t>0))return!0}return!1})(a,l)||(i=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o(e,"top",l?e.scrollTop-l*t.settings.wheelSpeed:e.scrollTop+a*t.settings.wheelSpeed),i=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o(e,"left",a?e.scrollLeft+a*t.settings.wheelSpeed:e.scrollLeft-l*t.settings.wheelSpeed),i=!0):(o(e,"top",e.scrollTop-l*t.settings.wheelSpeed),o(e,"left",e.scrollLeft+a*t.settings.wheelSpeed)),s(e),(i=i||function(i,n){var s=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===s&&n>0||s>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&i<0||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(a,l))&&(n.stopPropagation(),n.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}e.exports=function(e){r(e,n.get(e))}},function(e,t,i){"use strict";var n=i(735),s=i(805),o=i(665),r=i(734),a=i(750);function l(e,t){var i=!1;t.event.bind(e,"mouseenter",function(){i=!0}),t.event.bind(e,"mouseleave",function(){i=!1});t.event.bind(t.ownerDocument,"keydown",function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)){var l=s.matches(t.scrollbarX,":focus")||s.matches(t.scrollbarY,":focus");if(i||l){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(n.isEditable(c))return}var h=0,u=0;switch(o.which){case 37:h=o.metaKey?-t.contentWidth:o.altKey?-t.containerWidth:-30;break;case 38:u=o.metaKey?t.contentHeight:o.altKey?t.containerHeight:30;break;case 39:h=o.metaKey?t.contentWidth:o.altKey?t.containerWidth:30;break;case 40:u=o.metaKey?-t.contentHeight:o.altKey?-t.containerHeight:-30;break;case 33:u=90;break;case 32:u=o.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=o.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:u=o.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}a(e,"top",e.scrollTop-u),a(e,"left",e.scrollLeft+h),r(e),function(i,n){var s=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===s&&n>0||s>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&i<0||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(h,u)&&o.preventDefault()}}})}e.exports=function(e){l(e,o.get(e))}},function(e,t,i){"use strict";var n=i(735),s=i(805),o=i(665),r=i(734),a=i(750);function l(e,t){var i=null,o=null;var l=function(s){!function(s){var o=i+s*t.railXRatio,r=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=o<0?0:o>r?r:o;var l=n.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;a(e,"left",l)}(s.pageX-o),r(e),s.stopPropagation(),s.preventDefault()},c=function(){n.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarX,"mousedown",function(r){o=r.pageX,i=n.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,n.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",c),r.stopPropagation(),r.preventDefault()})}function c(e,t){var i=null,o=null;var l=function(s){!function(s){var o=i+s*t.railYRatio,r=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=o<0?0:o>r?r:o;var l=n.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));a(e,"top",l)}(s.pageY-o),r(e),s.stopPropagation(),s.preventDefault()},c=function(){n.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarY,"mousedown",function(r){o=r.pageY,i=n.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,n.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",c),r.stopPropagation(),r.preventDefault()})}e.exports=function(e){var t=o.get(e);l(e,t),c(e,t)}},function(e,t,i){"use strict";var n=i(665),s=i(734),o=i(750);e.exports=function(e){!function(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",function(n){var r=n.pageY-window.pageYOffset-i(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;o(e,"top",e.scrollTop+r*t.containerHeight),s(e),n.stopPropagation()}),t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",function(n){var r=n.pageX-window.pageXOffset-i(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;o(e,"left",e.scrollLeft+r*t.containerWidth),s(e),n.stopPropagation()})}(e,n.get(e))}},function(e,t,i){"use strict";var n=i(735),s=i(923),o=i(665),r=i(734),a={"click-rail":i(1661),"drag-scrollbar":i(1660),keyboard:i(1659),wheel:i(1658),touch:i(1657),selection:i(1656)},l=i(1655);e.exports=function(e,t){t="object"==typeof t?t:{},s.add(e,"ps");var i=o.add(e);i.settings=n.extend(i.settings,t),s.add(e,"ps--theme_"+i.settings.theme),i.settings.handlers.forEach(function(t){a[t](e)}),l(e),r(e)}},function(e,t,i){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i=void 0!==t;this.events[e]=this.events[e].filter(function(n){return!(!i||n===t)||(this.element.removeEventListener(e,n,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var s=function(){this.eventElements=[]};s.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},s.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},s.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},s.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},s.prototype.once=function(e,t,i){var n=this.eventElement(e),s=function(e){n.unbind(t,s),i(e)};n.bind(t,s)},e.exports=s},function(e,t,i){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},function(e,t,i){"use strict";var n=i(735),s=i(805),o=i(665);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),s.remove(t.scrollbarX),s.remove(t.scrollbarY),s.remove(t.scrollbarXRail),s.remove(t.scrollbarYRail),n.removePsClasses(e),o.remove(e))}},function(e,t,i){"use strict";var n=i(1666),s=i(1662),o=i(1654);e.exports={initialize:s,update:o,destroy:n}},function(e,t,i){"use strict";var n=i(1)(i(10)),s=i(474),o=i(1068),r=i(127),a=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=r.PaymentCompletedTitle,i.body=function(){return new o({app:i.app,invoice:i.invoice})},i.footer=[{label:r.ThankYouBtn,hide:!0,color:"blue",defaultAction:!0}],i}return(0,n.default)(t,e),t}(s);e.exports=a},function(e,t){e.exports=function(e){return'<div class="browser-validation"><div class="browser-validation__old-browser _old-browser-block"><a class="browser-validation__link" href="'+e.url+'" target="blank">'+e.message+'</a><a class="browser-validation__link browser-validation__menu _close">'+this.tr("Close")+'</a><a class="browser-validation__link browser-validation__menu _donot-show">'+this.tr("Do not show again")+'</a></div><noscript><span class="browser-validation__nojs _noscript">'+this.tr("Current page requires JavaScript, this web browser either does not support JavaScript, or scripts are being blocked.<br>Please turn on JavaScript or use different browser.")+"</span></noscript></div>"}},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(471),o=i(63),r=i(11).systemErrorMessages,a=i(1669);e.exports=s.extend({name:"BrowserValidation",el:!1,validationFaild:!1,cookieName:"oldIeDoNotShow",template:a,events:{"click ._close":"closeMessage","click ._donot-show":"doNotShow"},prepareRender:function(){if(t.browser){var e=/MSIE ([0-9.]+);/gi.exec(navigator.userAgent);e&&parseInt(e[1],10)<9&&!o.get(this.cookieName)&&(this.validationFaild=!0)}},clientAfterRender:function(){this.validationFaild?this.$el.animate({height:30},1e3):this.$el.remove()},serialize:function(){return this.validationFaild?{message:this.tr(n.findWhere(r,{key:"wrongBrowser"}).label),url:"http://windows.microsoft.com/en-US/internet-explorer/products/ie/home"}:{message:"",url:""}},closeMessage:function(){var e=this;this.$el.animate({height:0},1e3,function(){return e.$el.remove()})},doNotShow:function(){o.set(this.cookieName,!0,{expires:"1Y"}),this.closeMessage()}})}).call(this,i(5))},function(e,t){e.exports=function(e){var t='<div class="'+e.className+'"><div class="tour__pointer-box _hole" style="width: '+e.hole.width+"; height: "+e.hole.height+'"> <i class="tour__pointer" style="border-radius: '+e.hole.borderRadius+'"> <i class="tour__wave-animation-box"> <i class="tour__wave-animation"></i> </i> </i> </div><div class="tour__arrow _arrow"><svg xmlns="http://www.w3.org/2000/svg" class="tour__arrow-pointer _arrow-pointer"><polyline points="0,16 0,0 16,0" viewBox="0 0 16 16" /></svg><svg xmlns="http://www.w3.org/2000/svg" class="_arrow-body"><path /></svg> </div><div class="tour__content-box _tour-content"><div class="tour__content"><h2 class="tour__content-title">'+this.tr(e.content.title)+'</h2><p  class="tour__content-para">'+this.tr(e.content.body)+'</p></div><div class="tour__buttons-box _buttons-box"> ';return e.content.prevBtn&&(t+=' <a class="button button-xxxl button-green button_tour _button-prev">'+this.tr(e.content.prevBtn)+"</a> "),t+=" ",e.content.nextBtn&&(t+=' <a class="button button-xxxl button-green button_tour _button-next">'+this.tr(e.content.nextBtn)+"</a> "),t+=" ",e.content.endBtn&&(t+=' <a class="button button-xxxl button-green button_tour _button-end">'+this.tr(e.content.endBtn)+"</a> "),t+=" </div></div></div>"}},function(e,t,i){"use strict";e.exports={searchByImage:function(e){return{routes:["Search"],delay:2e3,steps:[{selector:"._search-images .search-bar__see-more-images-icon",className:"tour _tour",hole:{height:80,width:80,borderRadius:9999},arrow:{pointerOffset:115,tailVOffset:30,tailHOffset:0,roundness:.85,concave:!1,tempRoundessCalibration:1.5,tempContentAngleCalibration:1.2},content:{title:e.translator.tr("Try Our New Search by Image!",[],e.lang||"en"),body:e.translator.tr("Now we can understand you without words!",[],e.lang||"en"),verticalOffset:214,horizontalOffset:245,endBtn:e.translator.tr("Get Started",[],e.lang||"en"),prevBtn:null,nextBtn:null,verticalAlignment:"bottom",horizontalAlignment:"right"}}]}},wideLayout:function(e){return{routes:["Search"],delay:2e3,steps:[{selector:".search-box__layout .button-layout-wide",className:"tour _tour tour_layout-wide",hole:{height:50,width:50,borderRadius:9999},arrow:{pointerOffset:115,tailVOffset:30,tailHOffset:0,roundness:.85,concave:!1,tempRoundessCalibration:1.5,tempContentAngleCalibration:1.2},content:{title:e.translator.tr("Try the large thumbnail view!",[],e.lang||"en"),body:e.translator.tr("Finding images is now easier and much faster.",[],e.lang||"en"),verticalOffset:314,horizontalOffset:445,endBtn:e.translator.tr("Get Started",[],e.lang||"en"),prevBtn:null,nextBtn:null,verticalAlignment:"bottom",horizontalAlignment:"left"}}]}}}},function(e,t,i){"use strict";(function(t){var n=i(0),s=i(16).$,o=i(471),r=i(9),a=i(48).extend({model:r}),l=i(1672),c=i(126),h=i(477),u=i(1671);e.exports=o.extend({name:"Tour",el:!1,template:u,opened:!1,tourId:null,globals:{"resize window":"onWindowResize","scroll window":"onWindowScroll"},events:{"click ._button-next":"onNextClick","click ._button-prev":"onPrevClick","click ._button-end":"onEndClick","mousedown ._hole, ._arrow, .tour__content":"highlightButtons"},serialize:function(){var e=this.getActiveModel().toJSON();return e.hole.borderRadius=this.prepareBorderRadius(e.hole.borderRadius),e},clientAfterRender:function(){h(this.$el,Backbone.$),this.syncPosition()},syncPosition:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(n.isUndefined(t)){this.currentTargetCoordinates=this.getTargetCoordinates();this.syncTimer=setTimeout(function t(){e.syncPositionLegacy(),setTimeout(t,500)},500)}else{var i=document.querySelector("._bar");i&&(this.observer=new t(function(){return e.setPositions()}),this.observer.observe(i,{attributes:!0,subtree:!0}))}},syncPositionLegacy:function(){var e=this.getTargetCoordinates();if(!n.isEqual(this.currentTargetCoordinates,e)){var t={};n.each(this.getTargetCoordinates(),function(i,n){t[n]=e[n]-this.currentTargetCoordinates[n],t[n]<0?t[n]="-="+-1*t[n]:t[n]="+="+t[n]},this),this.$("._hole, ._arrow-pointer, ._arrow-body, ._tour-content").animate(t,200),this.currentTargetCoordinates=this.getTargetCoordinates()}},stopSyncPosition:function(){this.observer?this.observer.disconnect():clearTimeout(this.syncTimer)},updateUserSettings:function(){var e=s.extend(!0,{},this.app.userSettings.get("Tour"));e[this.tourId]=!0,this.app.userSettings.set("Tour",e)},start:function(e){var t=this;return this.isAllowedToStart(e)?(this.waitFor(this.getConfig(e.name).delay).then(function(){return t.startTour(e)}),!0):this.remove()},getConfig:function(e){return n.isFunction(l[e])?l[e](this.app):null},startTour:function(e){return this.isAllowedToStart(e)?(this.collection=new a(this.getConfig(e.name).steps),this.listenTo(this.collection,"change",this.onCollectionChange),this.tourId=e.name,this.changeActiveModel(0),s(".wrapper").addClass("not-selectable"),!0):this.remove()},onCollectionChange:function(){this.isTargetVisible()?(this.isOpen()||(this.opened=!0,this.updateUserSettings(),this.app.observer.fire("Tooltip:GlobalHide",{cid:"all"})),this.open()):this.close()},open:function(){var e=this;this.render().promise().then(function(){var t=document.getElementById(e.cid);t?s(t).replaceWith(e.el):s(".wrapper").prepend(e.el),s("input").blur(),e.setPositions()})},close:function(){var e=this;this.tourId=null,this.opened=!1,this.stopListening(),this.stopSyncPosition(),clearTimeout(this.showTimeout),this.$el&&this.$el.fadeOut(300,function(){return e.remove()}),s(".wrapper").removeClass("not-selectable"),this.app.observer.fire("Tour:End")},waitFor:function(e){this.def=s.Deferred();var t=n.isUndefined(e)?0:e;return clearTimeout(this.showTimeout),this.showTimeout=n.delay(this.def.resolve,t),this.def},getActiveModel:function(){return this.collection.findWhere({active:!0})},changeActiveModel:function(e){var t=this.getActiveModel();t&&t.set({active:!1},{silent:!0}),e>-1&&e<this.collection.length&&this.collection.at(e).set({active:!0})},isAllowedToStart:function(e){var t=this.getConfig(e.name);if(!t)throw new Error("Tour config not found. Tour name: "+e.name);return!!n.contains(t.routes,this.app.router.routeName)&&(!s("._modal").length&&((!this.app.userSettings.get("Tour")||!this.app.userSettings.get("Tour")[e.name])&&(!!this.app.features.isFeatureOnValue("Tour",e.name)&&(!this.isOpen()&&(this.app.observer.fire("Tour:Allowed",{name:e.name}),!0)))))},isOpen:function(){return this.opened},getTarget:function(){var e=this.getActiveModel();return e?s(e.get("selector")):null},isTargetVisible:function(){var e=this.getTarget();if(!e||!e[0]||!e.is(":visible"))return!1;var t=e[0].getBoundingClientRect();return t.top>5&&t.left>5},getTargetCoordinates:function(){var e=this.getTarget();return{top:e.offset().top+e.outerHeight()/2,left:e.offset().left+e.outerWidth()/2}},onWindowResize:n.throttle(function(){this.setPositions()},10),onWindowScroll:n.throttle(function(){t.browser&&c.mobileMode()&&this.isOpen()&&this.close()},10),setPositions:function(){this.isOpen()&&(this.isTargetVisible()?(this.setHolePosition(),this.setContentVPosition(),this.setContentHPosition(),this.drawArrow()):this.close())},prepareBorderRadius:function(e){return 9999===e?"50%":e+"px"},setHolePosition:function(){var e=this.getTargetCoordinates(),t=this.getActiveModel().get("hole");this.$("._hole").css({top:e.top+"px",left:e.left+"px",width:t.width+"px",height:t.height+"px"})},setContentHPosition:function(){var e=this.getContentPosition(),t={left:e.left+"px"};e.right>s(document).width()&&(t={left:"auto",right:"10px"}),e.left<0&&(t={left:"10px",right:"auto"}),this.$("._tour-content").css(t)},setContentVPosition:function(){this.$("._tour-content").css({top:this.getContentPosition().top})},getContentPosition:function(){var e=this.getTargetCoordinates(),t=n.clone(this.getActiveModel().get("content"));return"left"===t.horizontalAlignment?t.horizontalOffset*=-1:"center"===t.horizontalAlignment&&(t.horizontalOffset*=0),"top"===t.verticalAlignment&&(t.verticalOffset*=-1,t.verticalOffset-=this.$("._tour-content").outerHeight()),{top:e.top+t.verticalOffset,left:e.left+t.horizontalOffset-this.$("._tour-content").outerWidth()/2,right:e.left+t.horizontalOffset+this.$("._tour-content").outerWidth()/2}},drawArrow:function(){var e=this.getTargetCoordinates(),t=n.clone(this.getActiveModel().get("arrow")),i=this.getActiveModel().get("content");"left"===i.horizontalAlignment?t.tailHOffset*=-1:"center"===i.horizontalAlignment&&(t.tailHOffset*=0),"top"===i.verticalAlignment&&(t.tailVOffset*=-1,t.tailVOffset-=this.$("._tour-content").outerHeight());var s=this.$("._tour-content").offset().top-t.tailVOffset,o=this.$("._tour-content").offset().left+this.$("._tour-content").outerWidth()/2-t.tailHOffset,r=Math.atan2(o-e.left,s-e.top)*t.tempContentAngleCalibration,a=Math.cos(r)*t.pointerOffset,l=Math.sin(r)*t.pointerOffset,c={top:e.top+a,left:e.left+l},h=o-c.left,u=s-c.top;t.concave&&(t.roundness*=-1);var p={top:u/2-u/2*(t.roundness/t.tempRoundessCalibration),left:h/2+h/2*(t.roundness/t.tempRoundessCalibration)};this.$("._arrow-body").css({top:c.top+"px",left:c.left+"px",width:h+"px",height:u+"px"}),this.$("._arrow-body path").attr("d","M0,0 Q"+p.left+","+p.top+" "+h+","+u),this.setArrowPointer(c,p,i)},setArrowPointer:function(e,t,i){var s=n.clone(this.getActiveModel().get("arrow"));"center"===i.horizontalAlignment&&(s.tailHOffset*=0);var o=180*Math.atan2(t.top,t.left)/Math.PI;this.$("._arrow-pointer").css({top:e.top,left:e.left,transform:"rotate("+(-45+o)+"deg)"})},highlightButtons:function(){var e=s("._buttons-box").removeClass("highlight");clearTimeout(this.highlightTimeout),this.highlightTimeout=setTimeout(function(){return e.addClass("highlight")},10)},onNextClick:function(){this.changeActiveModel(this.collection.indexOf(this.getActiveModel())+1)},onPrevClick:function(){this.changeActiveModel(this.collection.indexOf(this.getActiveModel())-1)},onEndClick:function(){var e=this;n.delay(function(){return e.close()},300)}})}).call(this,i(5))},function(e,t,i){(function(n){var s,o,r;r="object"==typeof self&&self.self==self&&self||"object"==typeof n&&n.global==n&&n,s=[i(0),i(101),t],void 0===(o=function(e,t,i){r.Backbone=function(e,t,i,n){var s=e.Backbone,o=Array.prototype.slice;t.VERSION="1.2.3",t.$=n,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var r=function(e,t,n){i.each(t,function(t,s){i[s]&&(e.prototype[s]=function(e,t,n){switch(e){case 1:return function(){return i[t](this[n])};case 2:return function(e){return i[t](this[n],e)};case 3:return function(e,s){return i[t](this[n],a(e,this),s)};case 4:return function(e,s,o){return i[t](this[n],a(e,this),s,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[n]),i[t].apply(i,e)}}}(t,s,n))})},a=function(e,t){return i.isFunction(e)?e:i.isObject(e)&&!t._isModel(e)?l(e):i.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=i.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},h=/\s+/,u=function(e,t,n,s,o){var r,a=0;if(n&&"object"==typeof n){void 0!==s&&"context"in o&&void 0===o.context&&(o.context=s);for(r=i.keys(n);a<r.length;a++)t=u(e,t,r[a],n[r[a]],o)}else if(n&&h.test(n))for(r=n.split(h);a<r.length;a++)t=e(t,r[a],s,o);else t=e(t,n,s,o);return t};c.on=function(e,t,i){return p(this,e,t,i)};var p=function(e,t,i,n,s){if(e._events=u(d,e._events||{},t,i,{context:n,ctx:e,listening:s}),s){var o=e._listeners||(e._listeners={});o[s.id]=s}return e};c.listenTo=function(e,t,n){if(!e)return this;var s=e._listenId||(e._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),r=o[s];if(!r){var a=this._listenId||(this._listenId=i.uniqueId("l"));r=o[s]={obj:e,objId:s,id:a,listeningTo:o,count:0}}return p(e,t,n,this,r),this};var d=function(e,t,i,n){if(i){var s=e[t]||(e[t]=[]),o=n.context,r=n.ctx,a=n.listening;a&&a.count++,s.push({callback:i,context:o,ctx:o||r,listening:a})}return e};c.off=function(e,t,i){return this._events?(this._events=u(f,this._events,e,t,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(e,t,n){var s=this._listeningTo;if(!s)return this;for(var o=e?[e._listenId]:i.keys(s),r=0;r<o.length;r++){var a=s[o[r]];if(!a)break;a.obj.off(t,n,this)}return i.isEmpty(s)&&(this._listeningTo=void 0),this};var f=function(e,t,n,s){if(e){var o,r=0,a=s.context,l=s.listeners;if(t||n||a){for(var c=t?[t]:i.keys(e);r<c.length;r++){t=c[r];var h=e[t];if(!h)break;for(var u=[],p=0;p<h.length;p++){var d=h[p];n&&n!==d.callback&&n!==d.callback._callback||a&&a!==d.context?u.push(d):(o=d.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}u.length?e[t]=u:delete e[t]}return i.size(e)?e:void 0}for(var f=i.keys(l);r<f.length;r++)o=l[f[r]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(e,t,n){var s=u(m,{},e,t,i.bind(this.off,this));return this.on(s,void 0,n)},c.listenToOnce=function(e,t,n){var s=u(m,{},t,n,i.bind(this.stopListening,this,e));return this.listenTo(e,s)};var m=function(e,t,n,s){if(n){var o=e[t]=i.once(function(){s(t,o),n.apply(this,arguments)});o._callback=n}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),i=Array(t),n=0;n<t;n++)i[n]=arguments[n+1];return u(g,this._events,e,void 0,i),this};var g=function(e,t,i,n){if(e){var s=e[t],o=e.all;s&&o&&(o=o.slice()),s&&b(s,n),o&&b(o,[t].concat(n))}return e},b=function(e,t){var i,n=-1,s=e.length,o=t[0],r=t[1],a=t[2];switch(t.length){case 0:for(;++n<s;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o,r);return;case 3:for(;++n<s;)(i=e[n]).callback.call(i.ctx,o,r,a);return;default:for(;++n<s;)(i=e[n]).callback.apply(i.ctx,t);return}};c.bind=c.on,c.unbind=c.off,i.extend(t,c);var _=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!i.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var s;if("object"==typeof e?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;var o=n.unset,r=n.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,h=this.changed,u=this._previousAttributes;for(var p in s)t=s[p],i.isEqual(c[p],t)||a.push(p),i.isEqual(u[p],t)?delete h[p]:h[p]=t,o?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!r){a.length&&(this._pending=n);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,c[a[d]],n)}if(l)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!i.isEmpty(this.changed):i.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&i.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,n={};for(var s in e){var o=e[s];i.isEqual(t[s],o)||(n[s]=o)}return!!i.size(n)&&n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){var t=this,n=(e=i.extend({parse:!0},e)).success;return e.success=function(i){var s=e.parse?t.parse(i,e):i;if(!t.set(s,e))return!1;n&&n.call(e.context,t,i,e),t.trigger("sync",t,i,e)},O(this,e),this.sync("read",this,e)},save:function(e,t,n){var s;null==e||"object"==typeof e?(s=e,n=t):(s={})[e]=t;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(s&&!o){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var r=this,a=n.success,l=this.attributes;n.success=function(e){r.attributes=l;var t=n.parse?r.parse(e,n):e;if(o&&(t=i.extend({},s,t)),t&&!r.set(t,n))return!1;a&&a.call(n.context,r,e,n),r.trigger("sync",r,e,n)},O(this,n),s&&o&&(this.attributes=i.extend({},l,s));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=s);var h=this.sync(c,this,n);return this.attributes=l,h},destroy:function(e){var t=this,n=(e=e?i.clone(e):{}).success,s=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(i){s&&o(),n&&n.call(e.context,t,i,e),t.isNew()||t.trigger("sync",t,i,e)};var r=!1;return this.isNew()?i.defer(e.success):(O(this,e),r=this.sync("delete",this,e)),s||o(),r},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||N();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,i.extend(t,{validationError:n})),!1)}}),r(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var v=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,i.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(e,t,i){i=Math.min(Math.max(i,0),e.length);for(var n=Array(e.length-i),s=t.length,o=0;o<n.length;o++)n[o]=e[o+i];for(o=0;o<s;o++)e[o+i]=t[o];for(o=0;o<n.length;o++)e[o+s+i]=n[o]};i.extend(v.prototype,c,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:!1},t,w))},remove:function(e,t){t=i.extend({},t);var n=!i.isArray(e);e=n?[e]:i.clone(e);var s=this._removeModels(e,t);return!t.silent&&s&&this.trigger("update",this,t),n?s[0]:s},set:function(e,t){if(null!=e){(t=i.defaults({},t,y)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var n=!i.isArray(e);e=n?[e]:e.slice();var s=t.at;null!=s&&(s=+s),s<0&&(s+=this.length+1);for(var o,r=[],a=[],l=[],c={},h=t.add,u=t.merge,p=t.remove,d=!1,f=this.comparator&&null==s&&!1!==t.sort,m=i.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){o=e[g];var b=this.get(o);if(b){if(u&&o!==b){var _=this._isModel(o)?o.attributes:o;t.parse&&(_=b.parse(_,t)),b.set(_,t),f&&!d&&(d=b.hasChanged(m))}c[b.cid]||(c[b.cid]=!0,r.push(b)),e[g]=b}else h&&(o=e[g]=this._prepareModel(o,t))&&(a.push(o),this._addReference(o,t),c[o.cid]=!0,r.push(o))}if(p){for(g=0;g<this.length;g++)o=this.models[g],c[o.cid]||l.push(o);l.length&&this._removeModels(l,t)}var v=!1,w=!f&&h&&p;if(r.length&&w?(v=this.length!=r.length||i.some(this.models,function(e,t){return e!==r[t]}),this.models.length=0,x(this.models,r,0),this.length=this.models.length):a.length&&(f&&(d=!0),x(this.models,a,null==s?this.length:s),this.length=this.models.length),d&&this.sort({silent:!0}),!t.silent){for(g=0;g<a.length;g++)null!=s&&(t.index=s+g),(o=a[g]).trigger("add",o,this,t);(d||v)&&this.trigger("sort",this,t),(a.length||l.length)&&this.trigger("update",this,t)}return n?e[0]:e}},reset:function(e,t){t=t?i.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return i.isFunction(t)&&(t=i.bind(t,this)),1===n||i.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){var t=(e=i.extend({parse:!0},e)).success,n=this;return e.success=function(i){var s=e.reset?"reset":"set";n[s](i,e),t&&t.call(e.context,n,i,e),n.trigger("sync",n,i,e)},O(this,e),this.sync("read",this,e)},create:function(e,t){var n=(t=t?i.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;n||this.add(e,t);var s=this,o=t.success;return t.success=function(e,t,i){n&&s.add(e,i),o&&o.call(i.context,e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?i.clone(t):{}).collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var i=[],n=0;n<e.length;n++){var s=this.get(e[n]);if(s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),i.push(s),this._removeReference(s,t)}}return!!i.length&&i},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var i=this.modelId(e.attributes);null!=i&&(this._byId[i]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var i=this.modelId(e.attributes);null!=i&&delete this._byId[i],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if("add"!==e&&"remove"!==e||i===this){if("destroy"===e&&this.remove(t,n),"change"===e){var s=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);s!==o&&(null!=s&&delete this._byId[s],null!=o&&(this._byId[o]=t))}this.trigger.apply(this,arguments)}}}),r(v,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var C=t.View=function(e){this.cid=i.uniqueId("view"),i.extend(this,i.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];i.extend(C.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=i.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(i.isFunction(n)||(n=this[n]),n){var s=t.match(k);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(e,t,i){return this.$el.on(e+".delegateEvents"+this.cid,t,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,i){return this.$el.off(e+".delegateEvents"+this.cid,t,i),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var e=i.extend({},i.result(this,"attributes"));this.id&&(e.id=i.result(this,"id")),this.className&&(e.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,n,s){var o=P[e];i.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:o,dataType:"json"};if(s.url||(r.url=i.result(n,"url")||N()),null!=s.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",s.emulateJSON&&(r.data._method=o);var a=s.beforeSend;s.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===r.type||s.emulateJSON||(r.processData=!1);var l=s.error;s.error=function(e,t,i){s.textStatus=t,s.errorThrown=i,l&&l.call(s.context,e,t,i)};var c=s.xhr=t.ajax(i.extend(r,s));return n.trigger("request",n,c,s),c};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,M=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(T.prototype,c,{initialize:function(){},route:function(e,n,s){i.isRegExp(e)||(e=this._routeToRegExp(e)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var o=this;return t.history.route(e,function(i){var r=o._extractParameters(e,i);!1!==o.execute(s,r,n)&&(o.trigger.apply(o,["route:"+n].concat(r)),o.trigger("route",n,r),t.history.trigger("route",o,n,r))}),this},execute:function(e,t,i){e&&e.apply(this,t)},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var e,t=i.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(A,"(?:$1)?").replace(I,function(e,t){return t?e:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var L=t.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,D=/#.*$/;L.started=!1,i.extend(L.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(R,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=i.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace($,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),i.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!L.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var i=this.root;""!==e&&"?"!==e.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+e;if(e=this.decodeFragment(e.replace(D,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;t.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new L,_.extend=v.extend=T.extend=C.extend=L.extend=function(e,t){var n,s=this;n=e&&i.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,t);var o=function(){this.constructor=n};return o.prototype=s.prototype,n.prototype=new o,e&&i.extend(n.prototype,e),n.__super__=s.prototype,n};var N=function(){throw new Error('A "url" property or function must be specified')},O=function(e,t){var i=t.error;t.error=function(n){i&&i.call(t.context,e,n,t),e.trigger("error",e,n,t)}};return t}(r,i,e,t)}.apply(t,s))||(e.exports=o)}).call(this,i(106))}])]);